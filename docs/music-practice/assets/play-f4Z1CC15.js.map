{"version":3,"file":"play-f4Z1CC15.js","sources":["../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/clock.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/flame.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/heart.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/skip-forward.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/target.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/trending-up.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/trophy.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/volume-2.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/x.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/constant.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/math.js","../../../node_modules/.pnpm/d3-path@3.1.0/node_modules/d3-path/src/path.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/path.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/arc.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/array.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/linear.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/point.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/line.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/area.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/descending.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/identity.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/pie.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/radial.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/lineRadial.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/areaRadial.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/pointRadial.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/bump.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/link.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/asterisk.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/circle.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/cross.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/diamond.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/diamond2.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/plus.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/square.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/square2.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/star.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/triangle.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/triangle2.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/wye.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/times.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/noop.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/basis.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/basisClosed.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/basisOpen.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/bundle.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/cardinal.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/cardinalClosed.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/cardinalOpen.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/catmullRom.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/catmullRomClosed.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/catmullRomOpen.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/linearClosed.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/monotone.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/natural.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/step.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/none.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/none.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/stack.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/expand.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/diverging.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/silhouette.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/wiggle.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/appearance.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/ascending.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/descending.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/insideOut.js","../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/reverse.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackClear.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackDelete.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackGet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackHas.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackSet.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Stack.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arraySome.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalArrays.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Uint8Array.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapToArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalByTag.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayPush.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetAllKeys.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayFilter.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbols.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overArg.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeys.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeys.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeys.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalObjects.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_DataView.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Promise.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_WeakMap.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getTag.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqualDeep.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqual.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/ascending.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/descending.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/bisector.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/number.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/bisect.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/blur.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/count.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/cross.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/cumsum.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/variance.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/deviation.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/extent.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/fsum.js","../../../node_modules/.pnpm/internmap@2.0.3/node_modules/internmap/src/index.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/identity.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/group.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/permute.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/sort.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/groupSort.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/array.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/constant.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/ticks.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/nice.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/threshold/sturges.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/bin.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/max.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/maxIndex.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/min.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/minIndex.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/quickselect.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/greatest.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/quantile.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/threshold/freedmanDiaconis.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/threshold/scott.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/mean.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/median.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/merge.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/mode.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/pairs.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/range.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/rank.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/least.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/leastIndex.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/greatestIndex.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/scan.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/shuffle.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/sum.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/transpose.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/zip.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/every.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/some.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/filter.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/map.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/reduce.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/reverse.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/difference.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/disjoint.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/intersection.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/superset.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/subset.js","../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/union.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/init.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/ordinal.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/band.js","../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js","../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js","../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/math.js","../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/lab.js","../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/cubehelix.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basis.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basisClosed.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/constant.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/color.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/rgb.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/numberArray.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/array.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/date.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/object.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/string.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/value.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/discrete.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/hue.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/round.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/decompose.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/parse.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/index.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/zoom.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/hsl.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/lab.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/hcl.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/cubehelix.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/piecewise.js","../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/quantize.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/constant.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/number.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/continuous.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatDecimal.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/exponent.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatGroup.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatNumerals.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatSpecifier.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatTrim.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatPrefixAuto.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatRounded.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatTypes.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/identity.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/locale.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/defaultLocale.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionFixed.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionPrefix.js","../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionRound.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/tickFormat.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/linear.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/identity.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/nice.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/log.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/symlog.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/pow.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/radial.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/quantile.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/quantize.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/threshold.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/interval.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/millisecond.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/duration.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/second.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/minute.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/hour.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/day.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/week.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/month.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/year.js","../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/ticks.js","../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/locale.js","../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/defaultLocale.js","../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/isoFormat.js","../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/isoParse.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/time.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/utcTime.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/sequential.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/sequentialQuantile.js","../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/diverging.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js","../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/factoryWithThrowingShims.js","../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js","../../../apps/music-practice/src/lib/input/midi-manager.ts","../../../apps/music-practice/src/lib/notation/staff-renderer.ts","../../../apps/music-practice/src/lib/notation/tab-renderer.ts","../../../apps/music-practice/src/lib/utils/audio-playback.ts","../../../apps/music-practice/src/lib/game/note-range.ts","../../../apps/music-practice/src/lib/game/render-note.ts","../../../apps/music-practice/src/lib/utils/scoring.ts","../../../apps/music-practice/src/hooks/use-game-round.tsx","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/version.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-extended-exponential-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-extended-linear-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-set-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-set-value-curve-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/get-target-value-at-time.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/exponential-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/linear-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/any-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/set-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/set-value-curve-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/get-value-of-automation-event-at-index-at-time.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/get-end-time-and-value-of-previous-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/cancel-and-hold-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/cancel-scheduled-values-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/get-event-time.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/get-exponential-ramp-value-at-time.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/get-linear-ramp-value-at-time.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/interpolate-value.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/get-value-curve-value-at-time.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/guards/set-target-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/classes/automation-event-list.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-cancel-and-hold-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-cancel-scheduled-values-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-exponential-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-linear-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@7.1.13/node_modules/automation-events/build/es2019/functions/create-set-target-automation-event.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/abort-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-active-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-audio-node-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-audio-param-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/globals.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/is-constructible.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/split-import-statements.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-audio-worklet-module.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-value-for-key.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/pick-element-from-set.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/delete-passive-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-event-listeners-of-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-active.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/audio-worklet-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-passive.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-passive-when-necessary.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-passive-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-silent-connection.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/add-unrendered-audio-worklet-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/analyser-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/is-owned-by-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/analyser-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/index-size-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-get-channel-data-method.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/constants.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/is-active-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-source-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/audio-buffer-source-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/biquad-filter-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/constant-source-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/gain-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/oscillator-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/stereo-panner-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-audio-node-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-audio-param-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/deactivate-active-audio-node-input-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/deactivate-audio-graph.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/is-valid-latency-hint.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-destination-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-destination-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-listener-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/audio-node-output-connection.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/insert-element-in-set.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/add-active-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/add-passive-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/native-audio-node-faker.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/connect-native-audio-node-to-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/delete-active-input-connection.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/delete-active-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/delete-event-listeners-of-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/delete-passive-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/disconnect-native-audio-node-from-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-native-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/is-part-of-a-cycle.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/is-passive-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-node-disconnect-method-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/visit-each-audio-node-once.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-node-disconnect-method.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-param-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-param-renderer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/read-only-map.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-worklet-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/copy-from-channel.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/copy-to-channel.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/create-nested-arrays.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-audio-worklet-processor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/audio-worklet-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/base-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/biquad-filter-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/biquad-filter-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/cache-test-result.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/channel-merger-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/channel-merger-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/channel-splitter-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/channel-splitter-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/connect-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/connect-multiple-outputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/connected-native-audio-buffer-source-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/constant-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/constant-source-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/convert-number-to-unsigned-long.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/convolver-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/convolver-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/create-native-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/data-clone-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/detach-array-buffer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/decode-audio-data.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/decrement-cycle-counter.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/delay-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/delay-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/delete-active-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/delete-unrendered-audio-worklet-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/guards/delay-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/detect-cycles.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/disconnect-multiple-outputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/dynamics-compressor-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/dynamics-compressor-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/encoding-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/evaluate-source.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/event-target-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/expose-current-frame-and-current-time.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/fetch-source.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/gain-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/gain-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-active-audio-worklet-node-inputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-audio-node-renderer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-audio-node-tail-time.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-audio-param-renderer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-backup-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/invalid-state-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-native-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-or-create-backup-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/get-unrendered-audio-worklet-nodes.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/invalid-access-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-iir-filter-node-get-frequency-response-method.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/iir-filter-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/filter-buffer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/iir-filter-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/increment-cycle-counter-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-any-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-any-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-any-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-any-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-native-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-native-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/is-secure-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/media-element-audio-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/media-stream-audio-destination-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/media-stream-audio-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/media-stream-track-audio-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/minimal-base-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-promise-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/monitor-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-option.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-analyser-node-get-float-time-domain-data-method-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-analyser-node-get-float-time-domain-data-method.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-analyser-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-audio-buffer-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-audio-param-value.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-audio-buffer-source-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-audio-destination-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-clonability-of-audio-worklet-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/compute-buffer-size.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/clone-audio-worklet-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/create-audio-worklet-processor-promise.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/create-audio-worklet-processor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-biquad-filter-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-channel-merger-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-channel-splitter-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-channel-splitter-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-constant-source-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/intercept-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-constant-source-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-convolver-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-delay-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-dynamics-compressor-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-gain-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-iir-filter-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-iir-filter-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-media-element-audio-source-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-media-stream-audio-destination-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-media-stream-audio-source-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-media-stream-track-audio-source-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-offline-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-oscillator-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-panner-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-panner-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-periodic-wave-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-script-processor-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-stereo-panner-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-stereo-panner-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-wave-shaper-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/native-wave-shaper-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/not-supported-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/offline-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/oscillator-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/oscillator-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/panner-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/panner-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/periodic-wave-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/render-automation.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/render-inputs-of-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/render-inputs-of-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/render-native-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/set-active-audio-worklet-node-inputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/set-audio-node-tail-time.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/start-rendering.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/stereo-panner-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/stereo-panner-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/test-audio-buffer-constructor-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/test-audio-worklet-processor-post-message-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/test-offline-audio-context-current-time-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/unknown-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/wave-shaper-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/wave-shaper-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/window.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-copy-channel-methods.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/factories/wrap-channel-merger-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/get-first-sample.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/is-dc-curve.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/overwrite-accessors.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/sanitize-audio-worklet-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/sanitize-channel-splitter-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/sanitize-periodic-wave-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/set-value-at-time-until-possible.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-start-method-offset-clamping-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-worklet-node-options-clonability.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-source-node-start-method-offset-clamping.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/helpers/wrap-event-listener.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.77/node_modules/standardized-audio-context/build/es2019/module.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/TypeCheck.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Debug.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/AudioContext.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/Ticker.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/AdvancedTypeCheck.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Defaults.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/Tone.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Math.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Timeline.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/ContextInitialization.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Emitter.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/BaseContext.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/Context.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/DummyContext.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Interface.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/ToneAudioBuffer.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/OfflineContext.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/Global.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/type/Conversions.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/type/TimeBase.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/type/Time.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/type/Frequency.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/type/TransportTime.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/ToneWithContext.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/StateTimeline.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/Param.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/ToneAudioNode.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/Gain.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/OneShotSource.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/signal/ToneConstantSource.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/signal/Signal.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/TickParam.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/TickSignal.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/TickSource.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/Clock.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/channel/Volume.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/Destination.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/Listener.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/context/ToneAudioBuffers.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/type/Midi.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/type/Ticks.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Draw.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/IntervalTimeline.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/TimelineValue.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/signal/SignalOperator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/signal/WaveShaper.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/signal/Pow.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/TransportEvent.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/TransportRepeatEvent.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/clock/Transport.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/Source.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/buffer/ToneBufferSource.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/OscillatorInterface.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/ToneOscillatorNode.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/Oscillator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/signal/AudioToGain.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/signal/Multiply.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/AMOscillator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/FMOscillator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/PulseOscillator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/FatOscillator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/PWMOscillator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/oscillator/OmniOscillator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/util/Decorator.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/source/buffer/Player.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/envelope/Envelope.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/instrument/Instrument.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/instrument/Monophonic.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/envelope/AmplitudeEnvelope.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/instrument/Synth.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/instrument/MembraneSynth.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/worklet/WorkletGlobalScope.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/worklet/ToneAudioWorkletProcessor.worklet.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/worklet/SingleIOProcessor.worklet.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/core/worklet/DelayLine.worklet.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/filter/FeedbackCombFilter.worklet.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/instrument/PolySynth.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/instrument/Sampler.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/channel/Panner.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/effect/BitCrusher.worklet.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/channel/Solo.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/channel/PanVol.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/component/channel/Channel.js","../../../node_modules/.pnpm/tone@15.1.22/node_modules/tone/build/esm/index.js","../../../apps/music-practice/src/components/virtual-keyboard.tsx","../../../apps/music-practice/src/components/play/radial-timer.tsx","../../../apps/music-practice/src/components/lives-display.tsx","../../../apps/music-practice/src/components/play/score-hud.tsx","../../../node_modules/.pnpm/d3-axis@3.0.0/node_modules/d3-axis/src/identity.js","../../../node_modules/.pnpm/d3-axis@3.0.0/node_modules/d3-axis/src/axis.js","../../../node_modules/.pnpm/d3-dispatch@3.0.1/node_modules/d3-dispatch/src/dispatch.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespaces.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespace.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/creator.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selector.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/select.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/array.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectorAll.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectAll.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/matcher.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChild.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChildren.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/filter.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sparse.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/enter.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/constant.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/data.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/exit.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/join.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/merge.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/order.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sort.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/call.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/nodes.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/node.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/size.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/empty.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/each.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/attr.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/window.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/style.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/property.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/classed.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/text.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/html.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/raise.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/lower.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/append.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/insert.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/remove.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/clone.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/datum.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/on.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/dispatch.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/iterator.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/index.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/select.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/create.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/local.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/sourceEvent.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointer.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointers.js","../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectAll.js","../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/noevent.js","../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/nodrag.js","../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/constant.js","../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/event.js","../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/drag.js","../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timer.js","../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timeout.js","../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/interval.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/schedule.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/interrupt.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/interrupt.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/tween.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/interpolate.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attr.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attrTween.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/delay.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/duration.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/ease.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/easeVarying.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/filter.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/merge.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/on.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/remove.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/select.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selectAll.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selection.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/style.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/styleTween.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/text.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/textTween.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/transition.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/end.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/index.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/linear.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/quad.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/cubic.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/poly.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/sin.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/math.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/exp.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/circle.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/bounce.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/back.js","../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/elastic.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/transition.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/index.js","../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/active.js","../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/constant.js","../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/event.js","../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/noevent.js","../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/brush.js","../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/math.js","../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/chord.js","../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/array.js","../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/constant.js","../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/ribbon.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/array.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/ascending.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/area.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/constant.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/contains.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/noop.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/contours.js","../../../node_modules/.pnpm/d3-contour@4.0.2/node_modules/d3-contour/src/density.js","../../../node_modules/.pnpm/robust-predicates@3.0.2/node_modules/robust-predicates/esm/util.js","../../../node_modules/.pnpm/robust-predicates@3.0.2/node_modules/robust-predicates/esm/orient2d.js","../../../node_modules/.pnpm/delaunator@5.0.1/node_modules/delaunator/index.js","../../../node_modules/.pnpm/d3-delaunay@6.0.4/node_modules/d3-delaunay/src/path.js","../../../node_modules/.pnpm/d3-delaunay@6.0.4/node_modules/d3-delaunay/src/polygon.js","../../../node_modules/.pnpm/d3-delaunay@6.0.4/node_modules/d3-delaunay/src/voronoi.js","../../../node_modules/.pnpm/d3-delaunay@6.0.4/node_modules/d3-delaunay/src/delaunay.js","../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/dsv.js","../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/csv.js","../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/tsv.js","../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/autoType.js","../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/blob.js","../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/buffer.js","../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/text.js","../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/dsv.js","../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/image.js","../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/json.js","../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/xml.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/center.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/add.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/cover.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/data.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/extent.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/quad.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/find.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/remove.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/root.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/size.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/visit.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/visitAfter.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/x.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/y.js","../../../node_modules/.pnpm/d3-quadtree@3.0.1/node_modules/d3-quadtree/src/quadtree.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/constant.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/jiggle.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/collide.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/link.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/lcg.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/simulation.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/manyBody.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/radial.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/x.js","../../../node_modules/.pnpm/d3-force@3.0.0/node_modules/d3-force/src/y.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/math.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/noop.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/stream.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/area.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/cartesian.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/bounds.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/centroid.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/constant.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/compose.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/rotation.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/circle.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/buffer.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/pointEqual.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/rejoin.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/polygonContains.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/index.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/antimeridian.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/circle.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/line.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/rectangle.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/extent.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/length.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/distance.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/contains.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/graticule.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/interpolate.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/identity.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/area.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/bounds.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/centroid.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/context.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/measure.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/string.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/index.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/transform.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/fit.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/resample.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/index.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conic.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conicEqualArea.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/albers.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/albersUsa.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/azimuthal.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/mercator.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conicConformal.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/equirectangular.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conicEquidistant.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/equalEarth.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/gnomonic.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/identity.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/naturalEarth1.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/orthographic.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/stereographic.js","../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/transverseMercator.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/cluster.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/count.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/each.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/find.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/sum.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/sort.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/path.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/descendants.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/leaves.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/links.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/iterator.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/index.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/accessors.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/constant.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/lcg.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/array.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/pack/enclose.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/pack/siblings.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/pack/index.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/round.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/dice.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/partition.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/stratify.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/tree.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/slice.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/squarify.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/index.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/binary.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/sliceDice.js","../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/resquarify.js","../../../node_modules/.pnpm/d3-polygon@3.0.1/node_modules/d3-polygon/src/area.js","../../../node_modules/.pnpm/d3-polygon@3.0.1/node_modules/d3-polygon/src/centroid.js","../../../node_modules/.pnpm/d3-polygon@3.0.1/node_modules/d3-polygon/src/cross.js","../../../node_modules/.pnpm/d3-polygon@3.0.1/node_modules/d3-polygon/src/hull.js","../../../node_modules/.pnpm/d3-polygon@3.0.1/node_modules/d3-polygon/src/contains.js","../../../node_modules/.pnpm/d3-polygon@3.0.1/node_modules/d3-polygon/src/length.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/defaultSource.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/uniform.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/int.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/normal.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/logNormal.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/irwinHall.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/bates.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/exponential.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/pareto.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/bernoulli.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/geometric.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/gamma.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/beta.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/binomial.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/weibull.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/cauchy.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/logistic.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/poisson.js","../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/lcg.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/colors.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/category10.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Accent.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/observable10.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Paired.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Set1.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Set2.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Set3.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/ramp.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/constant.js","../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/event.js","../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/transform.js","../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/noevent.js","../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/zoom.js","../../../node_modules/.pnpm/react-gauge-chart@0.4.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-gauge-chart/dist/GaugeChart/customHooks.js","../../../node_modules/.pnpm/react-gauge-chart@0.4.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-gauge-chart/dist/GaugeChart/index.js","../../../node_modules/.pnpm/react-gauge-chart@0.4.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-gauge-chart/dist/index.js","../../../packages/audio-components/dist/index.js","../../../apps/music-practice/src/components/play/notation-card.tsx","../../../node_modules/.pnpm/tween-functions@1.2.0/node_modules/tween-functions/index.js","../../../node_modules/.pnpm/react-confetti@6.4.0_react@18.3.1/node_modules/react-confetti/dist/react-confetti.mjs","../../../apps/music-practice/src/components/score-summary.tsx","../../../apps/music-practice/src/components/play/score-summary-modal.tsx","../../../apps/music-practice/src/routes/play.tsx?tsr-split=component"],"sourcesContent":["/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Flame = createLucideIcon(\"Flame\", [\n  [\n    \"path\",\n    {\n      d: \"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\",\n      key: \"96xj49\"\n    }\n  ]\n]);\n\nexport { Flame as default };\n//# sourceMappingURL=flame.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Heart = createLucideIcon(\"Heart\", [\n  [\n    \"path\",\n    {\n      d: \"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\",\n      key: \"c3ymky\"\n    }\n  ]\n]);\n\nexport { Heart as default };\n//# sourceMappingURL=heart.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SkipForward = createLucideIcon(\"SkipForward\", [\n  [\"polygon\", { points: \"5 4 15 12 5 20 5 4\", key: \"16p6eg\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"5\", y2: \"19\", key: \"futhcm\" }]\n]);\n\nexport { SkipForward as default };\n//# sourceMappingURL=skip-forward.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Target = createLucideIcon(\"Target\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trophy = createLucideIcon(\"Trophy\", [\n  [\"path\", { d: \"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\", key: \"17hqa7\" }],\n  [\"path\", { d: \"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\", key: \"lmptdp\" }],\n  [\"path\", { d: \"M4 22h16\", key: \"57wxv0\" }],\n  [\"path\", { d: \"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\", key: \"1nw9bq\" }],\n  [\"path\", { d: \"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\", key: \"1np0yb\" }],\n  [\"path\", { d: \"M18 2H6v7a6 6 0 0 0 12 0V2Z\", key: \"u46fv3\" }]\n]);\n\nexport { Trophy as default };\n//# sourceMappingURL=trophy.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Volume2 = createLucideIcon(\"Volume2\", [\n  [\n    \"path\",\n    {\n      d: \"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",\n      key: \"uqj9uw\"\n    }\n  ],\n  [\"path\", { d: \"M16 9a5 5 0 0 1 0 6\", key: \"1q6k2b\" }],\n  [\"path\", { d: \"M19.364 18.364a9 9 0 0 0 0-12.728\", key: \"ijwkga\" }]\n]);\n\nexport { Volume2 as default };\n//# sourceMappingURL=volume-2.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, its probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point === 0) {\n      this._point = 1;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null,\n      output = null,\n      path = withPath(link);\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n","import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n","import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n","import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export function blur(values, r) {\n  if (!((r = +r) >= 0)) throw new RangeError(\"invalid r\");\n  let length = values.length;\n  if (!((length = Math.floor(length)) >= 0)) throw new RangeError(\"invalid length\");\n  if (!length || !r) return values;\n  const blur = blurf(r);\n  const temp = values.slice();\n  blur(values, temp, 0, length, 1);\n  blur(temp, values, 0, length, 1);\n  blur(values, temp, 0, length, 1);\n  return values;\n}\n\nexport const blur2 = Blur2(blurf);\n\nexport const blurImage = Blur2(blurfImage);\n\nfunction Blur2(blur) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let {data: values, width, height} = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== undefined ? height : values.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || (!rx && !ry)) return data;\n    const blurx = rx && blur(rx);\n    const blury = ry && blur(ry);\n    const temp = values.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    }\n    return data;\n  };\n}\n\nfunction blurh(blur, T, S, w, h) {\n  for (let y = 0, n = w * h; y < n;) {\n    blur(T, S, y, y += w, 1);\n  }\n}\n\nfunction blurv(blur, T, S, w, h) {\n  for (let x = 0, n = w * h; x < w; ++x) {\n    blur(T, S, x, x + n, w);\n  }\n}\n\nfunction blurfImage(radius) {\n  const blur = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur(T, S, start + 0, stop + 0, step);\n    blur(T, S, start + 1, stop + 1, step);\n    blur(T, S, start + 2, stop + 2, step);\n    blur(T, S, start + 3, stop + 3, step);\n  };\n}\n\n// Given a target array T, a source array S, sets each value T[i] to the average\n// of {S[i - r], , S[i], , S[i + r]}, where r = radius, start <= i < stop,\n// for each i, i + step, i + 2 * step, etc., and where S[j] is clamped between\n// S[start] (inclusive) and S[stop] (exclusive). If the given radius is not an\n// integer, S[i - r - 1] and S[i + r + 1] are added to the sum, each weighted\n// according to r - radius.\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s0)];\n      T[i] = (sum + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum -= S[Math.max(start, i - s0)];\n    }\n  };\n}\n\n// Like blurf, but optimized for integer radius.\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius * S[start];\n    const s = step * radius;\n    for (let i = start, j = start + s; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s)];\n      T[i] = sum / w;\n      sum -= S[Math.max(start, i - s)];\n    }\n  };\n}\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function identity(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function constant(x) {\n  return () => x;\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domains upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we dont\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n","import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function thresholdFreedmanDiaconis(values, min, max) {\n  const c = count(values), d = quantile(values, 0.75) - quantile(values, 0.25);\n  return c && d ? Math.ceil((max - min) / (2 * d * Math.pow(c, -1 / 3))) : 1;\n}\n","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import {InternMap} from \"internmap\";\n\nexport default function mode(values, valueof) {\n  const counts = new InternMap();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  }\n  let modeValue;\n  let modeCount = 0;\n  for (const [value, count] of counts) {\n    if (count > modeCount) {\n      modeCount = count;\n      modeValue = value;\n    }\n  }\n  return modeValue;\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\nimport {ascendingDefined, compareDefined} from \"./sort.js\";\n\nexport default function rank(values, valueof = ascending) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  let V = Array.from(values);\n  const R = new Float64Array(V.length);\n  if (valueof.length !== 2) V = V.map(valueof), valueof = ascending;\n  const compareIndex = (i, j) => valueof(V[i], V[j]);\n  let k, r;\n  values = Uint32Array.from(V, (_, i) => i);\n  // Risky chaining due to Safari 14 https://github.com/d3/d3-array/issues/123\n  values.sort(valueof === ascending ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex));\n  values.forEach((j, i) => {\n      const c = compareIndex(j, k === undefined ? j : k);\n      if (c >= 0) {\n        if (k === undefined || c > 0) k = j, r = i;\n        R[j] = r;\n      } else {\n        R[j] = NaN;\n      }\n    });\n  return R;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n","import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import min from \"./min.js\";\n\nexport default function transpose(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import transpose from \"./transpose.js\";\n\nexport default function zip() {\n  return transpose(arguments);\n}\n","export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n","export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n","export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n","import {InternSet} from \"internmap\";\n\nexport default function difference(values, ...others) {\n  values = new InternSet(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new InternSet();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function intersection(values, ...others) {\n  values = new InternSet(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n\nfunction set(values) {\n  return values instanceof InternSet ? values : new InternSet(values);\n}\n","export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    const io = intern(o);\n    if (set.has(io)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      const ivalue = intern(value);\n      set.add(ivalue);\n      if (Object.is(io, ivalue)) break;\n    }\n  }\n  return true;\n}\n\nfunction intern(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n","import {InternSet} from \"internmap\";\n\nexport default function union(...others) {\n  const set = new InternSet();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n","import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * MIDI Manager\n * Handles MIDI device connection, input detection, and note events\n */\n\nimport { midiToNoteName, midiToFrequency } from '../utils/music-theory';\n\n// Type definitions\nexport interface MIDIDevice {\n    id: string;\n    name: string;\n    manufacturer: string;\n    state: MIDIPortDeviceState;\n    connection: MIDIPortConnectionState;\n}\n\nexport interface NoteOnEvent {\n    note: number;\n    velocity: number;\n    noteName: string;\n    frequency: number;\n    timestamp: number;\n}\n\nexport interface NoteOffEvent {\n    note: number;\n    noteName: string;\n    timestamp: number;\n}\n\nexport interface DeviceChangeEvent {\n    connected?: boolean;\n    device?: MIDIInput | null;\n    type?: string;\n    port?: MIDIPort;\n}\n\nexport interface ErrorEvent {\n    message: string;\n}\n\ntype EventCallback<T> = (event: T) => void;\n\ninterface Listeners {\n    noteOn: EventCallback<NoteOnEvent>[];\n    noteOff: EventCallback<NoteOffEvent>[];\n    deviceChange: EventCallback<DeviceChangeEvent>[];\n    error: EventCallback<ErrorEvent>[];\n}\n\nexport type EventType = keyof Listeners;\n\nexport class MidiManager {\n    private midiAccess: MIDIAccess | null = null;\n    private selectedInput: MIDIInput | null = null;\n    private listeners: Listeners;\n    private activeNotes: Set<number>;\n\n    constructor() {\n        this.listeners = {\n            noteOn: [],\n            noteOff: [],\n            deviceChange: [],\n            error: []\n        };\n        this.activeNotes = new Set<number>();\n    }\n\n    /**\n     * Initialize MIDI access\n     */\n    async init(): Promise<boolean> {\n        try {\n            // Check for Web MIDI API support\n            if (!navigator.requestMIDIAccess) {\n                this.emitError('Web MIDI API is not supported in this browser. Try Chrome or Edge.');\n                return false;\n            }\n\n            // Request MIDI access\n            this.midiAccess = await navigator.requestMIDIAccess();\n\n            // Listen for device connections/disconnections\n            this.midiAccess.addEventListener('statechange', (e: Event) => {\n                this.handleStateChange(e as MIDIConnectionEvent);\n            });\n\n            // Initialize available devices\n            this.updateDeviceList();\n\n            console.log('MIDI initialized successfully');\n            return true;\n        } catch (error) {\n            console.error('Failed to initialize MIDI:', error);\n            this.emitError('Failed to access MIDI devices. Please check your browser permissions.');\n            return false;\n        }\n    }\n\n    /**\n     * Get list of available MIDI input devices\n     */\n    getInputDevices(): MIDIDevice[] {\n        if (!this.midiAccess) return [];\n\n        const devices: MIDIDevice[] = [];\n        for (const input of this.midiAccess.inputs.values()) {\n            devices.push({\n                id: input.id,\n                name: input.name || 'Unknown Device',\n                manufacturer: input.manufacturer || 'Unknown',\n                state: input.state,\n                connection: input.connection\n            });\n        }\n\n        return devices;\n    }\n\n    /**\n     * Connect to a specific MIDI input device\n     */\n    connectDevice(deviceId: string): boolean {\n        if (!this.midiAccess) {\n            console.error('MIDI not initialized');\n            return false;\n        }\n\n        // Disconnect current device\n        this.disconnectDevice();\n\n        // Get the input device\n        const input = this.midiAccess.inputs.get(deviceId);\n\n        if (!input) {\n            console.error('Device not found:', deviceId);\n            return false;\n        }\n\n        // Attach event listener\n        input.onmidimessage = (message: MIDIMessageEvent) => this.handleMidiMessage(message);\n\n        this.selectedInput = input;\n        this.emitDeviceChange({ connected: true, device: input });\n\n        console.log('Connected to MIDI device:', input.name);\n        return true;\n    }\n\n    /**\n     * Disconnect current MIDI device\n     */\n    disconnectDevice(): void {\n        if (this.selectedInput) {\n            this.selectedInput.onmidimessage = null;\n            this.selectedInput = null;\n            this.activeNotes.clear();\n            this.emitDeviceChange({ connected: false, device: null });\n            console.log('Disconnected MIDI device');\n        }\n    }\n\n    /**\n     * Handle incoming MIDI messages\n     */\n    private handleMidiMessage(message: MIDIMessageEvent): void {\n        if (!message.data || message.data.length < 3) return;\n\n        const status = message.data[0];\n        const note = message.data[1];\n        const velocity = message.data[2];\n\n        // Extract message type from status byte\n        const messageType = status & 0xf0;\n\n        switch (messageType) {\n            case 0x90: // Note On\n                if (velocity > 0) {\n                    this.handleNoteOn(note, velocity);\n                } else {\n                    // Note on with velocity 0 is treated as note off\n                    this.handleNoteOff(note);\n                }\n                break;\n\n            case 0x80: // Note Off\n                this.handleNoteOff(note);\n                break;\n\n            default:\n                // Ignore other MIDI messages (control change, pitch bend, etc.)\n                break;\n        }\n    }\n\n    /**\n     * Handle note on event\n     */\n    private handleNoteOn(note: number, velocity: number): void {\n        this.activeNotes.add(note);\n\n        // Emit to all registered listeners\n        this.listeners.noteOn.forEach(callback => {\n            try {\n                callback({\n                    note,\n                    velocity,\n                    noteName: midiToNoteName(note),\n                    frequency: midiToFrequency(note),\n                    timestamp: Date.now()\n                });\n            } catch (error) {\n                console.error('Error in noteOn listener:', error);\n            }\n        });\n    }\n\n    /**\n     * Handle note off event\n     */\n    private handleNoteOff(note: number): void {\n        this.activeNotes.delete(note);\n\n        // Emit to all registered listeners\n        this.listeners.noteOff.forEach(callback => {\n            try {\n                callback({\n                    note,\n                    noteName: midiToNoteName(note),\n                    timestamp: Date.now()\n                });\n            } catch (error) {\n                console.error('Error in noteOff listener:', error);\n            }\n        });\n    }\n\n    /**\n     * Handle device state changes (connection/disconnection)\n     */\n    private handleStateChange(event: MIDIConnectionEvent): void {\n        if (!event.port) return;\n\n        console.log('MIDI device state changed:', event.port.name, event.port.state);\n        this.updateDeviceList();\n\n        // If the currently selected device was disconnected\n        if (this.selectedInput && event.port.id === this.selectedInput.id && event.port.state === 'disconnected') {\n            this.disconnectDevice();\n        }\n\n        this.emitDeviceChange({\n            type: 'statechange',\n            port: event.port\n        });\n    }\n\n    /**\n     * Update the device list (called on state changes)\n     */\n    private updateDeviceList(): void {\n        const devices = this.getInputDevices();\n        console.log('Available MIDI devices:', devices);\n\n        // Auto-connect to first device if none selected\n        if (!this.selectedInput && devices.length > 0) {\n            this.connectDevice(devices[0].id);\n        }\n    }\n\n    /**\n     * Register an event listener\n     */\n    on<T extends EventType>(event: T, callback: Listeners[T][number]): void {\n        if (this.listeners[event]) {\n            this.listeners[event].push(callback as any);\n        } else {\n            console.warn('Unknown event type:', event);\n        }\n    }\n\n    /**\n     * Remove an event listener\n     */\n    off<T extends EventType>(event: T, callback: Listeners[T][number]): void {\n        if (this.listeners[event]) {\n            const index = this.listeners[event].indexOf(callback as any);\n            if (index > -1) {\n                this.listeners[event].splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * Emit device change event\n     */\n    private emitDeviceChange(data: DeviceChangeEvent): void {\n        this.listeners.deviceChange.forEach(callback => {\n            try {\n                callback(data);\n            } catch (error) {\n                console.error('Error in deviceChange listener:', error);\n            }\n        });\n    }\n\n    /**\n     * Emit error event\n     */\n    private emitError(message: string): void {\n        this.listeners.error.forEach(callback => {\n            try {\n                callback({ message });\n            } catch (error) {\n                console.error('Error in error listener:', error);\n            }\n        });\n    }\n\n    /**\n     * Check if a note is currently being played\n     */\n    isNoteActive(note: number): boolean {\n        return this.activeNotes.has(note);\n    }\n\n    /**\n     * Get all currently active notes\n     */\n    getActiveNotes(): number[] {\n        return Array.from(this.activeNotes);\n    }\n\n    /**\n     * Simulate a note (for testing without MIDI device)\n     */\n    simulateNote(note: number, velocity: number = 64, duration: number = 500): void {\n        this.handleNoteOn(note, velocity);\n\n        setTimeout(() => {\n            this.handleNoteOff(note);\n        }, duration);\n    }\n\n    /**\n     * Check if MIDI is supported\n     */\n    static isSupported(): boolean {\n        return typeof navigator !== 'undefined' && !!navigator.requestMIDIAccess;\n    }\n\n    /**\n     * Get current connected device\n     */\n    getConnectedDevice(): MIDIDevice | null {\n        if (!this.selectedInput) return null;\n\n        return {\n            id: this.selectedInput.id,\n            name: this.selectedInput.name || 'Unknown Device',\n            manufacturer: this.selectedInput.manufacturer || 'Unknown',\n            state: this.selectedInput.state,\n            connection: this.selectedInput.connection\n        };\n    }\n}\n\n// Make available globally for legacy code\nif (typeof window !== 'undefined') {\n    (window as any).MidiManager = MidiManager;\n}\n","/**\n * Staff Renderer\n * Uses VexFlow to render musical notation on staff\n */\n\nimport { MusicTheory } from '../utils/music-theory';\n\n// VexFlow types (declare global types for VexFlow library)\ndeclare global {\n    interface Window {\n        Vex: any;\n    }\n    const Vex: any;\n}\n\n// Type definitions\nexport type ClefType = 'treble' | 'bass';\n\ninterface RenderOptions {\n    highlight?: boolean;\n}\n\nexport class StaffRenderer {\n    private containerId: string;\n    private container: HTMLElement | null;\n    private renderer: any = null;\n    private context: any = null;\n    private currentNote: string | null = null;\n    private clef: ClefType = 'treble';\n\n    constructor(containerId: string) {\n        this.containerId = containerId;\n        this.container = document.getElementById(containerId);\n\n        if (!this.container) {\n            console.error('Container not found:', containerId);\n            return;\n        }\n\n        this.init();\n    }\n\n    /**\n     * Check if dark mode is active\n     */\n    private isDarkMode(): boolean {\n        return document.documentElement.classList.contains('dark');\n    }\n\n    /**\n     * Get the appropriate stroke color based on theme\n     */\n    private getStrokeColor(): string {\n        return this.isDarkMode() ? '#e5e5e5' : '#000000';\n    }\n\n    /**\n     * Apply theme-aware styling to SVG\n     */\n    private applyThemeToSVG(svg: SVGElement): void {\n        const strokeColor = this.getStrokeColor();\n\n        // Style all staff lines and note elements\n        svg.style.color = strokeColor;\n\n        // Apply stroke color to all paths and lines\n        const elements = svg.querySelectorAll('path, line, rect, circle, ellipse');\n        elements.forEach(el => {\n            const element = el as SVGElement;\n            if (!element.style.fill || element.style.fill === 'black' || element.style.fill === 'rgb(0, 0, 0)') {\n                element.style.stroke = strokeColor;\n                element.style.fill = strokeColor;\n            }\n        });\n    }\n\n    /**\n     * Initialize VexFlow renderer\n     */\n    private init(): void {\n        try {\n            // Check if VexFlow is loaded\n            if (typeof Vex === 'undefined' || typeof window.Vex === 'undefined') {\n                console.error('VexFlow not loaded - waiting...');\n                // Try again after a short delay\n                setTimeout(() => this.init(), 500);\n                return;\n            }\n\n            if (!this.container) {\n                console.error('Container not found, cannot initialize');\n                return;\n            }\n\n            // Clear container\n            this.container.innerHTML = '';\n\n            // Create VexFlow renderer\n            const VF = Vex.Flow;\n\n            if (!VF || !VF.Renderer) {\n                console.error('VexFlow.Renderer not available');\n                return;\n            }\n\n            this.renderer = new VF.Renderer(\n                this.container,\n                VF.Renderer.Backends.SVG\n            );\n\n            // Size the canvas\n            this.renderer.resize(500, 200);\n\n            // Get drawing context\n            this.context = this.renderer.getContext();\n\n            console.log('StaffRenderer initialized successfully');\n        } catch (error) {\n            console.error('Failed to initialize StaffRenderer:', error);\n            this.showError('Unable to initialize music notation renderer');\n        }\n    }\n\n    /**\n     * Set the clef type\n     * @param clef - 'treble' or 'bass'\n     */\n    setClef(clef: ClefType): void {\n        this.clef = clef;\n    }\n\n    /**\n     * Render a single note on the staff\n     * @param vexflowNote - Note in VexFlow format (e.g., \"c/4\")\n     * @param options - Rendering options\n     */\n    renderNote(vexflowNote: string, options: RenderOptions = {}): void {\n        if (!this.context) {\n            console.warn('Renderer not initialized, attempting to initialize...');\n            this.init();\n            if (!this.context) {\n                console.error('Failed to initialize renderer');\n                this.showError('Unable to display notation - please refresh');\n                return;\n            }\n        }\n\n        try {\n            const VF = Vex.Flow;\n\n            if (!this.container) return;\n\n            // Clear previous content\n            this.context.clear();\n            this.container.innerHTML = '';\n\n            // Recreate context after clear\n            this.renderer = new VF.Renderer(\n                this.container,\n                VF.Renderer.Backends.SVG\n            );\n            this.renderer.resize(500, 200);\n            this.context = this.renderer.getContext();\n\n            // Create a stave\n            const stave = new VF.Stave(10, 20, 400);\n\n            // Add clef\n            stave.addClef(this.clef);\n\n            // Draw the stave\n            stave.setContext(this.context).draw();\n\n            // Create note\n            const note = new VF.StaveNote({\n                keys: [vexflowNote],\n                duration: 'w', // Whole note\n                clef: this.clef\n            });\n\n            // Create a voice and add the note\n            const voice = new VF.Voice({\n                num_beats: 4,\n                beat_value: 4\n            });\n            voice.addTickable(note);\n\n            // Format and draw\n            new VF.Formatter()\n                .joinVoices([voice])\n                .format([voice], 350);\n\n            voice.draw(this.context, stave);\n\n            this.currentNote = vexflowNote;\n\n            // Apply theme styling\n            const svg = this.container?.querySelector('svg');\n            if (svg) {\n                this.applyThemeToSVG(svg);\n            }\n\n            // Apply highlight if specified\n            if (options.highlight) {\n                this.highlightNote();\n            }\n\n        } catch (error) {\n            console.error('Failed to render note:', error);\n            this.showError('Unable to display note');\n        }\n    }\n\n    /**\n     * Render multiple notes on the staff\n     * @param notes - Array of VexFlow notes\n     */\n    renderNotes(notes: string[]): void {\n        if (!this.context) {\n            console.error('Renderer not initialized');\n            return;\n        }\n\n        try {\n            const VF = Vex.Flow;\n\n            if (!this.container) return;\n\n            // Clear previous content\n            this.context.clear();\n            this.container.innerHTML = '';\n\n            // Recreate context\n            this.renderer = new VF.Renderer(\n                this.container,\n                VF.Renderer.Backends.SVG\n            );\n            this.renderer.resize(700, 200);\n            this.context = this.renderer.getContext();\n\n            // Create a stave\n            const stave = new VF.Stave(10, 20, 650);\n            stave.addClef(this.clef);\n            stave.setContext(this.context).draw();\n\n            // Create notes\n            const staveNotes = notes.map(note => {\n                return new VF.StaveNote({\n                    keys: [note],\n                    duration: 'q', // Quarter note\n                    clef: this.clef\n                });\n            });\n\n            // Create a voice\n            const voice = new VF.Voice({\n                num_beats: staveNotes.length,\n                beat_value: 4\n            });\n            voice.addTickables(staveNotes);\n\n            // Format and draw\n            new VF.Formatter()\n                .joinVoices([voice])\n                .format([voice], 600);\n\n            voice.draw(this.context, stave);\n\n            // Apply theme styling\n            const svg = this.container?.querySelector('svg');\n            if (svg) {\n                this.applyThemeToSVG(svg);\n            }\n\n        } catch (error) {\n            console.error('Failed to render notes:', error);\n            this.showError('Unable to display notes');\n        }\n    }\n\n    /**\n     * Render a scale on the staff\n     * @param midiNotes - Array of MIDI note numbers\n     */\n    renderScale(midiNotes: number[]): void {\n        const vexflowNotes = midiNotes\n            .map(midi => MusicTheory.midiToVexflow(midi, this.clef))\n            .filter((note): note is string => note !== null);\n\n        if (vexflowNotes.length > 0) {\n            this.renderNotes(vexflowNotes);\n        }\n    }\n\n    /**\n     * Highlight the current note (visual feedback)\n     */\n    private highlightNote(): void {\n        if (!this.container) return;\n\n        // Add a visual highlight to the SVG\n        const svg = this.container.querySelector('svg');\n        if (svg) {\n            const noteheads = svg.querySelectorAll('.vf-notehead');\n            noteheads.forEach(notehead => {\n                (notehead as HTMLElement).style.fill = '#3b82f6';\n            });\n        }\n    }\n\n    /**\n     * Show feedback for correct/incorrect note\n     * @param isCorrect - Whether the note was correct\n     */\n    showFeedback(isCorrect: boolean): void {\n        if (!this.container) return;\n\n        const svg = this.container.querySelector('svg');\n        if (!svg) return;\n\n        const noteheads = svg.querySelectorAll('.vf-notehead');\n        const color = isCorrect ? '#10b981' : '#ef4444';\n\n        noteheads.forEach(notehead => {\n            const element = notehead as HTMLElement;\n            element.style.fill = color;\n            element.style.transition = 'fill 0.3s ease';\n        });\n\n        // Reset after animation\n        setTimeout(() => {\n            noteheads.forEach(notehead => {\n                (notehead as HTMLElement).style.fill = '';\n            });\n        }, 500);\n    }\n\n    /**\n     * Show error message\n     * @param message - Error message to display\n     */\n    private showError(message: string): void {\n        if (!this.container) return;\n\n        this.container.innerHTML = `\n            <div style=\"\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                height: 200px;\n                color: var(--text-secondary);\n                font-size: 1rem;\n            \">\n                ${message}\n            </div>\n        `;\n    }\n\n    /**\n     * Show welcome message\n     */\n    showWelcome(): void {\n        if (!this.container) return;\n\n        this.container.innerHTML = `\n            <div style=\"\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                height: 200px;\n                color: var(--text-secondary);\n                text-align: center;\n                padding: 2rem;\n            \">\n                <p style=\"font-size: 3rem; margin-bottom: 0.5rem;\"></p>\n                <p style=\"font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem;\">\n                    Ready to Practice\n                </p>\n                <p style=\"font-size: 0.95rem;\">\n                    Click \"Start Practice\" to begin\n                </p>\n            </div>\n        `;\n    }\n\n    /**\n     * Clear the staff\n     */\n    clear(): void {\n        if (this.context) {\n            this.context.clear();\n        }\n        if (this.container) {\n            this.container.innerHTML = '';\n        }\n        this.currentNote = null;\n    }\n\n    /**\n     * Get the current note\n     * @returns Current VexFlow note\n     */\n    getCurrentNote(): string | null {\n        return this.currentNote;\n    }\n}\n\n// Make available globally\nif (typeof window !== 'undefined') {\n    (window as any).StaffRenderer = StaffRenderer;\n}\n","/**\n * Guitar Tab Renderer\n * Uses VexFlow to render guitar tablature notation\n */\n\nimport { midiToTabPosition } from '../utils/music-theory';\n\n// Use the Vex global from window\ndeclare const Vex: any;\n\n// Type definitions\nexport interface TabPosition {\n    string: number;\n    fret: number;\n}\n\ninterface RenderOptions {\n    highlight?: boolean;\n    showStaff?: boolean; // Show staff notation above tab\n}\n\nexport class TabRenderer {\n    private container: HTMLElement | null;\n    private renderer: any = null;\n    private context: any = null;\n    private currentNote: number | null = null;\n    private instrumentId: string = 'guitar';\n\n    constructor(containerId: string, instrumentId: string = 'guitar') {\n        this.instrumentId = instrumentId;\n        this.container = document.getElementById(containerId);\n\n        if (!this.container) {\n            console.error('Container not found:', containerId);\n            return;\n        }\n\n        this.init();\n    }\n\n    /**\n     * Check if dark mode is active\n     */\n    private isDarkMode(): boolean {\n        return document.documentElement.classList.contains('dark');\n    }\n\n    /**\n     * Get the appropriate stroke color based on theme\n     */\n    private getStrokeColor(): string {\n        return this.isDarkMode() ? '#e5e5e5' : '#000000';\n    }\n\n    /**\n     * Apply theme-aware styling to SVG\n     */\n    private applyThemeToSVG(svg: SVGElement): void {\n        const strokeColor = this.getStrokeColor();\n\n        // Style all staff lines and note elements\n        svg.style.color = strokeColor;\n\n        // Apply stroke color to paths, lines, and other elements (but NOT rects with white fill)\n        const elements = svg.querySelectorAll('path, line, circle, ellipse');\n        elements.forEach(el => {\n            const element = el as SVGElement;\n            if (!element.style.fill || element.style.fill === 'black' || element.style.fill === 'rgb(0, 0, 0)') {\n                element.style.stroke = strokeColor;\n                element.style.fill = strokeColor;\n            }\n        });\n\n        // Handle rectangles separately - only style staff lines, not white backgrounds\n        const rects = svg.querySelectorAll('rect');\n        rects.forEach(el => {\n            const element = el as SVGElement;\n            const fill = element.getAttribute('fill');\n            // Only style rectangles that are NOT white backgrounds (those are for tab numbers)\n            if (fill !== 'white') {\n                element.style.stroke = strokeColor;\n                element.style.fill = strokeColor;\n            }\n        });\n\n        // Style text elements\n        const texts = svg.querySelectorAll('text');\n        texts.forEach(el => {\n            const element = el as SVGElement;\n            element.style.stroke = strokeColor;\n            element.style.fill = strokeColor;\n        });\n    }\n\n    /**\n     * Initialize VexFlow renderer\n     */\n    private init(): void {\n        try {\n            // Check if VexFlow is loaded\n            if (typeof Vex === 'undefined' || typeof window.Vex === 'undefined') {\n                console.error('VexFlow not loaded - waiting...');\n                // Try again after a short delay\n                setTimeout(() => this.init(), 500);\n                return;\n            }\n\n            if (!this.container) {\n                console.error('Container not found, cannot initialize');\n                return;\n            }\n\n            // Clear container\n            this.container.innerHTML = '';\n\n            // Create VexFlow renderer\n            const VF = Vex.Flow;\n\n            if (!VF || !VF.Renderer) {\n                console.error('VexFlow.Renderer not available');\n                return;\n            }\n\n            this.renderer = new VF.Renderer(\n                this.container,\n                VF.Renderer.Backends.SVG\n            );\n\n            // Size the canvas (tabs are typically shorter than staff)\n            this.renderer.resize(500, 180);\n\n            // Get drawing context\n            this.context = this.renderer.getContext();\n\n            console.log('TabRenderer initialized successfully');\n        } catch (error) {\n            console.error('Failed to initialize TabRenderer:', error);\n            this.showError('Unable to initialize tablature renderer');\n        }\n    }\n\n    /**\n     * Render a single note on the tab staff\n     * @param midiNote - MIDI note number\n     * @param options - Rendering options\n     */\n    renderNote(midiNote: number, options: RenderOptions = {}): void {\n        if (!this.context) {\n            console.warn('Renderer not initialized, attempting to initialize...');\n            this.init();\n            if (!this.context) {\n                console.error('Failed to initialize renderer');\n                this.showError('Unable to display tablature - please refresh');\n                return;\n            }\n        }\n\n        try {\n            const VF = Vex.Flow;\n\n            if (!this.container) return;\n\n            // Convert MIDI to tab position\n            const tabPosition = midiToTabPosition(midiNote, this.instrumentId);\n            if (!tabPosition) {\n                console.error('Unable to convert MIDI note to tab position:', midiNote);\n                this.showError('Note out of range for tablature');\n                return;\n            }\n\n            // Clear previous content\n            this.context.clear();\n            this.container.innerHTML = '';\n\n            // Recreate context after clear\n            this.renderer = new VF.Renderer(\n                this.container,\n                VF.Renderer.Backends.SVG\n            );\n            this.renderer.resize(500, 180);\n            this.context = this.renderer.getContext();\n\n            // Create a tab stave (6 strings for guitar)\n            const tabStave = new VF.TabStave(10, 20, 400);\n\n            // Add clef (tab clef shows \"TAB\")\n            tabStave.addTabGlyph();\n\n            // Draw the stave\n            tabStave.setContext(this.context).draw();\n\n            // Create tab note\n            // TabNote format: positions array where each element is {str: string_number, fret: fret_number}\n            // String 1 is the highest (thinnest), string 6 is the lowest (thickest)\n            const tabNote = new VF.TabNote({\n                positions: [{ str: tabPosition.string, fret: tabPosition.fret }],\n                duration: 'w' // Whole note\n            });\n\n            // Create a voice and add the note\n            const voice = new VF.Voice({\n                num_beats: 4,\n                beat_value: 4\n            });\n            voice.addTickable(tabNote);\n\n            // Format and draw\n            new VF.Formatter()\n                .joinVoices([voice])\n                .format([voice], 350);\n\n            voice.draw(this.context, tabStave);\n\n            this.currentNote = midiNote;\n\n            // Apply theme styling\n            const svg = this.container?.querySelector('svg');\n            if (svg) {\n                this.applyThemeToSVG(svg);\n            }\n\n            // Apply highlight if specified\n            if (options.highlight) {\n                this.highlightNote();\n            }\n\n        } catch (error) {\n            console.error('Failed to render tab note:', error);\n            this.showError('Unable to display tab note');\n        }\n    }\n\n    /**\n     * Render multiple notes on the tab staff\n     * @param midiNotes - Array of MIDI note numbers\n     */\n    renderNotes(midiNotes: number[]): void {\n        if (!this.context) {\n            console.error('Renderer not initialized');\n            return;\n        }\n\n        try {\n            const VF = Vex.Flow;\n\n            if (!this.container) return;\n\n            // Convert MIDI notes to tab positions\n            const tabPositions = midiNotes\n                .map(midi => midiToTabPosition(midi, this.instrumentId))\n                .filter((pos): pos is TabPosition => pos !== null);\n\n            if (tabPositions.length === 0) {\n                console.error('No valid tab positions found');\n                return;\n            }\n\n            // Clear previous content\n            this.context.clear();\n            this.container.innerHTML = '';\n\n            // Recreate context\n            this.renderer = new VF.Renderer(\n                this.container,\n                VF.Renderer.Backends.SVG\n            );\n            this.renderer.resize(700, 180);\n            this.context = this.renderer.getContext();\n\n            // Create a tab stave\n            const tabStave = new VF.TabStave(10, 20, 650);\n            tabStave.addTabGlyph();\n            tabStave.setContext(this.context).draw();\n\n            // Create tab notes\n            const tabNotes = tabPositions.map(pos => {\n                return new VF.TabNote({\n                    positions: [{ str: pos.string, fret: pos.fret }],\n                    duration: 'q' // Quarter note\n                });\n            });\n\n            // Create a voice\n            const voice = new VF.Voice({\n                num_beats: tabNotes.length,\n                beat_value: 4\n            });\n            voice.addTickables(tabNotes);\n\n            // Format and draw\n            new VF.Formatter()\n                .joinVoices([voice])\n                .format([voice], 600);\n\n            voice.draw(this.context, tabStave);\n\n            // Apply theme styling\n            const svg = this.container?.querySelector('svg');\n            if (svg) {\n                this.applyThemeToSVG(svg);\n            }\n\n        } catch (error) {\n            console.error('Failed to render tab notes:', error);\n            this.showError('Unable to display tab notes');\n        }\n    }\n\n    /**\n     * Render both staff and tab together (combined view)\n     * @param midiNote - MIDI note number\n     */\n    renderStaffAndTab(midiNote: number): void {\n        if (!this.context) {\n            console.warn('Renderer not initialized, attempting to initialize...');\n            this.init();\n            if (!this.context) {\n                console.error('Failed to initialize renderer');\n                this.showError('Unable to display notation - please refresh');\n                return;\n            }\n        }\n\n        try {\n            const VF = Vex.Flow;\n\n            if (!this.container) return;\n\n            // Convert MIDI to tab position\n            const tabPosition = midiToTabPosition(midiNote, this.instrumentId);\n            if (!tabPosition) {\n                console.error('Unable to convert MIDI note to tab position:', midiNote);\n                this.showError('Note out of range for tablature');\n                return;\n            }\n\n            // Clear previous content\n            this.context.clear();\n            this.container.innerHTML = '';\n\n            // Recreate context with taller height for staff + tab\n            this.renderer = new VF.Renderer(\n                this.container,\n                VF.Renderer.Backends.SVG\n            );\n            this.renderer.resize(500, 300);\n            this.context = this.renderer.getContext();\n\n            // Create staff stave (treble clef)\n            const staffStave = new VF.Stave(10, 20, 400);\n            staffStave.addClef('treble');\n            staffStave.setContext(this.context).draw();\n\n            // Create tab stave below staff\n            const tabStave = new VF.TabStave(10, 140, 400);\n            tabStave.addTabGlyph();\n            tabStave.setContext(this.context).draw();\n\n            // Connect staff and tab with connector\n            const connector = new VF.StaveConnector(staffStave, tabStave);\n            connector.setType(VF.StaveConnector.type.BRACKET);\n            connector.setContext(this.context).draw();\n\n            // Create staff note (using VexFlow notation)\n            const octave = Math.floor(midiNote / 12) - 1;\n            const noteIndex = midiNote % 12;\n            const noteNames = ['c', 'c#', 'd', 'd#', 'e', 'f', 'f#', 'g', 'g#', 'a', 'a#', 'b'];\n            const vexflowNote = `${noteNames[noteIndex]}/${octave}`;\n\n            const staffNote = new VF.StaveNote({\n                keys: [vexflowNote],\n                duration: 'w',\n                clef: 'treble'\n            });\n\n            // Add accidental if needed\n            if (noteNames[noteIndex].includes('#')) {\n                staffNote.addModifier(new VF.Accidental('#'), 0);\n            }\n\n            // Create tab note\n            const tabNote = new VF.TabNote({\n                positions: [{ str: tabPosition.string, fret: tabPosition.fret }],\n                duration: 'w'\n            });\n\n            // Create voices for staff and tab\n            const staffVoice = new VF.Voice({ num_beats: 4, beat_value: 4 });\n            staffVoice.addTickable(staffNote);\n\n            const tabVoice = new VF.Voice({ num_beats: 4, beat_value: 4 });\n            tabVoice.addTickable(tabNote);\n\n            // Format and draw both\n            new VF.Formatter()\n                .joinVoices([staffVoice])\n                .format([staffVoice], 350);\n\n            new VF.Formatter()\n                .joinVoices([tabVoice])\n                .format([tabVoice], 350);\n\n            staffVoice.draw(this.context, staffStave);\n            tabVoice.draw(this.context, tabStave);\n\n            this.currentNote = midiNote;\n\n            // Apply theme styling\n            const svg = this.container?.querySelector('svg');\n            if (svg) {\n                this.applyThemeToSVG(svg);\n            }\n\n        } catch (error) {\n            console.error('Failed to render staff and tab:', error);\n            this.showError('Unable to display notation');\n        }\n    }\n\n    /**\n     * Highlight the current note (visual feedback)\n     */\n    private highlightNote(): void {\n        if (!this.container) return;\n\n        // Add a visual highlight to the SVG\n        const svg = this.container.querySelector('svg');\n        if (svg) {\n            const noteText = svg.querySelectorAll('text');\n            noteText.forEach(text => {\n                (text as SVGTextElement).style.fill = '#3b82f6';\n            });\n        }\n    }\n\n    /**\n     * Show feedback for correct/incorrect note\n     * @param isCorrect - Whether the note was correct\n     */\n    showFeedback(isCorrect: boolean): void {\n        if (!this.container) return;\n\n        const svg = this.container.querySelector('svg');\n        if (!svg) return;\n\n        const noteText = svg.querySelectorAll('text');\n        const color = isCorrect ? '#10b981' : '#ef4444';\n\n        noteText.forEach(text => {\n            const element = text as SVGTextElement;\n            element.style.fill = color;\n            element.style.transition = 'fill 0.3s ease';\n        });\n\n        // Reset after animation\n        setTimeout(() => {\n            noteText.forEach(text => {\n                (text as SVGTextElement).style.fill = '';\n            });\n        }, 500);\n    }\n\n    /**\n     * Show error message\n     * @param message - Error message to display\n     */\n    private showError(message: string): void {\n        if (!this.container) return;\n\n        this.container.innerHTML = `\n            <div style=\"\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                height: 180px;\n                color: var(--text-secondary);\n                font-size: 1rem;\n            \">\n                ${message}\n            </div>\n        `;\n    }\n\n    /**\n     * Show welcome message\n     */\n    showWelcome(): void {\n        if (!this.container) return;\n\n        this.container.innerHTML = `\n            <div style=\"\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                height: 180px;\n                color: var(--text-secondary);\n                text-align: center;\n                padding: 2rem;\n            \">\n                <p style=\"font-size: 3rem; margin-bottom: 0.5rem;\"></p>\n                <p style=\"font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem;\">\n                    Ready to Practice Guitar\n                </p>\n                <p style=\"font-size: 0.95rem;\">\n                    Click \"Start Practice\" to begin\n                </p>\n            </div>\n        `;\n    }\n\n    /**\n     * Clear the tab\n     */\n    clear(): void {\n        if (this.context) {\n            this.context.clear();\n        }\n        if (this.container) {\n            this.container.innerHTML = '';\n        }\n        this.currentNote = null;\n    }\n\n    /**\n     * Get the current note\n     * @returns Current MIDI note\n     */\n    getCurrentNote(): number | null {\n        return this.currentNote;\n    }\n}\n\n// Make available globally\nif (typeof window !== 'undefined') {\n    (window as any).TabRenderer = TabRenderer;\n}\n","/**\n * Audio Playback Utility\n * Synthesizes piano-like sounds using Web Audio API\n */\n\nexport class AudioPlayback {\n  private audioContext: AudioContext | null = null;\n  private masterGain: GainNode | null = null;\n\n  constructor() {\n    this.init();\n  }\n\n  private init(): void {\n    try {\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n      this.masterGain = this.audioContext.createGain();\n      this.masterGain.gain.value = 0.12; // Master volume (softer)\n      this.masterGain.connect(this.audioContext.destination);\n    } catch (error) {\n      console.error('Failed to initialize audio context:', error);\n    }\n  }\n\n  /**\n   * Play a note with a piano-like sound\n   * @param midiNote - MIDI note number (0-127)\n   * @param duration - Duration in seconds (default: 0.5)\n   */\n  public playNote(midiNote: number, duration: number = 0.5): void {\n    if (!this.audioContext || !this.masterGain) {\n      console.warn('Audio context not initialized');\n      return;\n    }\n\n    // Resume audio context if suspended (for user gesture requirement)\n    if (this.audioContext.state === 'suspended') {\n      this.audioContext.resume();\n    }\n\n    const frequency = this.midiToFrequency(midiNote);\n    const now = this.audioContext.currentTime;\n\n    // Create oscillators for a softer, mellower piano-like sound\n    // Fundamental frequency (pure sine for softness)\n    const osc1 = this.audioContext.createOscillator();\n    osc1.type = 'sine';\n    osc1.frequency.value = frequency;\n\n    // Second harmonic (subtle brightness)\n    const osc2 = this.audioContext.createOscillator();\n    osc2.type = 'sine';\n    osc2.frequency.value = frequency * 2;\n\n    // Third harmonic (very subtle warmth)\n    const osc3 = this.audioContext.createOscillator();\n    osc3.type = 'sine'; // Changed to sine for softer sound\n    osc3.frequency.value = frequency * 3;\n\n    // Create gain nodes for each oscillator\n    const gain1 = this.audioContext.createGain();\n    const gain2 = this.audioContext.createGain();\n    const gain3 = this.audioContext.createGain();\n\n    // Set relative volumes for each harmonic (much softer mix)\n    gain1.gain.value = 1.0;    // Fundamental\n    gain2.gain.value = 0.15;   // Second harmonic (reduced)\n    gain3.gain.value = 0.08;   // Third harmonic (reduced)\n\n    // Connect oscillators to their gains\n    osc1.connect(gain1);\n    osc2.connect(gain2);\n    osc3.connect(gain3);\n\n    // Create envelope gain for ADSR\n    const envelopeGain = this.audioContext.createGain();\n    gain1.connect(envelopeGain);\n    gain2.connect(envelopeGain);\n    gain3.connect(envelopeGain);\n\n    // Connect to master gain\n    envelopeGain.connect(this.masterGain);\n\n    // ADSR Envelope (soft and mellow)\n    const attackTime = 0.02;   // Gentle attack\n    const decayTime = 0.15;    // Smooth decay\n    const sustainLevel = 0.5;  // Lower sustain (softer)\n    const releaseTime = 0.4;   // Longer release for smoothness\n\n    envelopeGain.gain.setValueAtTime(0, now);\n    envelopeGain.gain.exponentialRampToValueAtTime(0.8, now + attackTime); // Softer peak\n    envelopeGain.gain.exponentialRampToValueAtTime(sustainLevel, now + attackTime + decayTime);\n    envelopeGain.gain.setValueAtTime(sustainLevel, now + duration - releaseTime);\n    envelopeGain.gain.exponentialRampToValueAtTime(0.001, now + duration); // Smooth fade out\n\n    // Start and stop oscillators\n    osc1.start(now);\n    osc2.start(now);\n    osc3.start(now);\n\n    osc1.stop(now + duration);\n    osc2.stop(now + duration);\n    osc3.stop(now + duration);\n  }\n\n  /**\n   * Convert MIDI note number to frequency in Hz\n   * @param midiNote - MIDI note number (0-127)\n   * @returns Frequency in Hz\n   */\n  private midiToFrequency(midiNote: number): number {\n    // A4 (MIDI note 69) = 440 Hz\n    return 440 * Math.pow(2, (midiNote - 69) / 12);\n  }\n\n  /**\n   * Set master volume\n   * @param volume - Volume level (0-1)\n   */\n  public setVolume(volume: number): void {\n    if (this.masterGain) {\n      this.masterGain.gain.value = Math.max(0, Math.min(1, volume));\n    }\n  }\n\n  /**\n   * Clean up audio context\n   */\n  public cleanup(): void {\n    if (this.audioContext) {\n      this.audioContext.close();\n      this.audioContext = null;\n    }\n  }\n}\n","export type DifficultyLevel = 'beginner' | 'intermediate' | 'advanced';\n\nconst NOTE_RANGES: Record<string, Record<DifficultyLevel, string>> = {\n  piano: { beginner: 'c4-c5', intermediate: 'c4-g5', advanced: 'a3-c6' },\n  'piano-virtual': { beginner: 'c4-c5', intermediate: 'c4-g5', advanced: 'a3-c6' },\n  guitar: { beginner: 'e2-e4', intermediate: 'e2-a4', advanced: 'e2-e5' },\n  violin: { beginner: 'g3-g4', intermediate: 'g3-c5', advanced: 'g3-g5' },\n};\n\nexport function getNoteRange(instrument: string, difficulty: DifficultyLevel): string {\n  return NOTE_RANGES[instrument]?.[difficulty] ?? NOTE_RANGES.piano[difficulty];\n}\n","import type { ClefType } from '../utils/music-theory';\nimport { midiToVexflow } from '../utils/music-theory';\nimport type { StaffRenderer } from '../notation/staff-renderer';\nimport type { TabRenderer } from '../notation/tab-renderer';\n\ninterface RenderNoteParams {\n  instrument: string;\n  tabDisplayMode: 'staff' | 'tab' | 'both';\n  clef: ClefType;\n  midiNote: number;\n  staffRenderer: StaffRenderer | null;\n  tabRenderer: TabRenderer | null;\n}\n\nexport function renderPracticeNote({\n  instrument,\n  tabDisplayMode,\n  clef,\n  midiNote,\n  staffRenderer,\n  tabRenderer,\n}: RenderNoteParams): void {\n  if (instrument === 'guitar') {\n    if (tabDisplayMode === 'both' && tabRenderer) {\n      tabRenderer.renderStaffAndTab(midiNote);\n      return;\n    }\n    if (tabDisplayMode === 'tab' && tabRenderer) {\n      tabRenderer.renderNote(midiNote);\n      return;\n    }\n  }\n\n  if (!staffRenderer) return;\n  const vexflowNote = midiToVexflow(midiNote, clef);\n  if (vexflowNote) {\n    staffRenderer.renderNote(vexflowNote);\n  }\n}\n","/**\n * Scoring Utilities\n * Game scoring logic for sight reading practice\n */\n\nexport interface RoundConfig {\n  duration: number; // seconds\n  notesPerRound: number;\n  successThreshold: number; // 0-1 (e.g., 0.80 = 80%)\n}\n\nexport const ROUND_CONFIGS: Record<'beginner' | 'intermediate' | 'advanced', RoundConfig> = {\n  beginner: {\n    duration: 45,\n    notesPerRound: 6,\n    successThreshold: 0.75,\n  },\n  intermediate: {\n    duration: 35,\n    notesPerRound: 10,\n    successThreshold: 0.80,\n  },\n  advanced: {\n    duration: 25,\n    notesPerRound: 12,\n    successThreshold: 0.85,\n  },\n};\n\nexport interface ScoreResult {\n  baseScore: number;\n  speedBonus: number;\n  streakMultiplier: number;\n  finalScore: number;\n  rank: ScoreRank;\n}\n\nexport type ScoreRank = 'S' | 'A' | 'B' | 'C' | 'D';\n\nexport interface RankInfo {\n  min: number;\n  label: string;\n  color: string;\n}\n\nexport const SCORE_RANKS: Record<ScoreRank, RankInfo> = {\n  S: { min: 120, label: 'Perfect!', color: 'text-yellow-500' },\n  A: { min: 100, label: 'Excellent', color: 'text-green-500' },\n  B: { min: 80, label: 'Good', color: 'text-blue-500' },\n  C: { min: 60, label: 'Keep Practicing', color: 'text-gray-500' },\n  D: { min: 0, label: 'Try Again', color: 'text-red-500' },\n};\n\n/**\n * Calculate score for a completed round\n * Formula: accuracy  (1 + speedBonus  0.5)  streakMultiplier\n */\nexport function calculateScore(\n  correct: number,\n  total: number,\n  timeLeft: number,\n  maxTime: number,\n  streak: number = 0\n): ScoreResult {\n  // Accuracy percentage\n  const accuracyPercent = total > 0 ? correct / total : 0;\n\n  // Speed bonus (0-1 based on time remaining)\n  const speedBonus = maxTime > 0 ? timeLeft / maxTime : 0;\n\n  // Streak multiplier (1.0 to 2.0)\n  const streakMultiplier = Math.min(1 + streak / 20, 2.0);\n\n  // Base score (0-100)\n  const baseScore = accuracyPercent * 100;\n\n  // Apply speed bonus (up to 50% extra)\n  const scoreWithSpeed = baseScore * (1 + speedBonus * 0.5);\n\n  // Apply streak multiplier\n  const finalScore = Math.round(scoreWithSpeed * streakMultiplier);\n\n  // Determine rank\n  const rank = getScoreRank(finalScore);\n\n  return {\n    baseScore: Math.round(baseScore),\n    speedBonus: Math.round(speedBonus * 100),\n    streakMultiplier,\n    finalScore,\n    rank,\n  };\n}\n\n/**\n * Get rank based on final score\n */\nexport function getScoreRank(score: number): ScoreRank {\n  if (score >= SCORE_RANKS.S.min) return 'S';\n  if (score >= SCORE_RANKS.A.min) return 'A';\n  if (score >= SCORE_RANKS.B.min) return 'B';\n  if (score >= SCORE_RANKS.C.min) return 'C';\n  return 'D';\n}\n\n/**\n * Calculate streak multiplier\n */\nexport function getStreakMultiplier(streak: number): number {\n  return Math.min(1 + streak / 20, 2.0);\n}\n\n/**\n * Check if round is successful\n */\nexport function isRoundSuccessful(\n  correct: number,\n  total: number,\n  threshold: number\n): boolean {\n  if (total === 0) return false;\n  return correct / total >= threshold;\n}\n\n/**\n * Calculate level from total lifetime score and accuracy\n */\nexport function calculateLevel(lifetimeScore: number, avgAccuracy: number): number {\n  if (lifetimeScore >= 2000 && avgAccuracy >= 0.90) return 5;\n  if (lifetimeScore >= 1000 && avgAccuracy >= 0.80) return 4;\n  if (lifetimeScore >= 500 && avgAccuracy >= 0.80) return 3;\n  if (lifetimeScore >= 200) return 2;\n  return 1;\n}\n\n/**\n * Get level name\n */\nexport function getLevelName(level: number): string {\n  const names = ['', 'Beginner', 'Novice', 'Intermediate', 'Advanced', 'Master'];\n  return names[level] || 'Unknown';\n}\n\n/**\n * Calculate points to next level\n */\nexport function getPointsToNextLevel(lifetimeScore: number, currentLevel: number): number {\n  const thresholds = [0, 0, 200, 500, 1000, 2000];\n  const nextLevelThreshold = thresholds[Math.min(currentLevel + 1, 5)];\n  return Math.max(0, nextLevelThreshold - lifetimeScore);\n}\n\n/**\n * Check if streak milestone reached\n */\nexport function isStreakMilestone(streak: number): boolean {\n  return streak > 0 && (streak === 5 || streak === 10 || streak === 20 || streak % 25 === 0);\n}\n\n/**\n * Get streak milestone message\n */\nexport function getStreakMilestoneMessage(streak: number): string {\n  if (streak >= 50) return `Legendary! ${streak} streak! `;\n  if (streak >= 25) return `Unstoppable! ${streak} streak! `;\n  if (streak === 20) return `On fire! ${streak} streak! `;\n  if (streak === 10) return `Great streak! ${streak} in a row! `;\n  if (streak === 5) return `Nice! ${streak} correct! `;\n  return '';\n}\n","/**\n * useGameRound Hook\n * Manages timed round logic for game mode\n */\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { ROUND_CONFIGS, calculateScore, isRoundSuccessful, type ScoreResult } from '../lib/utils/scoring';\n\nexport type Difficulty = 'beginner' | 'intermediate' | 'advanced';\nexport type GameMode = 'practice' | 'timed';\n\nexport interface GameRoundState {\n  // Round status\n  isActive: boolean;\n  isComplete: boolean;\n  isSuccessful: boolean | null;\n\n  // Time tracking\n  timeLeft: number;\n  maxTime: number;\n\n  // Lives\n  lives: number;\n  maxLives: number;\n\n  // Progress\n  notesCompleted: number;\n  notesRequired: number;\n  correctCount: number;\n  incorrectCount: number;\n\n  // Streak\n  streak: number;\n  consecutiveWrong: number;\n\n  // Score\n  currentScore: ScoreResult | null;\n}\n\nexport interface GameRoundActions {\n  startRound: () => void;\n  endRound: () => void;\n  noteCorrect: () => void;\n  noteIncorrect: () => void;\n  resetRound: () => void;\n}\n\nexport interface UseGameRoundOptions {\n  difficulty: Difficulty;\n  gameMode: GameMode;\n  onRoundComplete?: (state: GameRoundState) => void;\n  onRoundFail?: (state: GameRoundState) => void;\n  onTimeUp?: () => void;\n  onLifeLost?: (livesLeft: number) => void;\n  onStreakMilestone?: (streak: number) => void;\n}\n\nexport function useGameRound(options: UseGameRoundOptions): [GameRoundState, GameRoundActions] {\n  const { difficulty, gameMode, onRoundComplete, onRoundFail, onTimeUp, onLifeLost, onStreakMilestone } = options;\n\n  const config = ROUND_CONFIGS[difficulty];\n  const maxLives = 3;\n\n  // Initial state\n  const [state, setState] = useState<GameRoundState>({\n    isActive: false,\n    isComplete: false,\n    isSuccessful: null,\n    timeLeft: config.duration,\n    maxTime: config.duration,\n    lives: maxLives,\n    maxLives,\n    notesCompleted: 0,\n    notesRequired: config.notesPerRound,\n    correctCount: 0,\n    incorrectCount: 0,\n    streak: 0,\n    consecutiveWrong: 0,\n    currentScore: null,\n  });\n\n  // Refs for callbacks to avoid stale closures\n  const stateRef = useRef(state);\n  stateRef.current = state;\n\n  // Timer\n  useEffect(() => {\n    if (gameMode !== 'timed') return;\n    if (!state.isActive || state.isComplete) return;\n\n    const timer = setInterval(() => {\n      setState((prev) => {\n        const newTimeLeft = Math.max(0, prev.timeLeft - 1);\n\n        // Check if time's up\n        if (newTimeLeft === 0 && prev.timeLeft > 0) {\n          if (onTimeUp) onTimeUp();\n          // End round on time up\n          return {\n            ...prev,\n            timeLeft: 0,\n            isActive: false,\n            isComplete: true,\n            isSuccessful: false,\n          };\n        }\n\n        return { ...prev, timeLeft: newTimeLeft };\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [state.isActive, state.isComplete, gameMode, onTimeUp]);\n\n  // Start round\n  const startRound = useCallback(() => {\n    setState({\n      isActive: true,\n      isComplete: false,\n      isSuccessful: null,\n      timeLeft: config.duration,\n      maxTime: config.duration,\n      lives: maxLives,\n      maxLives,\n      notesCompleted: 0,\n      notesRequired: config.notesPerRound,\n      correctCount: 0,\n      incorrectCount: 0,\n      streak: stateRef.current.streak, // Preserve streak across rounds\n      consecutiveWrong: 0,\n      currentScore: null,\n    });\n  }, [config.duration, config.notesPerRound, maxLives]);\n\n  // End round\n  const endRound = useCallback(() => {\n    setState((prev) => {\n      const isSuccessful = isRoundSuccessful(prev.correctCount, prev.notesRequired, config.successThreshold);\n\n      const score = calculateScore(\n        prev.correctCount,\n        prev.notesRequired,\n        prev.timeLeft,\n        prev.maxTime,\n        prev.streak\n      );\n\n      const newState = {\n        ...prev,\n        isActive: false,\n        isComplete: true,\n        isSuccessful,\n        currentScore: score,\n      };\n\n      // Trigger callbacks\n      if (isSuccessful && onRoundComplete) {\n        onRoundComplete(newState);\n      } else if (!isSuccessful && onRoundFail) {\n        onRoundFail(newState);\n      }\n\n      return newState;\n    });\n  }, [config.successThreshold, onRoundComplete, onRoundFail]);\n\n  // Note correct\n  const noteCorrect = useCallback(() => {\n    setState((prev) => {\n      const newCorrect = prev.correctCount + 1;\n      const newCompleted = prev.notesCompleted + 1;\n      const newStreak = prev.streak + 1;\n      const consecutiveWrong = 0;\n\n      // Check for streak milestones\n      if (onStreakMilestone && (newStreak === 5 || newStreak === 10 || newStreak === 20 || newStreak % 25 === 0)) {\n        onStreakMilestone(newStreak);\n      }\n\n      // Check if round complete\n      const roundComplete = newCompleted >= prev.notesRequired;\n\n      return {\n        ...prev,\n        correctCount: newCorrect,\n        notesCompleted: newCompleted,\n        streak: newStreak,\n        consecutiveWrong,\n        isComplete: roundComplete,\n        isActive: !roundComplete,\n      };\n    });\n  }, [onStreakMilestone]);\n\n  // Note incorrect\n  const noteIncorrect = useCallback(() => {\n    setState((prev) => {\n      const newIncorrect = prev.incorrectCount + 1;\n      const newCompleted = prev.notesCompleted + 1;\n      const newLives = gameMode === 'timed' ? Math.max(0, prev.lives - 1) : prev.lives;\n      const consecutiveWrong = prev.consecutiveWrong + 1;\n      const streak = 0; // Reset streak on wrong note\n\n      // Trigger life lost callback\n      if (gameMode === 'timed' && newLives < prev.lives && onLifeLost) {\n        onLifeLost(newLives);\n      }\n\n      // Check fail conditions (timed mode only)\n      const failedByLives = gameMode === 'timed' && newLives === 0;\n      const failedByConsecutive = gameMode === 'timed' && consecutiveWrong >= 3;\n      const roundFailed = failedByLives || failedByConsecutive;\n\n      // Check if round complete\n      const roundComplete = newCompleted >= prev.notesRequired || roundFailed;\n\n      return {\n        ...prev,\n        incorrectCount: newIncorrect,\n        notesCompleted: newCompleted,\n        lives: newLives,\n        streak,\n        consecutiveWrong,\n        isComplete: roundComplete,\n        isSuccessful: roundFailed ? false : null,\n        isActive: !roundComplete,\n      };\n    });\n  }, [gameMode, onLifeLost]);\n\n  // Reset round\n  const resetRound = useCallback(() => {\n    setState({\n      isActive: false,\n      isComplete: false,\n      isSuccessful: null,\n      timeLeft: config.duration,\n      maxTime: config.duration,\n      lives: maxLives,\n      maxLives,\n      notesCompleted: 0,\n      notesRequired: config.notesPerRound,\n      correctCount: 0,\n      incorrectCount: 0,\n      streak: 0,\n      consecutiveWrong: 0,\n      currentScore: null,\n    });\n  }, [config.duration, config.notesPerRound, maxLives]);\n\n  // Auto-complete round when all notes done\n  useEffect(() => {\n    if (state.isComplete && !state.isSuccessful && state.notesCompleted >= state.notesRequired) {\n      endRound();\n    }\n  }, [state.isComplete, state.isSuccessful, state.notesCompleted, state.notesRequired, endRound]);\n\n  const actions: GameRoundActions = {\n    startRound,\n    endRound,\n    noteCorrect,\n    noteIncorrect,\n    resetRound,\n  };\n\n  return [state, actions];\n}\n","export const version = \"15.1.22\";\n//# sourceMappingURL=version.js.map","export const createExtendedExponentialRampToValueAutomationEvent = (value, endTime, insertTime) => {\n    return { endTime, insertTime, type: 'exponentialRampToValue', value };\n};\n//# sourceMappingURL=create-extended-exponential-ramp-to-value-automation-event.js.map","export const createExtendedLinearRampToValueAutomationEvent = (value, endTime, insertTime) => {\n    return { endTime, insertTime, type: 'linearRampToValue', value };\n};\n//# sourceMappingURL=create-extended-linear-ramp-to-value-automation-event.js.map","export const createSetValueAutomationEvent = (value, startTime) => {\n    return { startTime, type: 'setValue', value };\n};\n//# sourceMappingURL=create-set-value-automation-event.js.map","export const createSetValueCurveAutomationEvent = (values, startTime, duration) => {\n    return { duration, startTime, type: 'setValueCurve', values };\n};\n//# sourceMappingURL=create-set-value-curve-automation-event.js.map","export const getTargetValueAtTime = (time, valueAtStartTime, { startTime, target, timeConstant }) => {\n    return target + (valueAtStartTime - target) * Math.exp((startTime - time) / timeConstant);\n};\n//# sourceMappingURL=get-target-value-at-time.js.map","export const isExponentialRampToValueAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'exponentialRampToValue';\n};\n//# sourceMappingURL=exponential-ramp-to-value-automation-event.js.map","export const isLinearRampToValueAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'linearRampToValue';\n};\n//# sourceMappingURL=linear-ramp-to-value-automation-event.js.map","import { isExponentialRampToValueAutomationEvent } from './exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from './linear-ramp-to-value-automation-event';\nexport const isAnyRampToValueAutomationEvent = (automationEvent) => {\n    return isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent);\n};\n//# sourceMappingURL=any-ramp-to-value-automation-event.js.map","export const isSetValueAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'setValue';\n};\n//# sourceMappingURL=set-value-automation-event.js.map","export const isSetValueCurveAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'setValueCurve';\n};\n//# sourceMappingURL=set-value-curve-automation-event.js.map","import { getTargetValueAtTime } from '../functions/get-target-value-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nexport const getValueOfAutomationEventAtIndexAtTime = (automationEvents, index, time, defaultValue) => {\n    const automationEvent = automationEvents[index];\n    return automationEvent === undefined\n        ? defaultValue\n        : isAnyRampToValueAutomationEvent(automationEvent) || isSetValueAutomationEvent(automationEvent)\n            ? automationEvent.value\n            : isSetValueCurveAutomationEvent(automationEvent)\n                ? automationEvent.values[automationEvent.values.length - 1]\n                : getTargetValueAtTime(time, getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, automationEvent.startTime, defaultValue), automationEvent);\n};\n//# sourceMappingURL=get-value-of-automation-event-at-index-at-time.js.map","import { getValueOfAutomationEventAtIndexAtTime } from '../functions/get-value-of-automation-event-at-index-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nexport const getEndTimeAndValueOfPreviousAutomationEvent = (automationEvents, index, currentAutomationEvent, nextAutomationEvent, defaultValue) => {\n    return currentAutomationEvent === undefined\n        ? [nextAutomationEvent.insertTime, defaultValue]\n        : isAnyRampToValueAutomationEvent(currentAutomationEvent)\n            ? [currentAutomationEvent.endTime, currentAutomationEvent.value]\n            : isSetValueAutomationEvent(currentAutomationEvent)\n                ? [currentAutomationEvent.startTime, currentAutomationEvent.value]\n                : isSetValueCurveAutomationEvent(currentAutomationEvent)\n                    ? [\n                        currentAutomationEvent.startTime + currentAutomationEvent.duration,\n                        currentAutomationEvent.values[currentAutomationEvent.values.length - 1]\n                    ]\n                    : [\n                        currentAutomationEvent.startTime,\n                        getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, currentAutomationEvent.startTime, defaultValue)\n                    ];\n};\n//# sourceMappingURL=get-end-time-and-value-of-previous-automation-event.js.map","export const isCancelAndHoldAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'cancelAndHold';\n};\n//# sourceMappingURL=cancel-and-hold-automation-event.js.map","export const isCancelScheduledValuesAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'cancelScheduledValues';\n};\n//# sourceMappingURL=cancel-scheduled-values-automation-event.js.map","import { isCancelAndHoldAutomationEvent } from '../guards/cancel-and-hold-automation-event';\nimport { isCancelScheduledValuesAutomationEvent } from '../guards/cancel-scheduled-values-automation-event';\nimport { isExponentialRampToValueAutomationEvent } from '../guards/exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from '../guards/linear-ramp-to-value-automation-event';\nexport const getEventTime = (automationEvent) => {\n    if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n        return automationEvent.cancelTime;\n    }\n    if (isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent)) {\n        return automationEvent.endTime;\n    }\n    return automationEvent.startTime;\n};\n//# sourceMappingURL=get-event-time.js.map","export const getExponentialRampValueAtTime = (time, startTime, valueAtStartTime, { endTime, value }) => {\n    if (valueAtStartTime === value) {\n        return value;\n    }\n    if ((0 < valueAtStartTime && 0 < value) || (valueAtStartTime < 0 && value < 0)) {\n        return valueAtStartTime * (value / valueAtStartTime) ** ((time - startTime) / (endTime - startTime));\n    }\n    return 0;\n};\n//# sourceMappingURL=get-exponential-ramp-value-at-time.js.map","export const getLinearRampValueAtTime = (time, startTime, valueAtStartTime, { endTime, value }) => {\n    return valueAtStartTime + ((time - startTime) / (endTime - startTime)) * (value - valueAtStartTime);\n};\n//# sourceMappingURL=get-linear-ramp-value-at-time.js.map","export const interpolateValue = (values, theoreticIndex) => {\n    const lowerIndex = Math.floor(theoreticIndex);\n    const upperIndex = Math.ceil(theoreticIndex);\n    if (lowerIndex === upperIndex) {\n        return values[lowerIndex];\n    }\n    return (1 - (theoreticIndex - lowerIndex)) * values[lowerIndex] + (1 - (upperIndex - theoreticIndex)) * values[upperIndex];\n};\n//# sourceMappingURL=interpolate-value.js.map","import { interpolateValue } from './interpolate-value';\nexport const getValueCurveValueAtTime = (time, { duration, startTime, values }) => {\n    const theoreticIndex = ((time - startTime) / duration) * (values.length - 1);\n    return interpolateValue(values, theoreticIndex);\n};\n//# sourceMappingURL=get-value-curve-value-at-time.js.map","export const isSetTargetAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'setTarget';\n};\n//# sourceMappingURL=set-target-automation-event.js.map","import { createExtendedExponentialRampToValueAutomationEvent } from '../functions/create-extended-exponential-ramp-to-value-automation-event';\nimport { createExtendedLinearRampToValueAutomationEvent } from '../functions/create-extended-linear-ramp-to-value-automation-event';\nimport { createSetValueAutomationEvent } from '../functions/create-set-value-automation-event';\nimport { createSetValueCurveAutomationEvent } from '../functions/create-set-value-curve-automation-event';\nimport { getEndTimeAndValueOfPreviousAutomationEvent } from '../functions/get-end-time-and-value-of-previous-automation-event';\nimport { getEventTime } from '../functions/get-event-time';\nimport { getExponentialRampValueAtTime } from '../functions/get-exponential-ramp-value-at-time';\nimport { getLinearRampValueAtTime } from '../functions/get-linear-ramp-value-at-time';\nimport { getTargetValueAtTime } from '../functions/get-target-value-at-time';\nimport { getValueCurveValueAtTime } from '../functions/get-value-curve-value-at-time';\nimport { getValueOfAutomationEventAtIndexAtTime } from '../functions/get-value-of-automation-event-at-index-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isCancelAndHoldAutomationEvent } from '../guards/cancel-and-hold-automation-event';\nimport { isCancelScheduledValuesAutomationEvent } from '../guards/cancel-scheduled-values-automation-event';\nimport { isExponentialRampToValueAutomationEvent } from '../guards/exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from '../guards/linear-ramp-to-value-automation-event';\nimport { isSetTargetAutomationEvent } from '../guards/set-target-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nexport class AutomationEventList {\n    constructor(defaultValue) {\n        this._automationEvents = [];\n        this._currenTime = 0;\n        this._defaultValue = defaultValue;\n    }\n    [Symbol.iterator]() {\n        return this._automationEvents[Symbol.iterator]();\n    }\n    add(automationEvent) {\n        const eventTime = getEventTime(automationEvent);\n        if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n            const index = this._automationEvents.findIndex((currentAutomationEvent) => {\n                if (isCancelScheduledValuesAutomationEvent(automationEvent) && isSetValueCurveAutomationEvent(currentAutomationEvent)) {\n                    return currentAutomationEvent.startTime + currentAutomationEvent.duration >= eventTime;\n                }\n                return getEventTime(currentAutomationEvent) >= eventTime;\n            });\n            const removedAutomationEvent = this._automationEvents[index];\n            if (index !== -1) {\n                this._automationEvents = this._automationEvents.slice(0, index);\n            }\n            if (isCancelAndHoldAutomationEvent(automationEvent)) {\n                const lastAutomationEvent = this._automationEvents[this._automationEvents.length - 1];\n                if (removedAutomationEvent !== undefined && isAnyRampToValueAutomationEvent(removedAutomationEvent)) {\n                    if (lastAutomationEvent !== undefined && isSetTargetAutomationEvent(lastAutomationEvent)) {\n                        throw new Error('The internal list is malformed.');\n                    }\n                    const startTime = lastAutomationEvent === undefined\n                        ? removedAutomationEvent.insertTime\n                        : isSetValueCurveAutomationEvent(lastAutomationEvent)\n                            ? lastAutomationEvent.startTime + lastAutomationEvent.duration\n                            : getEventTime(lastAutomationEvent);\n                    const startValue = lastAutomationEvent === undefined\n                        ? this._defaultValue\n                        : isSetValueCurveAutomationEvent(lastAutomationEvent)\n                            ? lastAutomationEvent.values[lastAutomationEvent.values.length - 1]\n                            : lastAutomationEvent.value;\n                    const value = isExponentialRampToValueAutomationEvent(removedAutomationEvent)\n                        ? getExponentialRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent)\n                        : getLinearRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent);\n                    const truncatedAutomationEvent = isExponentialRampToValueAutomationEvent(removedAutomationEvent)\n                        ? createExtendedExponentialRampToValueAutomationEvent(value, eventTime, this._currenTime)\n                        : createExtendedLinearRampToValueAutomationEvent(value, eventTime, this._currenTime);\n                    this._automationEvents.push(truncatedAutomationEvent);\n                }\n                if (lastAutomationEvent !== undefined && isSetTargetAutomationEvent(lastAutomationEvent)) {\n                    this._automationEvents.push(createSetValueAutomationEvent(this.getValue(eventTime), eventTime));\n                }\n                if (lastAutomationEvent !== undefined &&\n                    isSetValueCurveAutomationEvent(lastAutomationEvent) &&\n                    lastAutomationEvent.startTime + lastAutomationEvent.duration > eventTime) {\n                    const duration = eventTime - lastAutomationEvent.startTime;\n                    const ratio = (lastAutomationEvent.values.length - 1) / lastAutomationEvent.duration;\n                    const length = Math.max(2, 1 + Math.ceil(duration * ratio));\n                    const fraction = (duration / (length - 1)) * ratio;\n                    const values = lastAutomationEvent.values.slice(0, length);\n                    if (fraction < 1) {\n                        for (let i = 1; i < length; i += 1) {\n                            const factor = (fraction * i) % 1;\n                            values[i] = lastAutomationEvent.values[i - 1] * (1 - factor) + lastAutomationEvent.values[i] * factor;\n                        }\n                    }\n                    this._automationEvents[this._automationEvents.length - 1] = createSetValueCurveAutomationEvent(values, lastAutomationEvent.startTime, duration);\n                }\n            }\n        }\n        else {\n            const index = this._automationEvents.findIndex((currentAutomationEvent) => getEventTime(currentAutomationEvent) > eventTime);\n            const previousAutomationEvent = index === -1 ? this._automationEvents[this._automationEvents.length - 1] : this._automationEvents[index - 1];\n            if (previousAutomationEvent !== undefined &&\n                isSetValueCurveAutomationEvent(previousAutomationEvent) &&\n                getEventTime(previousAutomationEvent) + previousAutomationEvent.duration > eventTime) {\n                return false;\n            }\n            const persistentAutomationEvent = isExponentialRampToValueAutomationEvent(automationEvent)\n                ? createExtendedExponentialRampToValueAutomationEvent(automationEvent.value, automationEvent.endTime, this._currenTime)\n                : isLinearRampToValueAutomationEvent(automationEvent)\n                    ? createExtendedLinearRampToValueAutomationEvent(automationEvent.value, eventTime, this._currenTime)\n                    : automationEvent;\n            if (index === -1) {\n                this._automationEvents.push(persistentAutomationEvent);\n            }\n            else {\n                if (isSetValueCurveAutomationEvent(automationEvent) &&\n                    eventTime + automationEvent.duration > getEventTime(this._automationEvents[index])) {\n                    return false;\n                }\n                this._automationEvents.splice(index, 0, persistentAutomationEvent);\n            }\n        }\n        return true;\n    }\n    flush(time) {\n        const index = this._automationEvents.findIndex((currentAutomationEvent) => getEventTime(currentAutomationEvent) > time);\n        if (index > 1) {\n            const remainingAutomationEvents = this._automationEvents.slice(index - 1);\n            const firstRemainingAutomationEvent = remainingAutomationEvents[0];\n            if (isSetTargetAutomationEvent(firstRemainingAutomationEvent)) {\n                remainingAutomationEvents.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents, index - 2, firstRemainingAutomationEvent.startTime, this._defaultValue), firstRemainingAutomationEvent.startTime));\n            }\n            this._automationEvents = remainingAutomationEvents;\n        }\n    }\n    getValue(time) {\n        if (this._automationEvents.length === 0) {\n            return this._defaultValue;\n        }\n        const indexOfNextEvent = this._automationEvents.findIndex((automationEvent) => getEventTime(automationEvent) > time);\n        const nextAutomationEvent = this._automationEvents[indexOfNextEvent];\n        const indexOfCurrentEvent = (indexOfNextEvent === -1 ? this._automationEvents.length : indexOfNextEvent) - 1;\n        const currentAutomationEvent = this._automationEvents[indexOfCurrentEvent];\n        if (currentAutomationEvent !== undefined &&\n            isSetTargetAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined ||\n                !isAnyRampToValueAutomationEvent(nextAutomationEvent) ||\n                nextAutomationEvent.insertTime > time)) {\n            return getTargetValueAtTime(time, getValueOfAutomationEventAtIndexAtTime(this._automationEvents, indexOfCurrentEvent - 1, currentAutomationEvent.startTime, this._defaultValue), currentAutomationEvent);\n        }\n        if (currentAutomationEvent !== undefined &&\n            isSetValueAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))) {\n            return currentAutomationEvent.value;\n        }\n        if (currentAutomationEvent !== undefined &&\n            isSetValueCurveAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined ||\n                !isAnyRampToValueAutomationEvent(nextAutomationEvent) ||\n                currentAutomationEvent.startTime + currentAutomationEvent.duration > time)) {\n            if (time < currentAutomationEvent.startTime + currentAutomationEvent.duration) {\n                return getValueCurveValueAtTime(time, currentAutomationEvent);\n            }\n            return currentAutomationEvent.values[currentAutomationEvent.values.length - 1];\n        }\n        if (currentAutomationEvent !== undefined &&\n            isAnyRampToValueAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))) {\n            return currentAutomationEvent.value;\n        }\n        if (nextAutomationEvent !== undefined && isExponentialRampToValueAutomationEvent(nextAutomationEvent)) {\n            const [startTime, value] = getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents, indexOfCurrentEvent, currentAutomationEvent, nextAutomationEvent, this._defaultValue);\n            return getExponentialRampValueAtTime(time, startTime, value, nextAutomationEvent);\n        }\n        if (nextAutomationEvent !== undefined && isLinearRampToValueAutomationEvent(nextAutomationEvent)) {\n            const [startTime, value] = getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents, indexOfCurrentEvent, currentAutomationEvent, nextAutomationEvent, this._defaultValue);\n            return getLinearRampValueAtTime(time, startTime, value, nextAutomationEvent);\n        }\n        return this._defaultValue;\n    }\n}\n//# sourceMappingURL=automation-event-list.js.map","export const createCancelAndHoldAutomationEvent = (cancelTime) => {\n    return { cancelTime, type: 'cancelAndHold' };\n};\n//# sourceMappingURL=create-cancel-and-hold-automation-event.js.map","export const createCancelScheduledValuesAutomationEvent = (cancelTime) => {\n    return { cancelTime, type: 'cancelScheduledValues' };\n};\n//# sourceMappingURL=create-cancel-scheduled-values-automation-event.js.map","export const createExponentialRampToValueAutomationEvent = (value, endTime) => {\n    return { endTime, type: 'exponentialRampToValue', value };\n};\n//# sourceMappingURL=create-exponential-ramp-to-value-automation-event.js.map","export const createLinearRampToValueAutomationEvent = (value, endTime) => {\n    return { endTime, type: 'linearRampToValue', value };\n};\n//# sourceMappingURL=create-linear-ramp-to-value-automation-event.js.map","export const createSetTargetAutomationEvent = (target, startTime, timeConstant) => {\n    return { startTime, target, timeConstant, type: 'setTarget' };\n};\n//# sourceMappingURL=create-set-target-automation-event.js.map","export const createAbortError = () => new DOMException('', 'AbortError');\n//# sourceMappingURL=abort-error.js.map","export const createAddActiveInputConnectionToAudioNode = (insertElementInSet) => {\n    return (activeInputs, source, [output, input, eventListener], ignoreDuplicates) => {\n        insertElementInSet(activeInputs[input], [source, output, eventListener], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output, ignoreDuplicates);\n    };\n};\n//# sourceMappingURL=add-active-input-connection-to-audio-node.js.map","export const createAddAudioNodeConnections = (audioNodeConnectionsStore) => {\n    return (audioNode, audioNodeRenderer, nativeAudioNode) => {\n        const activeInputs = [];\n        for (let i = 0; i < nativeAudioNode.numberOfInputs; i += 1) {\n            activeInputs.push(new Set());\n        }\n        audioNodeConnectionsStore.set(audioNode, {\n            activeInputs,\n            outputs: new Set(),\n            passiveInputs: new WeakMap(),\n            renderer: audioNodeRenderer\n        });\n    };\n};\n//# sourceMappingURL=add-audio-node-connections.js.map","export const createAddAudioParamConnections = (audioParamConnectionsStore) => {\n    return (audioParam, audioParamRenderer) => {\n        audioParamConnectionsStore.set(audioParam, { activeInputs: new Set(), passiveInputs: new WeakMap(), renderer: audioParamRenderer });\n    };\n};\n//# sourceMappingURL=add-audio-param-connections.js.map","export const ACTIVE_AUDIO_NODE_STORE = new WeakSet();\nexport const AUDIO_NODE_CONNECTIONS_STORE = new WeakMap();\nexport const AUDIO_NODE_STORE = new WeakMap();\nexport const AUDIO_PARAM_CONNECTIONS_STORE = new WeakMap();\nexport const AUDIO_PARAM_STORE = new WeakMap();\nexport const CONTEXT_STORE = new WeakMap();\nexport const EVENT_LISTENERS = new WeakMap();\nexport const CYCLE_COUNTERS = new WeakMap();\n// This clunky name is borrowed from the spec. :-)\nexport const NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS = new WeakMap();\nexport const NODE_TO_PROCESSOR_MAPS = new WeakMap();\n//# sourceMappingURL=globals.js.map","const handler = {\n    construct() {\n        return handler;\n    }\n};\nexport const isConstructible = (constructible) => {\n    try {\n        const proxy = new Proxy(constructible, handler);\n        new proxy(); // tslint:disable-line:no-unused-expression\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=is-constructible.js.map","/*\n * This massive regex tries to cover all the following cases.\n *\n * import './path';\n * import defaultImport from './path';\n * import { namedImport } from './path';\n * import { namedImport as renamendImport } from './path';\n * import * as namespaceImport from './path';\n * import defaultImport, { namedImport } from './path';\n * import defaultImport, { namedImport as renamendImport } from './path';\n * import defaultImport, * as namespaceImport from './path';\n */\nconst IMPORT_STATEMENT_REGEX = /^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/; // tslint:disable-line:max-line-length\nexport const splitImportStatements = (source, url) => {\n    const importStatements = [];\n    let sourceWithoutImportStatements = source.replace(/^[\\s]+/, '');\n    let result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    while (result !== null) {\n        const unresolvedUrl = result[1].slice(1, -1);\n        const importStatementWithResolvedUrl = result[0]\n            .replace(/([\\s]+)?;?$/, '')\n            .replace(unresolvedUrl, new URL(unresolvedUrl, url).toString());\n        importStatements.push(importStatementWithResolvedUrl);\n        sourceWithoutImportStatements = sourceWithoutImportStatements.slice(result[0].length).replace(/^[\\s]+/, '');\n        result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    }\n    return [importStatements.join(';'), sourceWithoutImportStatements];\n};\n//# sourceMappingURL=split-import-statements.js.map","import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport { isConstructible } from '../helpers/is-constructible';\nimport { splitImportStatements } from '../helpers/split-import-statements';\nconst verifyParameterDescriptors = (parameterDescriptors) => {\n    if (parameterDescriptors !== undefined && !Array.isArray(parameterDescriptors)) {\n        throw new TypeError('The parameterDescriptors property of given value for processorCtor is not an array.');\n    }\n};\nconst verifyProcessorCtor = (processorCtor) => {\n    if (!isConstructible(processorCtor)) {\n        throw new TypeError('The given value for processorCtor should be a constructor.');\n    }\n    if (processorCtor.prototype === null || typeof processorCtor.prototype !== 'object') {\n        throw new TypeError('The given value for processorCtor should have a prototype.');\n    }\n};\nexport const createAddAudioWorkletModule = (cacheTestResult, createNotSupportedError, evaluateSource, exposeCurrentFrameAndCurrentTime, fetchSource, getNativeContext, getOrCreateBackupOfflineAudioContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, ongoingRequests, resolvedRequests, testAudioWorkletProcessorPostMessageSupport, window) => {\n    let index = 0;\n    return (context, moduleURL, options = { credentials: 'omit' }) => {\n        const resolvedRequestsOfContext = resolvedRequests.get(context);\n        if (resolvedRequestsOfContext !== undefined && resolvedRequestsOfContext.has(moduleURL)) {\n            return Promise.resolve();\n        }\n        const ongoingRequestsOfContext = ongoingRequests.get(context);\n        if (ongoingRequestsOfContext !== undefined) {\n            const promiseOfOngoingRequest = ongoingRequestsOfContext.get(moduleURL);\n            if (promiseOfOngoingRequest !== undefined) {\n                return promiseOfOngoingRequest;\n            }\n        }\n        const nativeContext = getNativeContext(context);\n        // Bug #59: Safari does not implement the audioWorklet property.\n        const promise = nativeContext.audioWorklet === undefined\n            ? fetchSource(moduleURL)\n                .then(([source, absoluteUrl]) => {\n                const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n                /*\n                 * This is the unminified version of the code used below:\n                 *\n                 * ```js\n                 * ${ importStatements };\n                 * ((a, b) => {\n                 *     (a[b] = a[b] || [ ]).push(\n                 *         (AudioWorkletProcessor, global, registerProcessor, sampleRate, self, window) => {\n                 *             ${ sourceWithoutImportStatements }\n                 *         }\n                 *     );\n                 * })(window, '_AWGS');\n                 * ```\n                 */\n                // tslint:disable-next-line:max-line-length\n                const wrappedSource = `${importStatements};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${sourceWithoutImportStatements}\n})})(window,'_AWGS')`;\n                // @todo Evaluating the given source code is a possible security problem.\n                return evaluateSource(wrappedSource);\n            })\n                .then(() => {\n                const evaluateAudioWorkletGlobalScope = window._AWGS.pop();\n                if (evaluateAudioWorkletGlobalScope === undefined) {\n                    // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                    throw new SyntaxError();\n                }\n                exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () => evaluateAudioWorkletGlobalScope(class AudioWorkletProcessor {\n                }, undefined, (name, processorCtor) => {\n                    if (name.trim() === '') {\n                        throw createNotSupportedError();\n                    }\n                    const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n                    if (nodeNameToProcessorConstructorMap !== undefined) {\n                        if (nodeNameToProcessorConstructorMap.has(name)) {\n                            throw createNotSupportedError();\n                        }\n                        verifyProcessorCtor(processorCtor);\n                        verifyParameterDescriptors(processorCtor.parameterDescriptors);\n                        nodeNameToProcessorConstructorMap.set(name, processorCtor);\n                    }\n                    else {\n                        verifyProcessorCtor(processorCtor);\n                        verifyParameterDescriptors(processorCtor.parameterDescriptors);\n                        NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(nativeContext, new Map([[name, processorCtor]]));\n                    }\n                }, nativeContext.sampleRate, undefined, undefined));\n            })\n            : Promise.all([\n                fetchSource(moduleURL),\n                Promise.resolve(cacheTestResult(testAudioWorkletProcessorPostMessageSupport, testAudioWorkletProcessorPostMessageSupport))\n            ]).then(([[source, absoluteUrl], isSupportingPostMessage]) => {\n                const currentIndex = index + 1;\n                index = currentIndex;\n                const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n                /*\n                 * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                 *\n                 * This is the unminified version of the code used below.\n                 *\n                 * ```js\n                 * class extends AudioWorkletProcessor {\n                 *\n                 *     __buffers = new WeakSet();\n                 *\n                 *     constructor () {\n                 *         super();\n                 *\n                 *         this.port.postMessage = ((postMessage) => {\n                 *             return (message, transferables) => {\n                 *                 const filteredTransferables = (transferables)\n                 *                     ? transferables.filter((transferable) => !this.__buffers.has(transferable))\n                 *                     : transferables;\n                 *\n                 *                 return postMessage.call(this.port, message, filteredTransferables);\n                 *              };\n                 *         })(this.port.postMessage);\n                 *     }\n                 * }\n                 * ```\n                 */\n                const patchedAudioWorkletProcessor = isSupportingPostMessage\n                    ? 'AudioWorkletProcessor'\n                    : 'class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}';\n                /*\n                 * Bug #170: Chrome and Edge do call process() with an array with empty channelData for each input if no input is connected.\n                 *\n                 * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                 *\n                 * Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                 *\n                 * This is the unminified version of the code used below:\n                 *\n                 * ```js\n                 * `${ importStatements };\n                 * ((AudioWorkletProcessor, registerProcessor) => {${ sourceWithoutImportStatements }\n                 * })(\n                 *     ${patchedAudioWorkletProcessor },\n                 *     (name, processorCtor) => registerProcessor(name, class extends processorCtor {\n                 *\n                 *         __collectBuffers = (array) => {\n                 *             array.forEach((element) => this.__buffers.add(element.buffer));\n                 *         };\n                 *\n                 *         process (inputs, outputs, parameters) {\n                 *             inputs.forEach(this.__collectBuffers);\n                 *             outputs.forEach(this.__collectBuffers);\n                 *             this.__collectBuffers(Object.values(parameters));\n                 *\n                 *             return super.process(\n                 *                 (inputs.map((input) => input.some((channelData) => channelData.length === 0)) ? [ ] : input),\n                 *                 outputs,\n                 *                 parameters\n                 *             );\n                 *         }\n                 *\n                 *     })\n                 * );\n                 *\n                 * registerProcessor(`__sac${currentIndex}`, class extends AudioWorkletProcessor{\n                 *\n                 *     process () {\n                 *         return false;\n                 *     }\n                 *\n                 * })`\n                 * ```\n                 */\n                const memberDefinition = isSupportingPostMessage ? '' : '__c = (a) => a.forEach(e=>this.__b.add(e.buffer));';\n                const bufferRegistration = isSupportingPostMessage\n                    ? ''\n                    : 'i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));';\n                const wrappedSource = `${importStatements};((AudioWorkletProcessor,registerProcessor)=>{${sourceWithoutImportStatements}\n})(${patchedAudioWorkletProcessor},(n,p)=>registerProcessor(n,class extends p{${memberDefinition}process(i,o,p){${bufferRegistration}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${currentIndex}',class extends AudioWorkletProcessor{process(){return !1}})`;\n                const blob = new Blob([wrappedSource], { type: 'application/javascript; charset=utf-8' });\n                const url = URL.createObjectURL(blob);\n                return nativeContext.audioWorklet\n                    .addModule(url, options)\n                    .then(() => {\n                    if (isNativeOfflineAudioContext(nativeContext)) {\n                        return nativeContext;\n                    }\n                    // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n                    const backupOfflineAudioContext = getOrCreateBackupOfflineAudioContext(nativeContext);\n                    return backupOfflineAudioContext.audioWorklet.addModule(url, options).then(() => backupOfflineAudioContext);\n                })\n                    .then((nativeContextOrBackupOfflineAudioContext) => {\n                    if (nativeAudioWorkletNodeConstructor === null) {\n                        throw new SyntaxError();\n                    }\n                    try {\n                        // Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                        new nativeAudioWorkletNodeConstructor(nativeContextOrBackupOfflineAudioContext, `__sac${currentIndex}`); // tslint:disable-line:no-unused-expression\n                    }\n                    catch {\n                        throw new SyntaxError();\n                    }\n                })\n                    .finally(() => URL.revokeObjectURL(url));\n            });\n        if (ongoingRequestsOfContext === undefined) {\n            ongoingRequests.set(context, new Map([[moduleURL, promise]]));\n        }\n        else {\n            ongoingRequestsOfContext.set(moduleURL, promise);\n        }\n        promise\n            .then(() => {\n            const updatedResolvedRequestsOfContext = resolvedRequests.get(context);\n            if (updatedResolvedRequestsOfContext === undefined) {\n                resolvedRequests.set(context, new Set([moduleURL]));\n            }\n            else {\n                updatedResolvedRequestsOfContext.add(moduleURL);\n            }\n        })\n            .finally(() => {\n            const updatedOngoingRequestsOfContext = ongoingRequests.get(context);\n            if (updatedOngoingRequestsOfContext !== undefined) {\n                updatedOngoingRequestsOfContext.delete(moduleURL);\n            }\n        });\n        return promise;\n    };\n};\n//# sourceMappingURL=add-audio-worklet-module.js.map","export const getValueForKey = (map, key) => {\n    const value = map.get(key);\n    if (value === undefined) {\n        throw new Error('A value with the given key could not be found.');\n    }\n    return value;\n};\n//# sourceMappingURL=get-value-for-key.js.map","export const pickElementFromSet = (set, predicate) => {\n    const matchingElements = Array.from(set).filter(predicate);\n    if (matchingElements.length > 1) {\n        throw Error('More than one element was found.');\n    }\n    if (matchingElements.length === 0) {\n        throw Error('No element was found.');\n    }\n    const [matchingElement] = matchingElements;\n    set.delete(matchingElement);\n    return matchingElement;\n};\n//# sourceMappingURL=pick-element-from-set.js.map","import { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\nexport const deletePassiveInputConnectionToAudioNode = (passiveInputs, source, output, input) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(passiveInputConnections, (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input);\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n    return matchingConnection;\n};\n//# sourceMappingURL=delete-passive-input-connection-to-audio-node.js.map","import { EVENT_LISTENERS } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getEventListenersOfAudioNode = (audioNode) => {\n    return getValueForKey(EVENT_LISTENERS, audioNode);\n};\n//# sourceMappingURL=get-event-listeners-of-audio-node.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const setInternalStateToActive = (audioNode) => {\n    if (ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is already stored.');\n    }\n    ACTIVE_AUDIO_NODE_STORE.add(audioNode);\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(true));\n};\n//# sourceMappingURL=set-internal-state-to-active.js.map","export const isAudioWorkletNode = (audioNode) => {\n    return 'port' in audioNode;\n};\n//# sourceMappingURL=audio-worklet-node.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const setInternalStateToPassive = (audioNode) => {\n    if (!ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is not stored.');\n    }\n    ACTIVE_AUDIO_NODE_STORE.delete(audioNode);\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(false));\n};\n//# sourceMappingURL=set-internal-state-to-passive.js.map","import { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\n// Set the internalState of the audioNode to 'passive' if it is not an AudioWorkletNode and if it has no 'active' input connections.\nexport const setInternalStateToPassiveWhenNecessary = (audioNode, activeInputs) => {\n    if (!isAudioWorkletNode(audioNode) && activeInputs.every((connections) => connections.size === 0)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n//# sourceMappingURL=set-internal-state-to-passive-when-necessary.js.map","import { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nexport const createAddConnectionToAudioNode = (addActiveInputConnectionToAudioNode, addPassiveInputConnectionToAudioNode, connectNativeAudioNodeToNativeAudioNode, deleteActiveInputConnectionToAudioNode, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getAudioNodeTailTime, getEventListenersOfAudioNode, getNativeAudioNode, insertElementInSet, isActiveAudioNode, isPartOfACycle, isPassiveAudioNode) => {\n    const tailTimeTimeoutIds = new WeakMap();\n    return (source, destination, output, input, isOffline) => {\n        const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n        const { outputs } = getAudioNodeConnections(source);\n        const eventListeners = getEventListenersOfAudioNode(source);\n        const eventListener = (isActive) => {\n            const nativeDestinationAudioNode = getNativeAudioNode(destination);\n            const nativeSourceAudioNode = getNativeAudioNode(source);\n            if (isActive) {\n                const partialConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n                addActiveInputConnectionToAudioNode(activeInputs, source, partialConnection, false);\n                if (!isOffline && !isPartOfACycle(source)) {\n                    connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n                if (isPassiveAudioNode(destination)) {\n                    setInternalStateToActive(destination);\n                }\n            }\n            else {\n                const partialConnection = deleteActiveInputConnectionToAudioNode(activeInputs, source, output, input);\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, partialConnection, false);\n                if (!isOffline && !isPartOfACycle(source)) {\n                    disconnectNativeAudioNodeFromNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n                const tailTime = getAudioNodeTailTime(destination);\n                if (tailTime === 0) {\n                    if (isActiveAudioNode(destination)) {\n                        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                    }\n                }\n                else {\n                    const tailTimeTimeoutId = tailTimeTimeoutIds.get(destination);\n                    if (tailTimeTimeoutId !== undefined) {\n                        clearTimeout(tailTimeTimeoutId);\n                    }\n                    tailTimeTimeoutIds.set(destination, setTimeout(() => {\n                        if (isActiveAudioNode(destination)) {\n                            setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                        }\n                    }, tailTime * 1000));\n                }\n            }\n        };\n        if (insertElementInSet(outputs, [destination, output, input], (outputConnection) => outputConnection[0] === destination && outputConnection[1] === output && outputConnection[2] === input, true)) {\n            eventListeners.add(eventListener);\n            if (isActiveAudioNode(source)) {\n                addActiveInputConnectionToAudioNode(activeInputs, source, [output, input, eventListener], true);\n            }\n            else {\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, [source, output, eventListener], true);\n            }\n            return true;\n        }\n        return false;\n    };\n};\n//# sourceMappingURL=add-connection-to-audio-node.js.map","export const createAddPassiveInputConnectionToAudioNode = (insertElementInSet) => {\n    return (passiveInputs, input, [source, output, eventListener], ignoreDuplicates) => {\n        const passiveInputConnections = passiveInputs.get(source);\n        if (passiveInputConnections === undefined) {\n            passiveInputs.set(source, new Set([[output, input, eventListener]]));\n        }\n        else {\n            insertElementInSet(passiveInputConnections, [output, input, eventListener], (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input, ignoreDuplicates);\n        }\n    };\n};\n//# sourceMappingURL=add-passive-input-connection-to-audio-node.js.map","export const createAddSilentConnection = (createNativeGainNode) => {\n    return (nativeContext, nativeAudioScheduledSourceNode) => {\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        nativeAudioScheduledSourceNode.connect(nativeGainNode).connect(nativeContext.destination);\n        const disconnect = () => {\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnect);\n            nativeAudioScheduledSourceNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        nativeAudioScheduledSourceNode.addEventListener('ended', disconnect);\n    };\n};\n//# sourceMappingURL=add-silent-connection.js.map","export const createAddUnrenderedAudioWorkletNode = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).add(audioWorkletNode);\n    };\n};\n//# sourceMappingURL=add-unrendered-audio-worklet-node.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    fftSize: 2048,\n    maxDecibels: -30,\n    minDecibels: -100,\n    smoothingTimeConstant: 0.8\n};\nexport const createAnalyserNodeConstructor = (audionNodeConstructor, createAnalyserNodeRenderer, createIndexSizeError, createNativeAnalyserNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class AnalyserNode extends audionNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAnalyserNode = createNativeAnalyserNode(nativeContext, mergedOptions);\n            const analyserNodeRenderer = ((isNativeOfflineAudioContext(nativeContext) ? createAnalyserNodeRenderer() : null));\n            super(context, false, nativeAnalyserNode, analyserNodeRenderer);\n            this._nativeAnalyserNode = nativeAnalyserNode;\n        }\n        get fftSize() {\n            return this._nativeAnalyserNode.fftSize;\n        }\n        set fftSize(value) {\n            this._nativeAnalyserNode.fftSize = value;\n        }\n        get frequencyBinCount() {\n            return this._nativeAnalyserNode.frequencyBinCount;\n        }\n        get maxDecibels() {\n            return this._nativeAnalyserNode.maxDecibels;\n        }\n        set maxDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const maxDecibels = this._nativeAnalyserNode.maxDecibels;\n            this._nativeAnalyserNode.maxDecibels = value;\n            if (!(value > this._nativeAnalyserNode.minDecibels)) {\n                this._nativeAnalyserNode.maxDecibels = maxDecibels;\n                throw createIndexSizeError();\n            }\n        }\n        get minDecibels() {\n            return this._nativeAnalyserNode.minDecibels;\n        }\n        set minDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const minDecibels = this._nativeAnalyserNode.minDecibels;\n            this._nativeAnalyserNode.minDecibels = value;\n            if (!(this._nativeAnalyserNode.maxDecibels > value)) {\n                this._nativeAnalyserNode.minDecibels = minDecibels;\n                throw createIndexSizeError();\n            }\n        }\n        get smoothingTimeConstant() {\n            return this._nativeAnalyserNode.smoothingTimeConstant;\n        }\n        set smoothingTimeConstant(value) {\n            this._nativeAnalyserNode.smoothingTimeConstant = value;\n        }\n        getByteFrequencyData(array) {\n            this._nativeAnalyserNode.getByteFrequencyData(array);\n        }\n        getByteTimeDomainData(array) {\n            this._nativeAnalyserNode.getByteTimeDomainData(array);\n        }\n        getFloatFrequencyData(array) {\n            this._nativeAnalyserNode.getFloatFrequencyData(array);\n        }\n        getFloatTimeDomainData(array) {\n            this._nativeAnalyserNode.getFloatTimeDomainData(array);\n        }\n    };\n};\n//# sourceMappingURL=analyser-node-constructor.js.map","export const isOwnedByContext = (nativeAudioNode, nativeContext) => {\n    return nativeAudioNode.context === nativeContext;\n};\n//# sourceMappingURL=is-owned-by-context.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createAnalyserNodeRendererFactory = (createNativeAnalyserNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAnalyserNodes = new WeakMap();\n        const createAnalyserNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAnalyserNode = getNativeAudioNode(proxy);\n            // If the initially used nativeAnalyserNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAnalyserNodeIsOwnedByContext = isOwnedByContext(nativeAnalyserNode, nativeOfflineAudioContext);\n            if (!nativeAnalyserNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAnalyserNode.channelCount,\n                    channelCountMode: nativeAnalyserNode.channelCountMode,\n                    channelInterpretation: nativeAnalyserNode.channelInterpretation,\n                    fftSize: nativeAnalyserNode.fftSize,\n                    maxDecibels: nativeAnalyserNode.maxDecibels,\n                    minDecibels: nativeAnalyserNode.minDecibels,\n                    smoothingTimeConstant: nativeAnalyserNode.smoothingTimeConstant\n                };\n                nativeAnalyserNode = createNativeAnalyserNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAnalyserNodes.set(nativeOfflineAudioContext, nativeAnalyserNode);\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAnalyserNode);\n            return nativeAnalyserNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAnalyserNode = renderedNativeAnalyserNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAnalyserNode !== undefined) {\n                    return Promise.resolve(renderedNativeAnalyserNode);\n                }\n                return createAnalyserNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=analyser-node-renderer-factory.js.map","export const testAudioBufferCopyChannelMethodsOutOfBoundsSupport = (nativeAudioBuffer) => {\n    try {\n        nativeAudioBuffer.copyToChannel(new Float32Array(1), 0, -1);\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-copy-channel-methods-out-of-bounds-support.js.map","export const createIndexSizeError = () => new DOMException('', 'IndexSizeError');\n//# sourceMappingURL=index-size-error.js.map","import { createIndexSizeError } from '../factories/index-size-error';\nexport const wrapAudioBufferGetChannelDataMethod = (audioBuffer) => {\n    audioBuffer.getChannelData = ((getChannelData) => {\n        return (channel) => {\n            try {\n                return getChannelData.call(audioBuffer, channel);\n            }\n            catch (err) {\n                if (err.code === 12) {\n                    throw createIndexSizeError();\n                }\n                throw err;\n            }\n        };\n    })(audioBuffer.getChannelData);\n};\n//# sourceMappingURL=wrap-audio-buffer-get-channel-data-method.js.map","import { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from '../helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n};\nexport const createAudioBufferConstructor = (audioBufferStore, cacheTestResult, createNotSupportedError, nativeAudioBufferConstructor, nativeOfflineAudioContextConstructor, testNativeAudioBufferConstructorSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds) => {\n    let nativeOfflineAudioContext = null;\n    return class AudioBuffer {\n        constructor(options) {\n            if (nativeOfflineAudioContextConstructor === null) {\n                throw new Error('Missing the native OfflineAudioContext constructor.');\n            }\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n            if (nativeOfflineAudioContext === null) {\n                nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n            }\n            /*\n             * Bug #99: Firefox does not throw a NotSupportedError when the numberOfChannels is zero. But it only does it when using the\n             * factory function. But since Firefox also supports the constructor everything should be fine.\n             */\n            const audioBuffer = nativeAudioBufferConstructor !== null &&\n                cacheTestResult(testNativeAudioBufferConstructorSupport, testNativeAudioBufferConstructorSupport)\n                ? new nativeAudioBufferConstructor({ length, numberOfChannels, sampleRate })\n                : nativeOfflineAudioContext.createBuffer(numberOfChannels, length, sampleRate);\n            // Bug #99: Safari does not throw an error when the numberOfChannels is zero.\n            if (audioBuffer.numberOfChannels === 0) {\n                throw createNotSupportedError();\n            }\n            // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n            // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n            if (typeof audioBuffer.copyFromChannel !== 'function') {\n                wrapAudioBufferCopyChannelMethods(audioBuffer);\n                wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n            }\n            else if (!cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () => testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer))) {\n                wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n            }\n            audioBufferStore.add(audioBuffer);\n            /*\n             * This does violate all good pratices but it is necessary to allow this AudioBuffer to be used with native\n             * (Offline)AudioContexts.\n             */\n            return audioBuffer;\n        }\n        static [Symbol.hasInstance](instance) {\n            return ((instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === AudioBuffer.prototype) ||\n                audioBufferStore.has(instance));\n        }\n    };\n};\n//# sourceMappingURL=audio-buffer-constructor.js.map","export const MOST_NEGATIVE_SINGLE_FLOAT = -3.4028234663852886e38;\nexport const MOST_POSITIVE_SINGLE_FLOAT = -MOST_NEGATIVE_SINGLE_FLOAT;\n//# sourceMappingURL=constants.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nexport const isActiveAudioNode = (audioNode) => ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n//# sourceMappingURL=is-active-audio-node.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    buffer: null,\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    // Bug #149: Safari does not yet support the detune AudioParam.\n    loop: false,\n    loopEnd: 0,\n    loopStart: 0,\n    playbackRate: 1\n};\nexport const createAudioBufferSourceNodeConstructor = (audioNodeConstructor, createAudioBufferSourceNodeRenderer, createAudioParam, createInvalidStateError, createNativeAudioBufferSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class AudioBufferSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const audioBufferSourceNodeRenderer = ((isOffline ? createAudioBufferSourceNodeRenderer() : null));\n            super(context, false, nativeAudioBufferSourceNode, audioBufferSourceNodeRenderer);\n            this._audioBufferSourceNodeRenderer = audioBufferSourceNodeRenderer;\n            this._isBufferNullified = false;\n            this._isBufferSet = mergedOptions.buffer !== null;\n            this._nativeAudioBufferSourceNode = nativeAudioBufferSourceNode;\n            this._onended = null;\n            // Bug #73: Safari does not export the correct values for maxValue and minValue.\n            this._playbackRate = createAudioParam(this, isOffline, nativeAudioBufferSourceNode.playbackRate, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n        }\n        get buffer() {\n            if (this._isBufferNullified) {\n                return null;\n            }\n            return this._nativeAudioBufferSourceNode.buffer;\n        }\n        set buffer(value) {\n            this._nativeAudioBufferSourceNode.buffer = value;\n            // Bug #72: Only Chrome & Edge do not allow to reassign the buffer yet.\n            if (value !== null) {\n                if (this._isBufferSet) {\n                    throw createInvalidStateError();\n                }\n                this._isBufferSet = true;\n            }\n        }\n        get loop() {\n            return this._nativeAudioBufferSourceNode.loop;\n        }\n        set loop(value) {\n            this._nativeAudioBufferSourceNode.loop = value;\n        }\n        get loopEnd() {\n            return this._nativeAudioBufferSourceNode.loopEnd;\n        }\n        set loopEnd(value) {\n            this._nativeAudioBufferSourceNode.loopEnd = value;\n        }\n        get loopStart() {\n            return this._nativeAudioBufferSourceNode.loopStart;\n        }\n        set loopStart(value) {\n            this._nativeAudioBufferSourceNode.loopStart = value;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeAudioBufferSourceNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeAudioBufferSourceNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        get playbackRate() {\n            return this._playbackRate;\n        }\n        start(when = 0, offset = 0, duration) {\n            this._nativeAudioBufferSourceNode.start(when, offset, duration);\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.start = duration === undefined ? [when, offset] : [when, offset, duration];\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeAudioBufferSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeAudioBufferSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeAudioBufferSourceNode.stop(when);\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-buffer-source-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createAudioBufferSourceNodeRendererFactory = (connectAudioParam, createNativeAudioBufferSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAudioBufferSourceNodes = new WeakMap();\n        let start = null;\n        let stop = null;\n        const createAudioBufferSourceNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioBufferSourceNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeAudioBufferSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeAudioBufferSourceNodeIsOwnedByContext = isOwnedByContext(nativeAudioBufferSourceNode, nativeOfflineAudioContext);\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                const options = {\n                    buffer: nativeAudioBufferSourceNode.buffer,\n                    channelCount: nativeAudioBufferSourceNode.channelCount,\n                    channelCountMode: nativeAudioBufferSourceNode.channelCountMode,\n                    channelInterpretation: nativeAudioBufferSourceNode.channelInterpretation,\n                    // Bug #149: Safari does not yet support the detune AudioParam.\n                    loop: nativeAudioBufferSourceNode.loop,\n                    loopEnd: nativeAudioBufferSourceNode.loopEnd,\n                    loopStart: nativeAudioBufferSourceNode.loopStart,\n                    playbackRate: nativeAudioBufferSourceNode.playbackRate.value\n                };\n                nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeAudioBufferSourceNode.start(...start);\n                }\n                if (stop !== null) {\n                    nativeAudioBufferSourceNode.stop(stop);\n                }\n            }\n            renderedNativeAudioBufferSourceNodes.set(nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await renderAutomation(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            }\n            else {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await connectAudioParam(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n            return nativeAudioBufferSourceNode;\n        };\n        return {\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioBufferSourceNode = renderedNativeAudioBufferSourceNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioBufferSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioBufferSourceNode);\n                }\n                return createAudioBufferSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-buffer-source-node-renderer-factory.js.map","export const isAudioBufferSourceNode = (audioNode) => {\n    return 'playbackRate' in audioNode;\n};\n//# sourceMappingURL=audio-buffer-source-node.js.map","export const isBiquadFilterNode = (audioNode) => {\n    return 'frequency' in audioNode && 'gain' in audioNode;\n};\n//# sourceMappingURL=biquad-filter-node.js.map","export const isConstantSourceNode = (audioNode) => {\n    return 'offset' in audioNode;\n};\n//# sourceMappingURL=constant-source-node.js.map","export const isGainNode = (audioNode) => {\n    return !('frequency' in audioNode) && 'gain' in audioNode;\n};\n//# sourceMappingURL=gain-node.js.map","export const isOscillatorNode = (audioNode) => {\n    return 'detune' in audioNode && 'frequency' in audioNode && !('gain' in audioNode);\n};\n//# sourceMappingURL=oscillator-node.js.map","export const isStereoPannerNode = (audioNode) => {\n    return 'pan' in audioNode;\n};\n//# sourceMappingURL=stereo-panner-node.js.map","import { AUDIO_NODE_CONNECTIONS_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioNodeConnections = (audioNode) => {\n    return getValueForKey(AUDIO_NODE_CONNECTIONS_STORE, audioNode);\n};\n//# sourceMappingURL=get-audio-node-connections.js.map","import { AUDIO_PARAM_CONNECTIONS_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioParamConnections = (audioParam) => {\n    return getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE, audioParam);\n};\n//# sourceMappingURL=get-audio-param-connections.js.map","import { isAudioBufferSourceNode } from '../guards/audio-buffer-source-node';\nimport { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { isBiquadFilterNode } from '../guards/biquad-filter-node';\nimport { isConstantSourceNode } from '../guards/constant-source-node';\nimport { isGainNode } from '../guards/gain-node';\nimport { isOscillatorNode } from '../guards/oscillator-node';\nimport { isStereoPannerNode } from '../guards/stereo-panner-node';\nimport { getAudioNodeConnections } from './get-audio-node-connections';\nimport { getAudioParamConnections } from './get-audio-param-connections';\nimport { isActiveAudioNode } from './is-active-audio-node';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\nexport const deactivateActiveAudioNodeInputConnections = (audioNode, trace) => {\n    const { activeInputs } = getAudioNodeConnections(audioNode);\n    activeInputs.forEach((connections) => connections.forEach(([source]) => {\n        if (!trace.includes(audioNode)) {\n            deactivateActiveAudioNodeInputConnections(source, [...trace, audioNode]);\n        }\n    }));\n    const audioParams = isAudioBufferSourceNode(audioNode)\n        ? [\n            // Bug #149: Safari does not yet support the detune AudioParam.\n            audioNode.playbackRate\n        ]\n        : isAudioWorkletNode(audioNode)\n            ? Array.from(audioNode.parameters.values())\n            : isBiquadFilterNode(audioNode)\n                ? [audioNode.Q, audioNode.detune, audioNode.frequency, audioNode.gain]\n                : isConstantSourceNode(audioNode)\n                    ? [audioNode.offset]\n                    : isGainNode(audioNode)\n                        ? [audioNode.gain]\n                        : isOscillatorNode(audioNode)\n                            ? [audioNode.detune, audioNode.frequency]\n                            : isStereoPannerNode(audioNode)\n                                ? [audioNode.pan]\n                                : [];\n    for (const audioParam of audioParams) {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        if (audioParamConnections !== undefined) {\n            audioParamConnections.activeInputs.forEach(([source]) => deactivateActiveAudioNodeInputConnections(source, trace));\n        }\n    }\n    if (isActiveAudioNode(audioNode)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n//# sourceMappingURL=deactivate-active-audio-node-input-connections.js.map","import { deactivateActiveAudioNodeInputConnections } from './deactivate-active-audio-node-input-connections';\nexport const deactivateAudioGraph = (context) => {\n    deactivateActiveAudioNodeInputConnections(context.destination, []);\n};\n//# sourceMappingURL=deactivate-audio-graph.js.map","export const isValidLatencyHint = (latencyHint) => {\n    return (latencyHint === undefined ||\n        typeof latencyHint === 'number' ||\n        (typeof latencyHint === 'string' && (latencyHint === 'balanced' || latencyHint === 'interactive' || latencyHint === 'playback')));\n};\n//# sourceMappingURL=is-valid-latency-hint.js.map","import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { isValidLatencyHint } from '../helpers/is-valid-latency-hint';\nexport const createAudioContextConstructor = (baseAudioContextConstructor, createInvalidStateError, createNotSupportedError, createUnknownError, mediaElementAudioSourceNodeConstructor, mediaStreamAudioDestinationNodeConstructor, mediaStreamAudioSourceNodeConstructor, mediaStreamTrackAudioSourceNodeConstructor, nativeAudioContextConstructor) => {\n    return class AudioContext extends baseAudioContextConstructor {\n        constructor(options = {}) {\n            if (nativeAudioContextConstructor === null) {\n                throw new Error('Missing the native AudioContext constructor.');\n            }\n            let nativeAudioContext;\n            try {\n                nativeAudioContext = new nativeAudioContextConstructor(options);\n            }\n            catch (err) {\n                // Bug #192 Safari does throw a SyntaxError if the sampleRate is not supported.\n                if (err.code === 12 && err.message === 'sampleRate is not in range') {\n                    throw createNotSupportedError();\n                }\n                throw err;\n            }\n            // Bug #131 Safari returns null when there are four other AudioContexts running already.\n            if (nativeAudioContext === null) {\n                throw createUnknownError();\n            }\n            // Bug #51 Only Chrome and Edge throw an error if the given latencyHint is invalid.\n            if (!isValidLatencyHint(options.latencyHint)) {\n                throw new TypeError(`The provided value '${options.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);\n            }\n            // Bug #150 Safari does not support setting the sampleRate.\n            if (options.sampleRate !== undefined && nativeAudioContext.sampleRate !== options.sampleRate) {\n                throw createNotSupportedError();\n            }\n            super(nativeAudioContext, 2);\n            const { latencyHint } = options;\n            const { sampleRate } = nativeAudioContext;\n            // @todo The values for 'balanced', 'interactive' and 'playback' are just copied from Chrome's implementation.\n            this._baseLatency =\n                typeof nativeAudioContext.baseLatency === 'number'\n                    ? nativeAudioContext.baseLatency\n                    : latencyHint === 'balanced'\n                        ? 512 / sampleRate\n                        : latencyHint === 'interactive' || latencyHint === undefined\n                            ? 256 / sampleRate\n                            : latencyHint === 'playback'\n                                ? 1024 / sampleRate\n                                : /*\n                                   * @todo The min (256) and max (16384) values are taken from the allowed bufferSize values of a\n                                   * ScriptProcessorNode.\n                                   */\n                                    (Math.max(2, Math.min(128, Math.round((latencyHint * sampleRate) / 128))) * 128) / sampleRate;\n            this._nativeAudioContext = nativeAudioContext;\n            // Bug #188: Safari will set the context's state to 'interrupted' in case the user switches tabs.\n            if (nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                this._nativeGainNode = nativeAudioContext.createGain();\n                this._nativeOscillatorNode = nativeAudioContext.createOscillator();\n                this._nativeGainNode.gain.value = 1e-37;\n                this._nativeOscillatorNode.connect(this._nativeGainNode).connect(nativeAudioContext.destination);\n                this._nativeOscillatorNode.start();\n            }\n            else {\n                this._nativeGainNode = null;\n                this._nativeOscillatorNode = null;\n            }\n            this._state = null;\n            /*\n             * Bug #34: Chrome and Edge pretend to be running right away, but fire an onstatechange event when the state actually changes\n             * to 'running'.\n             */\n            if (nativeAudioContext.state === 'running') {\n                this._state = 'suspended';\n                const revokeState = () => {\n                    if (this._state === 'suspended') {\n                        this._state = null;\n                    }\n                    nativeAudioContext.removeEventListener('statechange', revokeState);\n                };\n                nativeAudioContext.addEventListener('statechange', revokeState);\n            }\n        }\n        get baseLatency() {\n            return this._baseLatency;\n        }\n        get state() {\n            return this._state !== null ? this._state : this._nativeAudioContext.state;\n        }\n        close() {\n            // Bug #35: Firefox does not throw an error if the AudioContext was closed before.\n            if (this.state === 'closed') {\n                return this._nativeAudioContext.close().then(() => {\n                    throw createInvalidStateError();\n                });\n            }\n            // Bug #34: If the state was set to suspended before it should be revoked now.\n            if (this._state === 'suspended') {\n                this._state = null;\n            }\n            return this._nativeAudioContext.close().then(() => {\n                if (this._nativeGainNode !== null && this._nativeOscillatorNode !== null) {\n                    this._nativeOscillatorNode.stop();\n                    this._nativeGainNode.disconnect();\n                    this._nativeOscillatorNode.disconnect();\n                }\n                deactivateAudioGraph(this);\n            });\n        }\n        createMediaElementSource(mediaElement) {\n            return new mediaElementAudioSourceNodeConstructor(this, { mediaElement });\n        }\n        createMediaStreamDestination() {\n            return new mediaStreamAudioDestinationNodeConstructor(this);\n        }\n        createMediaStreamSource(mediaStream) {\n            return new mediaStreamAudioSourceNodeConstructor(this, { mediaStream });\n        }\n        createMediaStreamTrackSource(mediaStreamTrack) {\n            return new mediaStreamTrackAudioSourceNodeConstructor(this, { mediaStreamTrack });\n        }\n        resume() {\n            if (this._state === 'suspended') {\n                return new Promise((resolve, reject) => {\n                    const resolvePromise = () => {\n                        this._nativeAudioContext.removeEventListener('statechange', resolvePromise);\n                        if (this._nativeAudioContext.state === 'running') {\n                            resolve();\n                        }\n                        else {\n                            this.resume().then(resolve, reject);\n                        }\n                    };\n                    this._nativeAudioContext.addEventListener('statechange', resolvePromise);\n                });\n            }\n            return this._nativeAudioContext.resume().catch((err) => {\n                // Bug #55: Chrome and Edge do throw an InvalidAccessError instead of an InvalidStateError.\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined || err.code === 15) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n        suspend() {\n            return this._nativeAudioContext.suspend().catch((err) => {\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n    };\n};\n//# sourceMappingURL=audio-context-constructor.js.map","export const createAudioDestinationNodeConstructor = (audioNodeConstructor, createAudioDestinationNodeRenderer, createIndexSizeError, createInvalidStateError, createNativeAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext, renderInputsOfAudioNode) => {\n    return class AudioDestinationNode extends audioNodeConstructor {\n        constructor(context, channelCount) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const nativeAudioDestinationNode = createNativeAudioDestinationNode(nativeContext, channelCount, isOffline);\n            const audioDestinationNodeRenderer = ((isOffline ? createAudioDestinationNodeRenderer(renderInputsOfAudioNode) : null));\n            super(context, false, nativeAudioDestinationNode, audioDestinationNodeRenderer);\n            this._isNodeOfNativeOfflineAudioContext = isOffline;\n            this._nativeAudioDestinationNode = nativeAudioDestinationNode;\n        }\n        get channelCount() {\n            return this._nativeAudioDestinationNode.channelCount;\n        }\n        set channelCount(value) {\n            // Bug #52: Chrome, Edge & Safari do not throw an exception at all.\n            // Bug #54: Firefox does throw an IndexSizeError.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n            // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n            if (value > this._nativeAudioDestinationNode.maxChannelCount) {\n                throw createIndexSizeError();\n            }\n            this._nativeAudioDestinationNode.channelCount = value;\n        }\n        get channelCountMode() {\n            return this._nativeAudioDestinationNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            // Bug #53: No browser does throw an exception yet.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n            this._nativeAudioDestinationNode.channelCountMode = value;\n        }\n        get maxChannelCount() {\n            return this._nativeAudioDestinationNode.maxChannelCount;\n        }\n    };\n};\n//# sourceMappingURL=audio-destination-node-constructor.js.map","export const createAudioDestinationNodeRenderer = (renderInputsOfAudioNode) => {\n    const renderedNativeAudioDestinationNodes = new WeakMap();\n    const createAudioDestinationNode = async (proxy, nativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeOfflineAudioContext.destination;\n        renderedNativeAudioDestinationNodes.set(nativeOfflineAudioContext, nativeAudioDestinationNode);\n        await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioDestinationNode);\n        return nativeAudioDestinationNode;\n    };\n    return {\n        render(proxy, nativeOfflineAudioContext) {\n            const renderedNativeAudioDestinationNode = renderedNativeAudioDestinationNodes.get(nativeOfflineAudioContext);\n            if (renderedNativeAudioDestinationNode !== undefined) {\n                return Promise.resolve(renderedNativeAudioDestinationNode);\n            }\n            return createAudioDestinationNode(proxy, nativeOfflineAudioContext);\n        }\n    };\n};\n//# sourceMappingURL=audio-destination-node-renderer-factory.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nexport const createAudioListenerFactory = (createAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeScriptProcessorNode, createNotSupportedError, getFirstSample, isNativeOfflineAudioContext, overwriteAccessors) => {\n    return (context, nativeContext) => {\n        const nativeListener = nativeContext.listener;\n        // Bug #117: Only Chrome & Edge support the new interface already.\n        const createFakeAudioParams = () => {\n            const buffer = new Float32Array(1);\n            const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'speakers',\n                numberOfInputs: 9\n            });\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            let isScriptProcessorNodeCreated = false;\n            let lastOrientation = [0, 0, -1, 0, 1, 0];\n            let lastPosition = [0, 0, 0];\n            const createScriptProcessorNode = () => {\n                if (isScriptProcessorNodeCreated) {\n                    return;\n                }\n                isScriptProcessorNodeCreated = true;\n                const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, 256, 9, 0);\n                // tslint:disable-next-line:deprecation\n                scriptProcessorNode.onaudioprocess = ({ inputBuffer }) => {\n                    const orientation = [\n                        getFirstSample(inputBuffer, buffer, 0),\n                        getFirstSample(inputBuffer, buffer, 1),\n                        getFirstSample(inputBuffer, buffer, 2),\n                        getFirstSample(inputBuffer, buffer, 3),\n                        getFirstSample(inputBuffer, buffer, 4),\n                        getFirstSample(inputBuffer, buffer, 5)\n                    ];\n                    if (orientation.some((value, index) => value !== lastOrientation[index])) {\n                        nativeListener.setOrientation(...orientation); // tslint:disable-line:deprecation\n                        lastOrientation = orientation;\n                    }\n                    const positon = [\n                        getFirstSample(inputBuffer, buffer, 6),\n                        getFirstSample(inputBuffer, buffer, 7),\n                        getFirstSample(inputBuffer, buffer, 8)\n                    ];\n                    if (positon.some((value, index) => value !== lastPosition[index])) {\n                        nativeListener.setPosition(...positon); // tslint:disable-line:deprecation\n                        lastPosition = positon;\n                    }\n                };\n                channelMergerNode.connect(scriptProcessorNode);\n            };\n            const createSetOrientation = (index) => (value) => {\n                if (value !== lastOrientation[index]) {\n                    lastOrientation[index] = value;\n                    nativeListener.setOrientation(...lastOrientation); // tslint:disable-line:deprecation\n                }\n            };\n            const createSetPosition = (index) => (value) => {\n                if (value !== lastPosition[index]) {\n                    lastPosition[index] = value;\n                    nativeListener.setPosition(...lastPosition); // tslint:disable-line:deprecation\n                }\n            };\n            const createFakeAudioParam = (input, initialValue, setValue) => {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset: initialValue\n                });\n                constantSourceNode.connect(channelMergerNode, 0, input);\n                // @todo This should be stopped when the context is closed.\n                constantSourceNode.start();\n                Object.defineProperty(constantSourceNode.offset, 'defaultValue', {\n                    get() {\n                        return initialValue;\n                    }\n                });\n                /*\n                 * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and\n                 * minValue for GainNodes.\n                 */\n                const audioParam = createAudioParam({ context }, isOffline, constantSourceNode.offset, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n                overwriteAccessors(audioParam, 'value', (get) => () => get.call(audioParam), (set) => (value) => {\n                    try {\n                        set.call(audioParam, value);\n                    }\n                    catch (err) {\n                        if (err.code !== 9) {\n                            throw err;\n                        }\n                    }\n                    createScriptProcessorNode();\n                    if (isOffline) {\n                        // Bug #117: Using setOrientation() and setPosition() doesn't work with an OfflineAudioContext.\n                        setValue(value);\n                    }\n                });\n                audioParam.cancelAndHoldAtTime = ((cancelAndHoldAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = cancelAndHoldAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.cancelAndHoldAtTime);\n                audioParam.cancelScheduledValues = ((cancelScheduledValues) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = cancelScheduledValues.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.cancelScheduledValues);\n                audioParam.exponentialRampToValueAtTime = ((exponentialRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = exponentialRampToValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.exponentialRampToValueAtTime);\n                audioParam.linearRampToValueAtTime = ((linearRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = linearRampToValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.linearRampToValueAtTime);\n                audioParam.setTargetAtTime = ((setTargetAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setTargetAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setTargetAtTime);\n                audioParam.setValueAtTime = ((setValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setValueAtTime);\n                audioParam.setValueCurveAtTime = ((setValueCurveAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setValueCurveAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setValueCurveAtTime);\n                return audioParam;\n            };\n            return {\n                forwardX: createFakeAudioParam(0, 0, createSetOrientation(0)),\n                forwardY: createFakeAudioParam(1, 0, createSetOrientation(1)),\n                forwardZ: createFakeAudioParam(2, -1, createSetOrientation(2)),\n                positionX: createFakeAudioParam(6, 0, createSetPosition(0)),\n                positionY: createFakeAudioParam(7, 0, createSetPosition(1)),\n                positionZ: createFakeAudioParam(8, 0, createSetPosition(2)),\n                upX: createFakeAudioParam(3, 0, createSetOrientation(3)),\n                upY: createFakeAudioParam(4, 1, createSetOrientation(4)),\n                upZ: createFakeAudioParam(5, 0, createSetOrientation(5))\n            };\n        };\n        const { forwardX, forwardY, forwardZ, positionX, positionY, positionZ, upX, upY, upZ } = nativeListener.forwardX === undefined ? createFakeAudioParams() : nativeListener;\n        return {\n            get forwardX() {\n                return forwardX;\n            },\n            get forwardY() {\n                return forwardY;\n            },\n            get forwardZ() {\n                return forwardZ;\n            },\n            get positionX() {\n                return positionX;\n            },\n            get positionY() {\n                return positionY;\n            },\n            get positionZ() {\n                return positionZ;\n            },\n            get upX() {\n                return upX;\n            },\n            get upY() {\n                return upY;\n            },\n            get upZ() {\n                return upZ;\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-listener-factory.js.map","export const isAudioNode = (audioNodeOrAudioParam) => {\n    return 'context' in audioNodeOrAudioParam;\n};\n//# sourceMappingURL=audio-node.js.map","import { isAudioNode } from './audio-node';\nexport const isAudioNodeOutputConnection = (outputConnection) => {\n    return isAudioNode(outputConnection[0]);\n};\n//# sourceMappingURL=audio-node-output-connection.js.map","export const insertElementInSet = (set, element, predicate, ignoreDuplicates) => {\n    for (const lmnt of set) {\n        if (predicate(lmnt)) {\n            if (ignoreDuplicates) {\n                return false;\n            }\n            throw Error('The set contains at least one similar element.');\n        }\n    }\n    set.add(element);\n    return true;\n};\n//# sourceMappingURL=insert-element-in-set.js.map","import { insertElementInSet } from './insert-element-in-set';\nexport const addActiveInputConnectionToAudioParam = (activeInputs, source, [output, eventListener], ignoreDuplicates) => {\n    insertElementInSet(activeInputs, [source, output, eventListener], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output, ignoreDuplicates);\n};\n//# sourceMappingURL=add-active-input-connection-to-audio-param.js.map","import { insertElementInSet } from './insert-element-in-set';\nexport const addPassiveInputConnectionToAudioParam = (passiveInputs, [source, output, eventListener], ignoreDuplicates) => {\n    const passiveInputConnections = passiveInputs.get(source);\n    if (passiveInputConnections === undefined) {\n        passiveInputs.set(source, new Set([[output, eventListener]]));\n    }\n    else {\n        insertElementInSet(passiveInputConnections, [output, eventListener], (passiveInputConnection) => passiveInputConnection[0] === output, ignoreDuplicates);\n    }\n};\n//# sourceMappingURL=add-passive-input-connection-to-audio-param.js.map","export const isNativeAudioNodeFaker = (nativeAudioNodeOrNativeAudioNodeFaker) => {\n    return 'inputs' in nativeAudioNodeOrNativeAudioNodeFaker;\n};\n//# sourceMappingURL=native-audio-node-faker.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nexport const connectNativeAudioNodeToNativeAudioNode = (nativeSourceAudioNode, nativeDestinationAudioNode, output, input) => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        const fakeNativeDestinationAudioNode = nativeDestinationAudioNode.inputs[input];\n        nativeSourceAudioNode.connect(fakeNativeDestinationAudioNode, output, 0);\n        return [fakeNativeDestinationAudioNode, output, 0];\n    }\n    nativeSourceAudioNode.connect(nativeDestinationAudioNode, output, input);\n    return [nativeDestinationAudioNode, output, input];\n};\n//# sourceMappingURL=connect-native-audio-node-to-native-audio-node.js.map","export const deleteActiveInputConnection = (activeInputConnections, source, output) => {\n    for (const activeInputConnection of activeInputConnections) {\n        if (activeInputConnection[0] === source && activeInputConnection[1] === output) {\n            activeInputConnections.delete(activeInputConnection);\n            return activeInputConnection;\n        }\n    }\n    return null;\n};\n//# sourceMappingURL=delete-active-input-connection.js.map","import { pickElementFromSet } from './pick-element-from-set';\nexport const deleteActiveInputConnectionToAudioParam = (activeInputs, source, output) => {\n    return pickElementFromSet(activeInputs, (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output);\n};\n//# sourceMappingURL=delete-active-input-connection-to-audio-param.js.map","import { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const deleteEventListenerOfAudioNode = (audioNode, eventListener) => {\n    const eventListeners = getEventListenersOfAudioNode(audioNode);\n    if (!eventListeners.delete(eventListener)) {\n        throw new Error('Missing the expected event listener.');\n    }\n};\n//# sourceMappingURL=delete-event-listeners-of-audio-node.js.map","import { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\nexport const deletePassiveInputConnectionToAudioParam = (passiveInputs, source, output) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(passiveInputConnections, (passiveInputConnection) => passiveInputConnection[0] === output);\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n    return matchingConnection;\n};\n//# sourceMappingURL=delete-passive-input-connection-to-audio-param.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nexport const disconnectNativeAudioNodeFromNativeAudioNode = (nativeSourceAudioNode, nativeDestinationAudioNode, output, input) => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode.inputs[input], output, 0);\n    }\n    else {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode, output, input);\n    }\n};\n//# sourceMappingURL=disconnect-native-audio-node-from-native-audio-node.js.map","import { AUDIO_NODE_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getNativeAudioNode = (audioNode) => {\n    return getValueForKey(AUDIO_NODE_STORE, audioNode);\n};\n//# sourceMappingURL=get-native-audio-node.js.map","import { AUDIO_PARAM_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getNativeAudioParam = (audioParam) => {\n    return getValueForKey(AUDIO_PARAM_STORE, audioParam);\n};\n//# sourceMappingURL=get-native-audio-param.js.map","import { CYCLE_COUNTERS } from '../globals';\nexport const isPartOfACycle = (audioNode) => {\n    return CYCLE_COUNTERS.has(audioNode);\n};\n//# sourceMappingURL=is-part-of-a-cycle.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nexport const isPassiveAudioNode = (audioNode) => {\n    return !ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n};\n//# sourceMappingURL=is-passive-audio-node.js.map","export const testAudioNodeDisconnectMethodSupport = (nativeAudioContext, nativeAudioWorkletNodeConstructor) => {\n    return new Promise((resolve) => {\n        /*\n         * This bug existed in Safari up until v14.0.2. Since AudioWorklets were not supported in Safari until v14.1 the presence of the\n         * constructor for an AudioWorkletNode can be used here to skip the test.\n         */\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            resolve(true);\n        }\n        else {\n            const analyzer = nativeAudioContext.createScriptProcessor(256, 1, 1); // tslint:disable-line deprecation\n            const dummy = nativeAudioContext.createGain();\n            // Bug #95: Safari does not play one sample buffers.\n            const ones = nativeAudioContext.createBuffer(1, 2, 44100);\n            const channelData = ones.getChannelData(0);\n            channelData[0] = 1;\n            channelData[1] = 1;\n            const source = nativeAudioContext.createBufferSource();\n            source.buffer = ones;\n            source.loop = true;\n            source.connect(analyzer).connect(nativeAudioContext.destination);\n            source.connect(dummy);\n            source.disconnect(dummy);\n            // tslint:disable-next-line:deprecation\n            analyzer.onaudioprocess = (event) => {\n                const chnnlDt = event.inputBuffer.getChannelData(0); // tslint:disable-line deprecation\n                if (Array.prototype.some.call(chnnlDt, (sample) => sample === 1)) {\n                    resolve(true);\n                }\n                else {\n                    resolve(false);\n                }\n                source.stop();\n                analyzer.onaudioprocess = null; // tslint:disable-line:deprecation\n                source.disconnect(analyzer);\n                analyzer.disconnect(nativeAudioContext.destination);\n            };\n            source.start();\n        }\n    });\n};\n//# sourceMappingURL=test-audio-node-disconnect-method-support.js.map","export const visitEachAudioNodeOnce = (cycles, visitor) => {\n    const counts = new Map();\n    for (const cycle of cycles) {\n        for (const audioNode of cycle) {\n            const count = counts.get(audioNode);\n            counts.set(audioNode, count === undefined ? 1 : count + 1);\n        }\n    }\n    counts.forEach((count, audioNode) => visitor(audioNode, count));\n};\n//# sourceMappingURL=visit-each-audio-node-once.js.map","export const isNativeAudioNode = (nativeAudioNodeOrAudioParam) => {\n    return 'context' in nativeAudioNodeOrAudioParam;\n};\n//# sourceMappingURL=native-audio-node.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nexport const wrapAudioNodeDisconnectMethod = (nativeAudioNode) => {\n    const connections = new Map();\n    nativeAudioNode.connect = ((connect) => {\n        // tslint:disable-next-line:invalid-void no-inferrable-types\n        return (destination, output = 0, input = 0) => {\n            const returnValue = isNativeAudioNode(destination) ? connect(destination, output, input) : connect(destination, output);\n            // Save the new connection only if the calls to connect above didn't throw an error.\n            const connectionsToDestination = connections.get(destination);\n            if (connectionsToDestination === undefined) {\n                connections.set(destination, [{ input, output }]);\n            }\n            else {\n                if (connectionsToDestination.every((connection) => connection.input !== input || connection.output !== output)) {\n                    connectionsToDestination.push({ input, output });\n                }\n            }\n            return returnValue;\n        };\n    })(nativeAudioNode.connect.bind(nativeAudioNode));\n    nativeAudioNode.disconnect = ((disconnect) => {\n        return (destinationOrOutput, output, input) => {\n            disconnect.apply(nativeAudioNode);\n            if (destinationOrOutput === undefined) {\n                connections.clear();\n            }\n            else if (typeof destinationOrOutput === 'number') {\n                for (const [destination, connectionsToDestination] of connections) {\n                    const filteredConnections = connectionsToDestination.filter((connection) => connection.output !== destinationOrOutput);\n                    if (filteredConnections.length === 0) {\n                        connections.delete(destination);\n                    }\n                    else {\n                        connections.set(destination, filteredConnections);\n                    }\n                }\n            }\n            else if (connections.has(destinationOrOutput)) {\n                if (output === undefined) {\n                    connections.delete(destinationOrOutput);\n                }\n                else {\n                    const connectionsToDestination = connections.get(destinationOrOutput);\n                    if (connectionsToDestination !== undefined) {\n                        const filteredConnections = connectionsToDestination.filter((connection) => connection.output !== output && (connection.input !== input || input === undefined));\n                        if (filteredConnections.length === 0) {\n                            connections.delete(destinationOrOutput);\n                        }\n                        else {\n                            connections.set(destinationOrOutput, filteredConnections);\n                        }\n                    }\n                }\n            }\n            for (const [destination, connectionsToDestination] of connections) {\n                connectionsToDestination.forEach((connection) => {\n                    if (isNativeAudioNode(destination)) {\n                        nativeAudioNode.connect(destination, connection.output, connection.input);\n                    }\n                    else {\n                        nativeAudioNode.connect(destination, connection.output);\n                    }\n                });\n            }\n        };\n    })(nativeAudioNode.disconnect);\n};\n//# sourceMappingURL=wrap-audio-node-disconnect-method.js.map","import { AUDIO_NODE_STORE, EVENT_LISTENERS } from '../globals';\nimport { isAudioNode } from '../guards/audio-node';\nimport { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nimport { addActiveInputConnectionToAudioParam } from '../helpers/add-active-input-connection-to-audio-param';\nimport { addPassiveInputConnectionToAudioParam } from '../helpers/add-passive-input-connection-to-audio-param';\nimport { connectNativeAudioNodeToNativeAudioNode } from '../helpers/connect-native-audio-node-to-native-audio-node';\nimport { deleteActiveInputConnection } from '../helpers/delete-active-input-connection';\nimport { deleteActiveInputConnectionToAudioParam } from '../helpers/delete-active-input-connection-to-audio-param';\nimport { deleteEventListenerOfAudioNode } from '../helpers/delete-event-listeners-of-audio-node';\nimport { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { deletePassiveInputConnectionToAudioParam } from '../helpers/delete-passive-input-connection-to-audio-param';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from '../helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from '../helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from '../helpers/get-event-listeners-of-audio-node';\nimport { getNativeAudioNode } from '../helpers/get-native-audio-node';\nimport { getNativeAudioParam } from '../helpers/get-native-audio-param';\nimport { insertElementInSet } from '../helpers/insert-element-in-set';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { isPartOfACycle } from '../helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from '../helpers/is-passive-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nimport { testAudioNodeDisconnectMethodSupport } from '../helpers/test-audio-node-disconnect-method-support';\nimport { visitEachAudioNodeOnce } from '../helpers/visit-each-audio-node-once';\nimport { wrapAudioNodeDisconnectMethod } from '../helpers/wrap-audio-node-disconnect-method';\nconst addConnectionToAudioParamOfAudioContext = (source, destination, output, isOffline) => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections(destination);\n    const { outputs } = getAudioNodeConnections(source);\n    const eventListeners = getEventListenersOfAudioNode(source);\n    const eventListener = (isActive) => {\n        const nativeAudioNode = getNativeAudioNode(source);\n        const nativeAudioParam = getNativeAudioParam(destination);\n        if (isActive) {\n            const partialConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n            addActiveInputConnectionToAudioParam(activeInputs, source, partialConnection, false);\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.connect(nativeAudioParam, output);\n            }\n        }\n        else {\n            const partialConnection = deleteActiveInputConnectionToAudioParam(activeInputs, source, output);\n            addPassiveInputConnectionToAudioParam(passiveInputs, partialConnection, false);\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.disconnect(nativeAudioParam, output);\n            }\n        }\n    };\n    if (insertElementInSet(outputs, [destination, output], (outputConnection) => outputConnection[0] === destination && outputConnection[1] === output, true)) {\n        eventListeners.add(eventListener);\n        if (isActiveAudioNode(source)) {\n            addActiveInputConnectionToAudioParam(activeInputs, source, [output, eventListener], true);\n        }\n        else {\n            addPassiveInputConnectionToAudioParam(passiveInputs, [source, output, eventListener], true);\n        }\n        return true;\n    }\n    return false;\n};\nconst deleteInputConnectionOfAudioNode = (source, destination, output, input) => {\n    const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n    const activeInputConnection = deleteActiveInputConnection(activeInputs[input], source, output);\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n        return [passiveInputConnection[2], false];\n    }\n    return [activeInputConnection[2], true];\n};\nconst deleteInputConnectionOfAudioParam = (source, destination, output) => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections(destination);\n    const activeInputConnection = deleteActiveInputConnection(activeInputs, source, output);\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n        return [passiveInputConnection[1], false];\n    }\n    return [activeInputConnection[2], true];\n};\nconst deleteInputsOfAudioNode = (source, isOffline, destination, output, input) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioNode(source, destination, output, input);\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(source), getNativeAudioNode(destination), output, input);\n        }\n    }\n    if (isActiveAudioNode(destination)) {\n        const { activeInputs } = getAudioNodeConnections(destination);\n        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n    }\n};\nconst deleteInputsOfAudioParam = (source, isOffline, destination, output) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioParam(source, destination, output);\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            getNativeAudioNode(source).disconnect(getNativeAudioParam(destination), output);\n        }\n    }\n};\nconst deleteAnyConnection = (source, isOffline) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (isAudioNodeOutputConnection(outputConnection)) {\n            deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n        }\n        else {\n            deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n        }\n        destinations.push(outputConnection[0]);\n    }\n    audioNodeConnectionsOfSource.outputs.clear();\n    return destinations;\n};\nconst deleteConnectionAtOutput = (source, isOffline, output) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (outputConnection[1] === output) {\n            if (isAudioNodeOutputConnection(outputConnection)) {\n                deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n            }\n            else {\n                deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n            }\n            destinations.push(outputConnection[0]);\n            audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n        }\n    }\n    return destinations;\n};\nconst deleteConnectionToDestination = (source, isOffline, destination, output, input) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    return Array.from(audioNodeConnectionsOfSource.outputs)\n        .filter((outputConnection) => outputConnection[0] === destination &&\n        (output === undefined || outputConnection[1] === output) &&\n        (input === undefined || outputConnection[2] === input))\n        .map((outputConnection) => {\n        if (isAudioNodeOutputConnection(outputConnection)) {\n            deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n        }\n        else {\n            deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n        }\n        audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n        return outputConnection[0];\n    });\n};\nexport const createAudioNodeConstructor = (addAudioNodeConnections, addConnectionToAudioNode, cacheTestResult, createIncrementCycleCounter, createIndexSizeError, createInvalidAccessError, createNotSupportedError, decrementCycleCounter, detectCycles, eventTargetConstructor, getNativeContext, isNativeAudioContext, isNativeAudioNode, isNativeAudioParam, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor) => {\n    return class AudioNode extends eventTargetConstructor {\n        constructor(context, isActive, nativeAudioNode, audioNodeRenderer) {\n            super(nativeAudioNode);\n            this._context = context;\n            this._nativeAudioNode = nativeAudioNode;\n            const nativeContext = getNativeContext(context);\n            // Bug #12: Safari does not support to disconnect a specific destination.\n            if (isNativeAudioContext(nativeContext) &&\n                true !==\n                    cacheTestResult(testAudioNodeDisconnectMethodSupport, () => {\n                        return testAudioNodeDisconnectMethodSupport(nativeContext, nativeAudioWorkletNodeConstructor);\n                    })) {\n                wrapAudioNodeDisconnectMethod(nativeAudioNode);\n            }\n            AUDIO_NODE_STORE.set(this, nativeAudioNode);\n            EVENT_LISTENERS.set(this, new Set());\n            if (context.state !== 'closed' && isActive) {\n                setInternalStateToActive(this);\n            }\n            addAudioNodeConnections(this, audioNodeRenderer, nativeAudioNode);\n        }\n        get channelCount() {\n            return this._nativeAudioNode.channelCount;\n        }\n        set channelCount(value) {\n            this._nativeAudioNode.channelCount = value;\n        }\n        get channelCountMode() {\n            return this._nativeAudioNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            this._nativeAudioNode.channelCountMode = value;\n        }\n        get channelInterpretation() {\n            return this._nativeAudioNode.channelInterpretation;\n        }\n        set channelInterpretation(value) {\n            this._nativeAudioNode.channelInterpretation = value;\n        }\n        get context() {\n            return this._context;\n        }\n        get numberOfInputs() {\n            return this._nativeAudioNode.numberOfInputs;\n        }\n        get numberOfOutputs() {\n            return this._nativeAudioNode.numberOfOutputs;\n        }\n        // tslint:disable-next-line:invalid-void\n        connect(destination, output = 0, input = 0) {\n            // Bug #174: Safari does expose a wrong numberOfOutputs for MediaStreamAudioDestinationNodes.\n            if (output < 0 || output >= this._nativeAudioNode.numberOfOutputs) {\n                throw createIndexSizeError();\n            }\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            if (isNativeAudioNode(destination) || isNativeAudioParam(destination)) {\n                throw createInvalidAccessError();\n            }\n            if (isAudioNode(destination)) {\n                const nativeDestinationAudioNode = getNativeAudioNode(destination);\n                try {\n                    const connection = connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode, nativeDestinationAudioNode, output, input);\n                    const isPassive = isPassiveAudioNode(this);\n                    if (isOffline || isPassive) {\n                        this._nativeAudioNode.disconnect(...connection);\n                    }\n                    if (this.context.state !== 'closed' && !isPassive && isPassiveAudioNode(destination)) {\n                        setInternalStateToActive(destination);\n                    }\n                }\n                catch (err) {\n                    // Bug #41: Safari does not throw the correct exception so far.\n                    if (err.code === 12) {\n                        throw createInvalidAccessError();\n                    }\n                    throw err;\n                }\n                const isNewConnectionToAudioNode = addConnectionToAudioNode(this, destination, output, input, isOffline);\n                // Bug #164: Only Firefox detects cycles so far.\n                if (isNewConnectionToAudioNode) {\n                    const cycles = detectCycles([this], destination);\n                    visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n                }\n                return destination;\n            }\n            const nativeAudioParam = getNativeAudioParam(destination);\n            /*\n             * Bug #73, #147 & #153: Safari does not support to connect an input signal to the playbackRate AudioParam of an\n             * AudioBufferSourceNode. This can't be easily detected and that's why the outdated name property is used here to identify\n             * Safari. In addition to that the maxValue property is used to only detect the affected versions below v14.0.2.\n             */\n            if (nativeAudioParam.name === 'playbackRate' && nativeAudioParam.maxValue === 1024) {\n                throw createNotSupportedError();\n            }\n            try {\n                this._nativeAudioNode.connect(nativeAudioParam, output);\n                if (isOffline || isPassiveAudioNode(this)) {\n                    this._nativeAudioNode.disconnect(nativeAudioParam, output);\n                }\n            }\n            catch (err) {\n                // Bug #58: Safari doesn't throw an InvalidAccessError yet.\n                if (err.code === 12) {\n                    throw createInvalidAccessError();\n                }\n                throw err;\n            }\n            const isNewConnectionToAudioParam = addConnectionToAudioParamOfAudioContext(this, destination, output, isOffline);\n            // Bug #164: Only Firefox detects cycles so far.\n            if (isNewConnectionToAudioParam) {\n                const cycles = detectCycles([this], destination);\n                visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n            }\n        }\n        disconnect(destinationOrOutput, output, input) {\n            let destinations;\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            if (destinationOrOutput === undefined) {\n                destinations = deleteAnyConnection(this, isOffline);\n            }\n            else if (typeof destinationOrOutput === 'number') {\n                if (destinationOrOutput < 0 || destinationOrOutput >= this.numberOfOutputs) {\n                    throw createIndexSizeError();\n                }\n                destinations = deleteConnectionAtOutput(this, isOffline, destinationOrOutput);\n            }\n            else {\n                if (output !== undefined && (output < 0 || output >= this.numberOfOutputs)) {\n                    throw createIndexSizeError();\n                }\n                if (isAudioNode(destinationOrOutput) && input !== undefined && (input < 0 || input >= destinationOrOutput.numberOfInputs)) {\n                    throw createIndexSizeError();\n                }\n                destinations = deleteConnectionToDestination(this, isOffline, destinationOrOutput, output, input);\n                if (destinations.length === 0) {\n                    throw createInvalidAccessError();\n                }\n            }\n            // Bug #164: Only Firefox detects cycles so far.\n            for (const destination of destinations) {\n                const cycles = detectCycles([this], destination);\n                visitEachAudioNodeOnce(cycles, decrementCycleCounter);\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-node-constructor.js.map","import { AutomationEventList } from 'automation-events';\nexport const createAudioParamFactory = (addAudioParamConnections, audioParamAudioNodeStore, audioParamStore, createAudioParamRenderer, createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent, nativeAudioContextConstructor, setValueAtTimeUntilPossible) => {\n    return (audioNode, isAudioParamOfOfflineAudioContext, nativeAudioParam, maxValue = null, minValue = null) => {\n        // Bug #196 Only Safari sets the defaultValue to the initial value.\n        const defaultValue = nativeAudioParam.value;\n        const automationEventList = new AutomationEventList(defaultValue);\n        const audioParamRenderer = isAudioParamOfOfflineAudioContext ? createAudioParamRenderer(automationEventList) : null;\n        const audioParam = {\n            get defaultValue() {\n                return defaultValue;\n            },\n            get maxValue() {\n                return maxValue === null ? nativeAudioParam.maxValue : maxValue;\n            },\n            get minValue() {\n                return minValue === null ? nativeAudioParam.minValue : minValue;\n            },\n            get value() {\n                return nativeAudioParam.value;\n            },\n            set value(value) {\n                nativeAudioParam.value = value;\n                // Bug #98: Firefox & Safari do not yet treat the value setter like a call to setValueAtTime().\n                audioParam.setValueAtTime(value, audioNode.context.currentTime);\n            },\n            cancelAndHoldAtTime(cancelTime) {\n                // Bug #28: Firefox & Safari do not yet implement cancelAndHoldAtTime().\n                if (typeof nativeAudioParam.cancelAndHoldAtTime === 'function') {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n                    nativeAudioParam.cancelAndHoldAtTime(cancelTime);\n                }\n                else {\n                    const previousLastEvent = Array.from(automationEventList).pop();\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n                    const currentLastEvent = Array.from(automationEventList).pop();\n                    nativeAudioParam.cancelScheduledValues(cancelTime);\n                    if (previousLastEvent !== currentLastEvent && currentLastEvent !== undefined) {\n                        if (currentLastEvent.type === 'exponentialRampToValue') {\n                            nativeAudioParam.exponentialRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        }\n                        else if (currentLastEvent.type === 'linearRampToValue') {\n                            nativeAudioParam.linearRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        }\n                        else if (currentLastEvent.type === 'setValue') {\n                            nativeAudioParam.setValueAtTime(currentLastEvent.value, currentLastEvent.startTime);\n                        }\n                        else if (currentLastEvent.type === 'setValueCurve') {\n                            nativeAudioParam.setValueCurveAtTime(currentLastEvent.values, currentLastEvent.startTime, currentLastEvent.duration);\n                        }\n                    }\n                }\n                return audioParam;\n            },\n            cancelScheduledValues(cancelTime) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createCancelScheduledValuesAutomationEvent(cancelTime));\n                nativeAudioParam.cancelScheduledValues(cancelTime);\n                return audioParam;\n            },\n            exponentialRampToValueAtTime(value, endTime) {\n                // Bug #45: Safari does not throw an error yet.\n                if (value === 0) {\n                    throw new RangeError();\n                }\n                // Bug #187: Safari does not throw an error yet.\n                if (!Number.isFinite(endTime) || endTime < 0) {\n                    throw new RangeError();\n                }\n                const currentTime = audioNode.context.currentTime;\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(currentTime);\n                }\n                // Bug #194: Firefox does not implicitly call setValueAtTime() if there is no previous event.\n                if (Array.from(automationEventList).length === 0) {\n                    automationEventList.add(createSetValueAutomationEvent(defaultValue, currentTime));\n                    nativeAudioParam.setValueAtTime(defaultValue, currentTime);\n                }\n                automationEventList.add(createExponentialRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.exponentialRampToValueAtTime(value, endTime);\n                return audioParam;\n            },\n            linearRampToValueAtTime(value, endTime) {\n                const currentTime = audioNode.context.currentTime;\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(currentTime);\n                }\n                // Bug #195: Firefox does not implicitly call setValueAtTime() if there is no previous event.\n                if (Array.from(automationEventList).length === 0) {\n                    automationEventList.add(createSetValueAutomationEvent(defaultValue, currentTime));\n                    nativeAudioParam.setValueAtTime(defaultValue, currentTime);\n                }\n                automationEventList.add(createLinearRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.linearRampToValueAtTime(value, endTime);\n                return audioParam;\n            },\n            setTargetAtTime(target, startTime, timeConstant) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createSetTargetAutomationEvent(target, startTime, timeConstant));\n                nativeAudioParam.setTargetAtTime(target, startTime, timeConstant);\n                return audioParam;\n            },\n            setValueAtTime(value, startTime) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createSetValueAutomationEvent(value, startTime));\n                nativeAudioParam.setValueAtTime(value, startTime);\n                return audioParam;\n            },\n            setValueCurveAtTime(values, startTime, duration) {\n                // Bug 183: Safari only accepts a Float32Array.\n                const convertedValues = values instanceof Float32Array ? values : new Float32Array(values);\n                /*\n                 * Bug #152: Safari does not correctly interpolate the values of the curve.\n                 * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the\n                 * existence of the webkitAudioContext is used as a workaround here.\n                 */\n                if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                    const endTime = startTime + duration;\n                    const sampleRate = audioNode.context.sampleRate;\n                    const firstSample = Math.ceil(startTime * sampleRate);\n                    const lastSample = Math.floor(endTime * sampleRate);\n                    const numberOfInterpolatedValues = lastSample - firstSample;\n                    const interpolatedValues = new Float32Array(numberOfInterpolatedValues);\n                    for (let i = 0; i < numberOfInterpolatedValues; i += 1) {\n                        const theoreticIndex = ((convertedValues.length - 1) / duration) * ((firstSample + i) / sampleRate - startTime);\n                        const lowerIndex = Math.floor(theoreticIndex);\n                        const upperIndex = Math.ceil(theoreticIndex);\n                        interpolatedValues[i] =\n                            lowerIndex === upperIndex\n                                ? convertedValues[lowerIndex]\n                                : (1 - (theoreticIndex - lowerIndex)) * convertedValues[lowerIndex] +\n                                    (1 - (upperIndex - theoreticIndex)) * convertedValues[upperIndex];\n                    }\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createSetValueCurveAutomationEvent(interpolatedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(interpolatedValues, startTime, duration);\n                    const timeOfLastSample = lastSample / sampleRate;\n                    if (timeOfLastSample < endTime) {\n                        setValueAtTimeUntilPossible(audioParam, interpolatedValues[interpolatedValues.length - 1], timeOfLastSample);\n                    }\n                    setValueAtTimeUntilPossible(audioParam, convertedValues[convertedValues.length - 1], endTime);\n                }\n                else {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createSetValueCurveAutomationEvent(convertedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(convertedValues, startTime, duration);\n                }\n                return audioParam;\n            }\n        };\n        audioParamStore.set(audioParam, nativeAudioParam);\n        audioParamAudioNodeStore.set(audioParam, audioNode);\n        addAudioParamConnections(audioParam, audioParamRenderer);\n        return audioParam;\n    };\n};\n//# sourceMappingURL=audio-param-factory.js.map","export const createAudioParamRenderer = (automationEventList) => {\n    return {\n        replay(audioParam) {\n            for (const automationEvent of automationEventList) {\n                if (automationEvent.type === 'exponentialRampToValue') {\n                    const { endTime, value } = automationEvent;\n                    audioParam.exponentialRampToValueAtTime(value, endTime);\n                }\n                else if (automationEvent.type === 'linearRampToValue') {\n                    const { endTime, value } = automationEvent;\n                    audioParam.linearRampToValueAtTime(value, endTime);\n                }\n                else if (automationEvent.type === 'setTarget') {\n                    const { startTime, target, timeConstant } = automationEvent;\n                    audioParam.setTargetAtTime(target, startTime, timeConstant);\n                }\n                else if (automationEvent.type === 'setValue') {\n                    const { startTime, value } = automationEvent;\n                    audioParam.setValueAtTime(value, startTime);\n                }\n                else if (automationEvent.type === 'setValueCurve') {\n                    const { duration, startTime, values } = automationEvent;\n                    audioParam.setValueCurveAtTime(values, startTime, duration);\n                }\n                else {\n                    throw new Error(\"Can't apply an unknown automation.\");\n                }\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-param-renderer.js.map","export class ReadOnlyMap {\n    constructor(parameters) {\n        this._map = new Map(parameters);\n    }\n    get size() {\n        return this._map.size;\n    }\n    entries() {\n        return this._map.entries();\n    }\n    forEach(callback, thisArg = null) {\n        return this._map.forEach((value, key) => callback.call(thisArg, value, key, this));\n    }\n    get(name) {\n        return this._map.get(name);\n    }\n    has(name) {\n        return this._map.has(name);\n    }\n    keys() {\n        return this._map.keys();\n    }\n    values() {\n        return this._map.values();\n    }\n}\n//# sourceMappingURL=read-only-map.js.map","import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport { ReadOnlyMap } from '../read-only-map';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    // Bug #61: The channelCountMode should be 'max' according to the spec but is set to 'explicit' to achieve consistent behavior.\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    numberOfInputs: 1,\n    numberOfOutputs: 1,\n    parameterData: {},\n    processorOptions: {}\n};\nexport const createAudioWorkletNodeConstructor = (addUnrenderedAudioWorkletNode, audioNodeConstructor, createAudioParam, createAudioWorkletNodeRenderer, createNativeAudioWorkletNode, getAudioNodeConnections, getBackupOfflineAudioContext, getNativeContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, sanitizeAudioWorkletNodeOptions, setActiveAudioWorkletNodeInputs, testAudioWorkletNodeOptionsClonability, wrapEventListener) => {\n    return class AudioWorkletNode extends audioNodeConstructor {\n        constructor(context, name, options) {\n            var _a;\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const mergedOptions = sanitizeAudioWorkletNodeOptions({ ...DEFAULT_OPTIONS, ...options });\n            // Bug #191: Safari doesn't throw an error if the options aren't clonable.\n            testAudioWorkletNodeOptionsClonability(mergedOptions);\n            const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n            const processorConstructor = nodeNameToProcessorConstructorMap === null || nodeNameToProcessorConstructorMap === void 0 ? void 0 : nodeNameToProcessorConstructorMap.get(name);\n            // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n            const nativeContextOrBackupOfflineAudioContext = isOffline || nativeContext.state !== 'closed'\n                ? nativeContext\n                : (_a = getBackupOfflineAudioContext(nativeContext)) !== null && _a !== void 0 ? _a : nativeContext;\n            const nativeAudioWorkletNode = createNativeAudioWorkletNode(nativeContextOrBackupOfflineAudioContext, isOffline ? null : context.baseLatency, nativeAudioWorkletNodeConstructor, name, processorConstructor, mergedOptions);\n            const audioWorkletNodeRenderer = ((isOffline ? createAudioWorkletNodeRenderer(name, mergedOptions, processorConstructor) : null));\n            /*\n             * @todo Add a mechanism to switch an AudioWorkletNode to passive once the process() function of the AudioWorkletProcessor\n             * returns false.\n             */\n            super(context, true, nativeAudioWorkletNode, audioWorkletNodeRenderer);\n            const parameters = [];\n            nativeAudioWorkletNode.parameters.forEach((nativeAudioParam, nm) => {\n                const audioParam = createAudioParam(this, isOffline, nativeAudioParam);\n                parameters.push([nm, audioParam]);\n            });\n            this._nativeAudioWorkletNode = nativeAudioWorkletNode;\n            this._onprocessorerror = null;\n            this._parameters = new ReadOnlyMap(parameters);\n            /*\n             * Bug #86 & #87: Invoking the renderer of an AudioWorkletNode might be necessary if it has no direct or indirect connection to\n             * the destination.\n             */\n            if (isOffline) {\n                addUnrenderedAudioWorkletNode(nativeContext, this);\n            }\n            const { activeInputs } = getAudioNodeConnections(this);\n            setActiveAudioWorkletNodeInputs(nativeAudioWorkletNode, activeInputs);\n        }\n        get onprocessorerror() {\n            return this._onprocessorerror;\n        }\n        set onprocessorerror(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeAudioWorkletNode.onprocessorerror = wrappedListener;\n            const nativeOnProcessorError = this._nativeAudioWorkletNode.onprocessorerror;\n            this._onprocessorerror =\n                nativeOnProcessorError !== null && nativeOnProcessorError === wrappedListener\n                    ? value\n                    : nativeOnProcessorError;\n        }\n        get parameters() {\n            if (this._parameters === null) {\n                // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                return this._nativeAudioWorkletNode.parameters;\n            }\n            return this._parameters;\n        }\n        get port() {\n            return this._nativeAudioWorkletNode.port;\n        }\n    };\n};\n//# sourceMappingURL=audio-worklet-node-constructor.js.map","export function copyFromChannel(audioBuffer, \n// @todo There is currently no way to define something like { [ key: number | string ]: Float32Array }\nparent, key, channelNumber, bufferOffset) {\n    if (typeof audioBuffer.copyFromChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = new Float32Array(128);\n        }\n        audioBuffer.copyFromChannel(parent[key], channelNumber, bufferOffset);\n        // Bug #5: Safari does not support copyFromChannel().\n    }\n    else {\n        const channelData = audioBuffer.getChannelData(channelNumber);\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = channelData.slice(bufferOffset, bufferOffset + 128);\n        }\n        else {\n            const slicedInput = new Float32Array(channelData.buffer, bufferOffset * Float32Array.BYTES_PER_ELEMENT, 128);\n            parent[key].set(slicedInput);\n        }\n    }\n}\n//# sourceMappingURL=copy-from-channel.js.map","export const copyToChannel = (audioBuffer, parent, key, channelNumber, bufferOffset) => {\n    if (typeof audioBuffer.copyToChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.copyToChannel(parent[key], channelNumber, bufferOffset);\n        }\n        // Bug #5: Safari does not support copyToChannel().\n    }\n    else {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.getChannelData(channelNumber).set(parent[key], bufferOffset);\n        }\n    }\n};\n//# sourceMappingURL=copy-to-channel.js.map","export const createNestedArrays = (x, y) => {\n    const arrays = [];\n    for (let i = 0; i < x; i += 1) {\n        const array = [];\n        const length = typeof y === 'number' ? y : y[i];\n        for (let j = 0; j < length; j += 1) {\n            array.push(new Float32Array(128));\n        }\n        arrays.push(array);\n    }\n    return arrays;\n};\n//# sourceMappingURL=create-nested-arrays.js.map","import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { getNativeAudioNode } from './get-native-audio-node';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioWorkletProcessor = (nativeOfflineAudioContext, proxy) => {\n    const nodeToProcessorMap = getValueForKey(NODE_TO_PROCESSOR_MAPS, nativeOfflineAudioContext);\n    const nativeAudioWorkletNode = getNativeAudioNode(proxy);\n    return getValueForKey(nodeToProcessorMap, nativeAudioWorkletNode);\n};\n//# sourceMappingURL=get-audio-worklet-processor.js.map","import { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioWorkletProcessor } from '../helpers/get-audio-worklet-processor';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nconst processBuffer = async (proxy, renderedBuffer, nativeOfflineAudioContext, options, outputChannelCount, processorConstructor, exposeCurrentFrameAndCurrentTime) => {\n    // Ceil the length to the next full render quantum.\n    // Bug #17: Safari does not yet expose the length.\n    const length = renderedBuffer === null ? Math.ceil(proxy.context.length / 128) * 128 : renderedBuffer.length;\n    const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n    const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n    const processedBuffer = numberOfOutputChannels === 0\n        ? null\n        : nativeOfflineAudioContext.createBuffer(numberOfOutputChannels, length, nativeOfflineAudioContext.sampleRate);\n    if (processorConstructor === undefined) {\n        throw new Error('Missing the processor constructor.');\n    }\n    const audioNodeConnections = getAudioNodeConnections(proxy);\n    const audioWorkletProcessor = await getAudioWorkletProcessor(nativeOfflineAudioContext, proxy);\n    const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n    const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n    const parameters = Array.from(proxy.parameters.keys()).reduce((prmtrs, name) => ({ ...prmtrs, [name]: new Float32Array(128) }), {});\n    for (let i = 0; i < length; i += 128) {\n        if (options.numberOfInputs > 0 && renderedBuffer !== null) {\n            for (let j = 0; j < options.numberOfInputs; j += 1) {\n                for (let k = 0; k < options.channelCount; k += 1) {\n                    copyFromChannel(renderedBuffer, inputs[j], k, k, i);\n                }\n            }\n        }\n        if (processorConstructor.parameterDescriptors !== undefined && renderedBuffer !== null) {\n            processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                copyFromChannel(renderedBuffer, parameters, name, numberOfInputChannels + index, i);\n            });\n        }\n        for (let j = 0; j < options.numberOfInputs; j += 1) {\n            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                // The byteLength will be 0 when the ArrayBuffer was transferred.\n                if (outputs[j][k].byteLength === 0) {\n                    outputs[j][k] = new Float32Array(128);\n                }\n            }\n        }\n        try {\n            const potentiallyEmptyInputs = inputs.map((input, index) => {\n                if (audioNodeConnections.activeInputs[index].size === 0) {\n                    return [];\n                }\n                return input;\n            });\n            const activeSourceFlag = exposeCurrentFrameAndCurrentTime(i / nativeOfflineAudioContext.sampleRate, nativeOfflineAudioContext.sampleRate, () => audioWorkletProcessor.process(potentiallyEmptyInputs, outputs, parameters));\n            if (processedBuffer !== null) {\n                for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                    for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                        copyToChannel(processedBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[j];\n                }\n            }\n            if (!activeSourceFlag) {\n                break;\n            }\n        }\n        catch (error) {\n            proxy.dispatchEvent(new ErrorEvent('processorerror', {\n                colno: error.colno,\n                filename: error.filename,\n                lineno: error.lineno,\n                message: error.message\n            }));\n            break;\n        }\n    }\n    return processedBuffer;\n};\nexport const createAudioWorkletNodeRendererFactory = (connectAudioParam, connectMultipleOutputs, createNativeAudioBufferSourceNode, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, deleteUnrenderedAudioWorkletNode, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getNativeAudioNode, nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext) => {\n    return (name, options, processorConstructor) => {\n        const renderedNativeAudioNodes = new WeakMap();\n        let processedBufferPromise = null;\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioWorkletNode = getNativeAudioNode(proxy);\n            let nativeOutputNodes = null;\n            const nativeAudioWorkletNodeIsOwnedByContext = isOwnedByContext(nativeAudioWorkletNode, nativeOfflineAudioContext);\n            const outputChannelCount = Array.isArray(options.outputChannelCount)\n                ? options.outputChannelCount\n                : Array.from(options.outputChannelCount);\n            // Bug #61: Only Chrome, Edge & Firefox have an implementation of the AudioWorkletNode yet.\n            if (nativeAudioWorkletNodeConstructor === null) {\n                const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n                const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeOfflineAudioContext, {\n                    channelCount: Math.max(1, numberOfOutputChannels),\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    numberOfOutputs: Math.max(1, numberOfOutputChannels)\n                });\n                const outputChannelMergerNodes = [];\n                for (let i = 0; i < proxy.numberOfOutputs; i += 1) {\n                    outputChannelMergerNodes.push(createNativeChannelMergerNode(nativeOfflineAudioContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'speakers',\n                        numberOfInputs: outputChannelCount[i]\n                    }));\n                }\n                const outputGainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                    channelCount: options.channelCount,\n                    channelCountMode: options.channelCountMode,\n                    channelInterpretation: options.channelInterpretation,\n                    gain: 1\n                });\n                outputGainNode.connect = connectMultipleOutputs.bind(null, outputChannelMergerNodes);\n                outputGainNode.disconnect = disconnectMultipleOutputs.bind(null, outputChannelMergerNodes);\n                nativeOutputNodes = [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode];\n            }\n            else if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(nativeOfflineAudioContext, name);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeOutputNodes === null ? nativeAudioWorkletNode : nativeOutputNodes[2]);\n            if (nativeOutputNodes !== null) {\n                if (processedBufferPromise === null) {\n                    if (processorConstructor === undefined) {\n                        throw new Error('Missing the processor constructor.');\n                    }\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n                    // Bug #47: The AudioDestinationNode in Safari gets not initialized correctly.\n                    const numberOfInputChannels = proxy.channelCount * proxy.numberOfInputs;\n                    const numberOfParameters = processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n                    const numberOfChannels = numberOfInputChannels + numberOfParameters;\n                    const renderBuffer = async () => {\n                        const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(numberOfChannels, \n                        // Ceil the length to the next full render quantum.\n                        // Bug #17: Safari does not yet expose the length.\n                        Math.ceil(proxy.context.length / 128) * 128, nativeOfflineAudioContext.sampleRate);\n                        const gainNodes = [];\n                        const inputChannelSplitterNodes = [];\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes.push(createNativeGainNode(partialOfflineAudioContext, {\n                                channelCount: options.channelCount,\n                                channelCountMode: options.channelCountMode,\n                                channelInterpretation: options.channelInterpretation,\n                                gain: 1\n                            }));\n                            inputChannelSplitterNodes.push(createNativeChannelSplitterNode(partialOfflineAudioContext, {\n                                channelCount: options.channelCount,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                numberOfOutputs: options.channelCount\n                            }));\n                        }\n                        const constantSourceNodes = await Promise.all(Array.from(proxy.parameters.values()).map(async (audioParam) => {\n                            const constantSourceNode = createNativeConstantSourceNode(partialOfflineAudioContext, {\n                                channelCount: 1,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                offset: audioParam.value\n                            });\n                            await renderAutomation(partialOfflineAudioContext, audioParam, constantSourceNode.offset);\n                            return constantSourceNode;\n                        }));\n                        const inputChannelMergerNode = createNativeChannelMergerNode(partialOfflineAudioContext, {\n                            channelCount: 1,\n                            channelCountMode: 'explicit',\n                            channelInterpretation: 'speakers',\n                            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n                        });\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n                            for (let j = 0; j < options.channelCount; j += 1) {\n                                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n                            }\n                        }\n                        for (const [index, constantSourceNode] of constantSourceNodes.entries()) {\n                            constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                            constantSourceNode.start(0);\n                        }\n                        inputChannelMergerNode.connect(partialOfflineAudioContext.destination);\n                        await Promise.all(gainNodes.map((gainNode) => renderInputsOfAudioNode(proxy, partialOfflineAudioContext, gainNode)));\n                        return renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                    };\n                    processedBufferPromise = processBuffer(proxy, numberOfChannels === 0 ? null : await renderBuffer(), nativeOfflineAudioContext, options, outputChannelCount, processorConstructor, exposeCurrentFrameAndCurrentTime);\n                }\n                const processedBuffer = await processedBufferPromise;\n                const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, {\n                    buffer: null,\n                    channelCount: 2,\n                    channelCountMode: 'max',\n                    channelInterpretation: 'speakers',\n                    loop: false,\n                    loopEnd: 0,\n                    loopStart: 0,\n                    playbackRate: 1\n                });\n                const [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode] = nativeOutputNodes;\n                if (processedBuffer !== null) {\n                    audioBufferSourceNode.buffer = processedBuffer;\n                    audioBufferSourceNode.start(0);\n                }\n                audioBufferSourceNode.connect(outputChannelSplitterNode);\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < proxy.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n                return outputGainNode;\n            }\n            if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await renderAutomation(nativeOfflineAudioContext, audioParam, \n                    // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                    nativeAudioWorkletNode.parameters.get(nm));\n                }\n            }\n            else {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await connectAudioParam(nativeOfflineAudioContext, audioParam, \n                    // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                    nativeAudioWorkletNode.parameters.get(nm));\n                }\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioWorkletNode);\n            return nativeAudioWorkletNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                deleteUnrenderedAudioWorkletNode(nativeOfflineAudioContext, proxy);\n                const renderedNativeAudioWorkletNodeOrGainNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioWorkletNodeOrGainNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioWorkletNodeOrGainNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-worklet-node-renderer-factory.js.map","export const createBaseAudioContextConstructor = (addAudioWorkletModule, analyserNodeConstructor, audioBufferConstructor, audioBufferSourceNodeConstructor, biquadFilterNodeConstructor, channelMergerNodeConstructor, channelSplitterNodeConstructor, constantSourceNodeConstructor, convolverNodeConstructor, decodeAudioData, delayNodeConstructor, dynamicsCompressorNodeConstructor, gainNodeConstructor, iIRFilterNodeConstructor, minimalBaseAudioContextConstructor, oscillatorNodeConstructor, pannerNodeConstructor, periodicWaveConstructor, stereoPannerNodeConstructor, waveShaperNodeConstructor) => {\n    return class BaseAudioContext extends minimalBaseAudioContextConstructor {\n        constructor(_nativeContext, numberOfChannels) {\n            super(_nativeContext, numberOfChannels);\n            this._nativeContext = _nativeContext;\n            this._audioWorklet =\n                addAudioWorkletModule === undefined\n                    ? undefined\n                    : {\n                        addModule: (moduleURL, options) => {\n                            return addAudioWorkletModule(this, moduleURL, options);\n                        }\n                    };\n        }\n        get audioWorklet() {\n            return this._audioWorklet;\n        }\n        createAnalyser() {\n            return new analyserNodeConstructor(this);\n        }\n        createBiquadFilter() {\n            return new biquadFilterNodeConstructor(this);\n        }\n        createBuffer(numberOfChannels, length, sampleRate) {\n            return new audioBufferConstructor({ length, numberOfChannels, sampleRate });\n        }\n        createBufferSource() {\n            return new audioBufferSourceNodeConstructor(this);\n        }\n        createChannelMerger(numberOfInputs = 6) {\n            return new channelMergerNodeConstructor(this, { numberOfInputs });\n        }\n        createChannelSplitter(numberOfOutputs = 6) {\n            return new channelSplitterNodeConstructor(this, { numberOfOutputs });\n        }\n        createConstantSource() {\n            return new constantSourceNodeConstructor(this);\n        }\n        createConvolver() {\n            return new convolverNodeConstructor(this);\n        }\n        createDelay(maxDelayTime = 1) {\n            return new delayNodeConstructor(this, { maxDelayTime });\n        }\n        createDynamicsCompressor() {\n            return new dynamicsCompressorNodeConstructor(this);\n        }\n        createGain() {\n            return new gainNodeConstructor(this);\n        }\n        createIIRFilter(feedforward, feedback) {\n            return new iIRFilterNodeConstructor(this, { feedback, feedforward });\n        }\n        createOscillator() {\n            return new oscillatorNodeConstructor(this);\n        }\n        createPanner() {\n            return new pannerNodeConstructor(this);\n        }\n        createPeriodicWave(real, imag, constraints = { disableNormalization: false }) {\n            return new periodicWaveConstructor(this, { ...constraints, imag, real });\n        }\n        createStereoPanner() {\n            return new stereoPannerNodeConstructor(this);\n        }\n        createWaveShaper() {\n            return new waveShaperNodeConstructor(this);\n        }\n        decodeAudioData(audioData, successCallback, errorCallback) {\n            return decodeAudioData(this._nativeContext, audioData).then((audioBuffer) => {\n                if (typeof successCallback === 'function') {\n                    successCallback(audioBuffer);\n                }\n                return audioBuffer;\n            }, (err) => {\n                if (typeof errorCallback === 'function') {\n                    errorCallback(err);\n                }\n                throw err;\n            });\n        }\n    };\n};\n//# sourceMappingURL=base-audio-context-constructor.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nconst DEFAULT_OPTIONS = {\n    Q: 1,\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    detune: 0,\n    frequency: 350,\n    gain: 0,\n    type: 'lowpass'\n};\nexport const createBiquadFilterNodeConstructor = (audioNodeConstructor, createAudioParam, createBiquadFilterNodeRenderer, createInvalidAccessError, createNativeBiquadFilterNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class BiquadFilterNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeBiquadFilterNode = createNativeBiquadFilterNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const biquadFilterNodeRenderer = (isOffline ? createBiquadFilterNodeRenderer() : null);\n            super(context, false, nativeBiquadFilterNode, biquadFilterNodeRenderer);\n            // Bug #80: Safari does not export the correct values for maxValue and minValue.\n            this._Q = createAudioParam(this, isOffline, nativeBiquadFilterNode.Q, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            // Bug #78: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._detune = createAudioParam(this, isOffline, nativeBiquadFilterNode.detune, 1200 * Math.log2(MOST_POSITIVE_SINGLE_FLOAT), -1200 * Math.log2(MOST_POSITIVE_SINGLE_FLOAT));\n            // Bug #77: Firefox & Safari do not export the correct value for minValue.\n            this._frequency = createAudioParam(this, isOffline, nativeBiquadFilterNode.frequency, context.sampleRate / 2, 0);\n            // Bug #79: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._gain = createAudioParam(this, isOffline, nativeBiquadFilterNode.gain, 40 * Math.log10(MOST_POSITIVE_SINGLE_FLOAT), MOST_NEGATIVE_SINGLE_FLOAT);\n            this._nativeBiquadFilterNode = nativeBiquadFilterNode;\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        get detune() {\n            return this._detune;\n        }\n        get frequency() {\n            return this._frequency;\n        }\n        get gain() {\n            return this._gain;\n        }\n        get Q() {\n            return this._Q;\n        }\n        get type() {\n            return this._nativeBiquadFilterNode.type;\n        }\n        set type(value) {\n            this._nativeBiquadFilterNode.type = value;\n        }\n        getFrequencyResponse(frequencyHz, magResponse, phaseResponse) {\n            // Bug #189: Safari does throw an InvalidStateError.\n            try {\n                this._nativeBiquadFilterNode.getFrequencyResponse(frequencyHz, magResponse, phaseResponse);\n            }\n            catch (err) {\n                if (err.code === 11) {\n                    throw createInvalidAccessError();\n                }\n                throw err;\n            }\n            // Bug #68: Safari does not throw an error if the parameters differ in their length.\n            if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                throw createInvalidAccessError();\n            }\n        }\n    };\n};\n//# sourceMappingURL=biquad-filter-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createBiquadFilterNodeRendererFactory = (connectAudioParam, createNativeBiquadFilterNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeBiquadFilterNodes = new WeakMap();\n        const createBiquadFilterNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeBiquadFilterNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeBiquadFilterNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeBiquadFilterNodeIsOwnedByContext = isOwnedByContext(nativeBiquadFilterNode, nativeOfflineAudioContext);\n            if (!nativeBiquadFilterNodeIsOwnedByContext) {\n                const options = {\n                    Q: nativeBiquadFilterNode.Q.value,\n                    channelCount: nativeBiquadFilterNode.channelCount,\n                    channelCountMode: nativeBiquadFilterNode.channelCountMode,\n                    channelInterpretation: nativeBiquadFilterNode.channelInterpretation,\n                    detune: nativeBiquadFilterNode.detune.value,\n                    frequency: nativeBiquadFilterNode.frequency.value,\n                    gain: nativeBiquadFilterNode.gain.value,\n                    type: nativeBiquadFilterNode.type\n                };\n                nativeBiquadFilterNode = createNativeBiquadFilterNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeBiquadFilterNodes.set(nativeOfflineAudioContext, nativeBiquadFilterNode);\n            if (!nativeBiquadFilterNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.Q, nativeBiquadFilterNode.Q);\n                await renderAutomation(nativeOfflineAudioContext, proxy.detune, nativeBiquadFilterNode.detune);\n                await renderAutomation(nativeOfflineAudioContext, proxy.frequency, nativeBiquadFilterNode.frequency);\n                await renderAutomation(nativeOfflineAudioContext, proxy.gain, nativeBiquadFilterNode.gain);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.Q, nativeBiquadFilterNode.Q);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.detune, nativeBiquadFilterNode.detune);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.frequency, nativeBiquadFilterNode.frequency);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.gain, nativeBiquadFilterNode.gain);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeBiquadFilterNode);\n            return nativeBiquadFilterNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeBiquadFilterNode = renderedNativeBiquadFilterNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeBiquadFilterNode !== undefined) {\n                    return Promise.resolve(renderedNativeBiquadFilterNode);\n                }\n                return createBiquadFilterNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=biquad-filter-node-renderer-factory.js.map","export const createCacheTestResult = (ongoingTests, testResults) => {\n    return (tester, test) => {\n        const cachedTestResult = testResults.get(tester);\n        if (cachedTestResult !== undefined) {\n            return cachedTestResult;\n        }\n        const ongoingTest = ongoingTests.get(tester);\n        if (ongoingTest !== undefined) {\n            return ongoingTest;\n        }\n        try {\n            const synchronousTestResult = test();\n            if (synchronousTestResult instanceof Promise) {\n                ongoingTests.set(tester, synchronousTestResult);\n                return synchronousTestResult\n                    .catch(() => false)\n                    .then((finalTestResult) => {\n                    ongoingTests.delete(tester);\n                    testResults.set(tester, finalTestResult);\n                    return finalTestResult;\n                });\n            }\n            testResults.set(tester, synchronousTestResult);\n            return synchronousTestResult;\n        }\n        catch {\n            testResults.set(tester, false);\n            return false;\n        }\n    };\n};\n//# sourceMappingURL=cache-test-result.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 1,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    numberOfInputs: 6\n};\nexport const createChannelMergerNodeConstructor = (audioNodeConstructor, createChannelMergerNodeRenderer, createNativeChannelMergerNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class ChannelMergerNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeChannelMergerNode = createNativeChannelMergerNode(nativeContext, mergedOptions);\n            const channelMergerNodeRenderer = ((isNativeOfflineAudioContext(nativeContext) ? createChannelMergerNodeRenderer() : null));\n            super(context, false, nativeChannelMergerNode, channelMergerNodeRenderer);\n        }\n    };\n};\n//# sourceMappingURL=channel-merger-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createChannelMergerNodeRendererFactory = (createNativeChannelMergerNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAudioNodes = new WeakMap();\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioNode = getNativeAudioNode(proxy);\n            // If the initially used nativeAudioNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAudioNodeIsOwnedByContext = isOwnedByContext(nativeAudioNode, nativeOfflineAudioContext);\n            if (!nativeAudioNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAudioNode.channelCount,\n                    channelCountMode: nativeAudioNode.channelCountMode,\n                    channelInterpretation: nativeAudioNode.channelInterpretation,\n                    numberOfInputs: nativeAudioNode.numberOfInputs\n                };\n                nativeAudioNode = createNativeChannelMergerNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioNode);\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioNode);\n            return nativeAudioNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=channel-merger-node-renderer-factory.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 6,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'discrete',\n    numberOfOutputs: 6\n};\nexport const createChannelSplitterNodeConstructor = (audioNodeConstructor, createChannelSplitterNodeRenderer, createNativeChannelSplitterNode, getNativeContext, isNativeOfflineAudioContext, sanitizeChannelSplitterOptions) => {\n    return class ChannelSplitterNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizeChannelSplitterOptions({ ...DEFAULT_OPTIONS, ...options });\n            const nativeChannelSplitterNode = createNativeChannelSplitterNode(nativeContext, mergedOptions);\n            const channelSplitterNodeRenderer = ((isNativeOfflineAudioContext(nativeContext) ? createChannelSplitterNodeRenderer() : null));\n            super(context, false, nativeChannelSplitterNode, channelSplitterNodeRenderer);\n        }\n    };\n};\n//# sourceMappingURL=channel-splitter-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createChannelSplitterNodeRendererFactory = (createNativeChannelSplitterNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAudioNodes = new WeakMap();\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioNode = getNativeAudioNode(proxy);\n            // If the initially used nativeAudioNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAudioNodeIsOwnedByContext = isOwnedByContext(nativeAudioNode, nativeOfflineAudioContext);\n            if (!nativeAudioNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAudioNode.channelCount,\n                    channelCountMode: nativeAudioNode.channelCountMode,\n                    channelInterpretation: nativeAudioNode.channelInterpretation,\n                    numberOfOutputs: nativeAudioNode.numberOfOutputs\n                };\n                nativeAudioNode = createNativeChannelSplitterNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioNode);\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioNode);\n            return nativeAudioNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=channel-splitter-node-renderer-factory.js.map","export const createConnectAudioParam = (renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n//# sourceMappingURL=connect-audio-param.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nexport const createConnectMultipleOutputs = (createIndexSizeError) => {\n    return (outputAudioNodes, destination, output = 0, input = 0) => {\n        const outputAudioNode = outputAudioNodes[output];\n        if (outputAudioNode === undefined) {\n            throw createIndexSizeError();\n        }\n        if (isNativeAudioNode(destination)) {\n            return outputAudioNode.connect(destination, 0, input);\n        }\n        return outputAudioNode.connect(destination, 0);\n    };\n};\n//# sourceMappingURL=connect-multiple-outputs.js.map","export const createConnectedNativeAudioBufferSourceNodeFactory = (createNativeAudioBufferSourceNode) => {\n    return (nativeContext, nativeAudioNode) => {\n        const nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, {\n            buffer: null,\n            channelCount: 2,\n            channelCountMode: 'max',\n            channelInterpretation: 'speakers',\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            playbackRate: 1\n        });\n        const nativeAudioBuffer = nativeContext.createBuffer(1, 2, 44100);\n        nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n        nativeAudioBufferSourceNode.loop = true;\n        nativeAudioBufferSourceNode.connect(nativeAudioNode);\n        nativeAudioBufferSourceNode.start();\n        return () => {\n            nativeAudioBufferSourceNode.stop();\n            nativeAudioBufferSourceNode.disconnect(nativeAudioNode);\n        };\n    };\n};\n//# sourceMappingURL=connected-native-audio-buffer-source-node-factory.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    offset: 1\n};\nexport const createConstantSourceNodeConstructor = (audioNodeConstructor, createAudioParam, createConstantSourceNodeRendererFactory, createNativeConstantSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class ConstantSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeConstantSourceNode = createNativeConstantSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const constantSourceNodeRenderer = ((isOffline ? createConstantSourceNodeRendererFactory() : null));\n            super(context, false, nativeConstantSourceNode, constantSourceNodeRenderer);\n            this._constantSourceNodeRenderer = constantSourceNodeRenderer;\n            this._nativeConstantSourceNode = nativeConstantSourceNode;\n            /*\n             * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and minValue\n             * for GainNodes.\n             */\n            this._offset = createAudioParam(this, isOffline, nativeConstantSourceNode.offset, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._onended = null;\n        }\n        get offset() {\n            return this._offset;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeConstantSourceNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeConstantSourceNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        start(when = 0) {\n            this._nativeConstantSourceNode.start(when);\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.start = when;\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeConstantSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeConstantSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeConstantSourceNode.stop(when);\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=constant-source-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createConstantSourceNodeRendererFactory = (connectAudioParam, createNativeConstantSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeConstantSourceNodes = new WeakMap();\n        let start = null;\n        let stop = null;\n        const createConstantSourceNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeConstantSourceNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeConstantSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeConstantSourceNodeIsOwnedByContext = isOwnedByContext(nativeConstantSourceNode, nativeOfflineAudioContext);\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeConstantSourceNode.channelCount,\n                    channelCountMode: nativeConstantSourceNode.channelCountMode,\n                    channelInterpretation: nativeConstantSourceNode.channelInterpretation,\n                    offset: nativeConstantSourceNode.offset.value\n                };\n                nativeConstantSourceNode = createNativeConstantSourceNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeConstantSourceNode.start(start);\n                }\n                if (stop !== null) {\n                    nativeConstantSourceNode.stop(stop);\n                }\n            }\n            renderedNativeConstantSourceNodes.set(nativeOfflineAudioContext, nativeConstantSourceNode);\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConstantSourceNode);\n            return nativeConstantSourceNode;\n        };\n        return {\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeConstantSourceNode = renderedNativeConstantSourceNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeConstantSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeConstantSourceNode);\n                }\n                return createConstantSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=constant-source-node-renderer-factory.js.map","export const createConvertNumberToUnsignedLong = (unit32Array) => {\n    return (value) => {\n        unit32Array[0] = value;\n        return unit32Array[0];\n    };\n};\n//# sourceMappingURL=convert-number-to-unsigned-long.js.map","const DEFAULT_OPTIONS = {\n    buffer: null,\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    disableNormalization: false\n};\nexport const createConvolverNodeConstructor = (audioNodeConstructor, createConvolverNodeRenderer, createNativeConvolverNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class ConvolverNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeConvolverNode = createNativeConvolverNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const convolverNodeRenderer = (isOffline ? createConvolverNodeRenderer() : null);\n            super(context, false, nativeConvolverNode, convolverNodeRenderer);\n            this._isBufferNullified = false;\n            this._nativeConvolverNode = nativeConvolverNode;\n            if (mergedOptions.buffer !== null) {\n                setAudioNodeTailTime(this, mergedOptions.buffer.duration);\n            }\n        }\n        get buffer() {\n            if (this._isBufferNullified) {\n                return null;\n            }\n            return this._nativeConvolverNode.buffer;\n        }\n        set buffer(value) {\n            this._nativeConvolverNode.buffer = value;\n            // Bug #115: Safari does not allow to set the buffer to null.\n            if (value === null && this._nativeConvolverNode.buffer !== null) {\n                const nativeContext = this._nativeConvolverNode.context;\n                this._nativeConvolverNode.buffer = nativeContext.createBuffer(1, 1, nativeContext.sampleRate);\n                this._isBufferNullified = true;\n                setAudioNodeTailTime(this, 0);\n            }\n            else {\n                this._isBufferNullified = false;\n                setAudioNodeTailTime(this, this._nativeConvolverNode.buffer === null ? 0 : this._nativeConvolverNode.buffer.duration);\n            }\n        }\n        get normalize() {\n            return this._nativeConvolverNode.normalize;\n        }\n        set normalize(value) {\n            this._nativeConvolverNode.normalize = value;\n        }\n    };\n};\n//# sourceMappingURL=convolver-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createConvolverNodeRendererFactory = (createNativeConvolverNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeConvolverNodes = new WeakMap();\n        const createConvolverNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeConvolverNode = getNativeAudioNode(proxy);\n            // If the initially used nativeConvolverNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeConvolverNodeIsOwnedByContext = isOwnedByContext(nativeConvolverNode, nativeOfflineAudioContext);\n            if (!nativeConvolverNodeIsOwnedByContext) {\n                const options = {\n                    buffer: nativeConvolverNode.buffer,\n                    channelCount: nativeConvolverNode.channelCount,\n                    channelCountMode: nativeConvolverNode.channelCountMode,\n                    channelInterpretation: nativeConvolverNode.channelInterpretation,\n                    disableNormalization: !nativeConvolverNode.normalize\n                };\n                nativeConvolverNode = createNativeConvolverNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeConvolverNodes.set(nativeOfflineAudioContext, nativeConvolverNode);\n            if (isNativeAudioNodeFaker(nativeConvolverNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConvolverNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConvolverNode);\n            }\n            return nativeConvolverNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeConvolverNode = renderedNativeConvolverNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeConvolverNode !== undefined) {\n                    return Promise.resolve(renderedNativeConvolverNode);\n                }\n                return createConvolverNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=convolver-node-renderer-factory.js.map","export const createCreateNativeOfflineAudioContext = (createNotSupportedError, nativeOfflineAudioContextConstructor) => {\n    return (numberOfChannels, length, sampleRate) => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            throw new Error('Missing the native OfflineAudioContext constructor.');\n        }\n        try {\n            return new nativeOfflineAudioContextConstructor(numberOfChannels, length, sampleRate);\n        }\n        catch (err) {\n            // Bug #143, #144 & #146: Safari throws a SyntaxError when numberOfChannels, length or sampleRate are invalid.\n            if (err.name === 'SyntaxError') {\n                throw createNotSupportedError();\n            }\n            throw err;\n        }\n    };\n};\n//# sourceMappingURL=create-native-offline-audio-context.js.map","export const createDataCloneError = () => new DOMException('', 'DataCloneError');\n//# sourceMappingURL=data-clone-error.js.map","export const detachArrayBuffer = (arrayBuffer) => {\n    const { port1, port2 } = new MessageChannel();\n    return new Promise((resolve) => {\n        const closeAndResolve = () => {\n            port2.onmessage = null;\n            port1.close();\n            port2.close();\n            resolve();\n        };\n        port2.onmessage = () => closeAndResolve();\n        try {\n            port1.postMessage(arrayBuffer, [arrayBuffer]);\n        }\n        catch {\n            // Ignore errors.\n        }\n        finally {\n            closeAndResolve();\n        }\n    });\n};\n//# sourceMappingURL=detach-array-buffer.js.map","import { detachArrayBuffer } from '../helpers/detach-array-buffer';\nimport { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nexport const createDecodeAudioData = (audioBufferStore, cacheTestResult, createDataCloneError, createEncodingError, detachedArrayBuffers, getNativeContext, isNativeContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, testPromiseSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds) => {\n    return (anyContext, audioData) => {\n        const nativeContext = isNativeContext(anyContext) ? anyContext : getNativeContext(anyContext);\n        // Bug #43: Only Chrome and Edge do throw a DataCloneError.\n        if (detachedArrayBuffers.has(audioData)) {\n            const err = createDataCloneError();\n            return Promise.reject(err);\n        }\n        // The audioData parameter maybe of a type which can't be added to a WeakSet.\n        try {\n            detachedArrayBuffers.add(audioData);\n        }\n        catch {\n            // Ignore errors.\n        }\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeContext))) {\n            return nativeContext.decodeAudioData(audioData).then((audioBuffer) => {\n                // Bug #133: Safari does neuter the ArrayBuffer.\n                detachArrayBuffer(audioData).catch(() => {\n                    // Ignore errors.\n                });\n                // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n                if (!cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () => testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer))) {\n                    wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n                }\n                audioBufferStore.add(audioBuffer);\n                return audioBuffer;\n            });\n        }\n        // Bug #21: Safari does not return a Promise yet.\n        return new Promise((resolve, reject) => {\n            const complete = async () => {\n                // Bug #133: Safari does neuter the ArrayBuffer.\n                try {\n                    await detachArrayBuffer(audioData);\n                }\n                catch {\n                    // Ignore errors.\n                }\n            };\n            const fail = (err) => {\n                reject(err);\n                complete();\n            };\n            // Bug #26: Safari throws a synchronous error.\n            try {\n                // Bug #1: Safari requires a successCallback.\n                nativeContext.decodeAudioData(audioData, (audioBuffer) => {\n                    // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n                    // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n                    if (typeof audioBuffer.copyFromChannel !== 'function') {\n                        wrapAudioBufferCopyChannelMethods(audioBuffer);\n                        wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                    }\n                    audioBufferStore.add(audioBuffer);\n                    complete().then(() => resolve(audioBuffer));\n                }, (err) => {\n                    // Bug #4: Safari returns null instead of an error.\n                    if (err === null) {\n                        fail(createEncodingError());\n                    }\n                    else {\n                        fail(err);\n                    }\n                });\n            }\n            catch (err) {\n                fail(err);\n            }\n        });\n    };\n};\n//# sourceMappingURL=decode-audio-data.js.map","import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nexport const createDecrementCycleCounter = (connectNativeAudioNodeToNativeAudioNode, cycleCounters, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, getNativeContext, isActiveAudioNode, isNativeOfflineAudioContext) => {\n    return (audioNode, count) => {\n        const cycleCounter = cycleCounters.get(audioNode);\n        if (cycleCounter === undefined) {\n            throw new Error('Missing the expected cycle count.');\n        }\n        const nativeContext = getNativeContext(audioNode.context);\n        const isOffline = isNativeOfflineAudioContext(nativeContext);\n        if (cycleCounter === count) {\n            cycleCounters.delete(audioNode);\n            if (!isOffline && isActiveAudioNode(audioNode)) {\n                const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                const { outputs } = getAudioNodeConnections(audioNode);\n                for (const output of outputs) {\n                    if (isAudioNodeOutputConnection(output)) {\n                        const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n                        connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output[1], output[2]);\n                    }\n                    else {\n                        const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n                        nativeSourceAudioNode.connect(nativeDestinationAudioParam, output[1]);\n                    }\n                }\n            }\n        }\n        else {\n            cycleCounters.set(audioNode, cycleCounter - count);\n        }\n    };\n};\n//# sourceMappingURL=decrement-cycle-counter.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    delayTime: 0,\n    maxDelayTime: 1\n};\nexport const createDelayNodeConstructor = (audioNodeConstructor, createAudioParam, createDelayNodeRenderer, createNativeDelayNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class DelayNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeDelayNode = createNativeDelayNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const delayNodeRenderer = (isOffline ? createDelayNodeRenderer(mergedOptions.maxDelayTime) : null);\n            super(context, false, nativeDelayNode, delayNodeRenderer);\n            this._delayTime = createAudioParam(this, isOffline, nativeDelayNode.delayTime);\n            setAudioNodeTailTime(this, mergedOptions.maxDelayTime);\n        }\n        get delayTime() {\n            return this._delayTime;\n        }\n    };\n};\n//# sourceMappingURL=delay-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createDelayNodeRendererFactory = (connectAudioParam, createNativeDelayNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return (maxDelayTime) => {\n        const renderedNativeDelayNodes = new WeakMap();\n        const createDelayNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeDelayNode = getNativeAudioNode(proxy);\n            // If the initially used nativeDelayNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeDelayNodeIsOwnedByContext = isOwnedByContext(nativeDelayNode, nativeOfflineAudioContext);\n            if (!nativeDelayNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeDelayNode.channelCount,\n                    channelCountMode: nativeDelayNode.channelCountMode,\n                    channelInterpretation: nativeDelayNode.channelInterpretation,\n                    delayTime: nativeDelayNode.delayTime.value,\n                    maxDelayTime\n                };\n                nativeDelayNode = createNativeDelayNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeDelayNodes.set(nativeOfflineAudioContext, nativeDelayNode);\n            if (!nativeDelayNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.delayTime, nativeDelayNode.delayTime);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.delayTime, nativeDelayNode.delayTime);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeDelayNode);\n            return nativeDelayNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeDelayNode = renderedNativeDelayNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeDelayNode !== undefined) {\n                    return Promise.resolve(renderedNativeDelayNode);\n                }\n                return createDelayNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=delay-node-renderer-factory.js.map","export const createDeleteActiveInputConnectionToAudioNode = (pickElementFromSet) => {\n    return (activeInputs, source, output, input) => {\n        return pickElementFromSet(activeInputs[input], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output);\n    };\n};\n//# sourceMappingURL=delete-active-input-connection-to-audio-node.js.map","export const createDeleteUnrenderedAudioWorkletNode = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).delete(audioWorkletNode);\n    };\n};\n//# sourceMappingURL=delete-unrendered-audio-worklet-node.js.map","export const isDelayNode = (audioNode) => {\n    return 'delayTime' in audioNode;\n};\n//# sourceMappingURL=delay-node.js.map","import { isAudioNode } from '../guards/audio-node';\nimport { isDelayNode } from '../guards/delay-node';\nexport const createDetectCycles = (audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey) => {\n    return function detectCycles(chain, nextLink) {\n        const audioNode = isAudioNode(nextLink) ? nextLink : getValueForKey(audioParamAudioNodeStore, nextLink);\n        if (isDelayNode(audioNode)) {\n            return [];\n        }\n        if (chain[0] === audioNode) {\n            return [chain];\n        }\n        if (chain.includes(audioNode)) {\n            return [];\n        }\n        const { outputs } = getAudioNodeConnections(audioNode);\n        return Array.from(outputs)\n            .map((outputConnection) => detectCycles([...chain, audioNode], outputConnection[0]))\n            .reduce((mergedCycles, nestedCycles) => mergedCycles.concat(nestedCycles), []);\n    };\n};\n//# sourceMappingURL=detect-cycles.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nconst getOutputAudioNodeAtIndex = (createIndexSizeError, outputAudioNodes, output) => {\n    const outputAudioNode = outputAudioNodes[output];\n    if (outputAudioNode === undefined) {\n        throw createIndexSizeError();\n    }\n    return outputAudioNode;\n};\nexport const createDisconnectMultipleOutputs = (createIndexSizeError) => {\n    return (outputAudioNodes, destinationOrOutput = undefined, output = undefined, input = 0) => {\n        if (destinationOrOutput === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect());\n        }\n        if (typeof destinationOrOutput === 'number') {\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, destinationOrOutput).disconnect();\n        }\n        if (isNativeAudioNode(destinationOrOutput)) {\n            if (output === undefined) {\n                return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n            }\n            if (input === undefined) {\n                return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n            }\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0, input);\n        }\n        if (output === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n        }\n        return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n    };\n};\n//# sourceMappingURL=disconnect-multiple-outputs.js.map","const DEFAULT_OPTIONS = {\n    attack: 0.003,\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    knee: 30,\n    ratio: 12,\n    release: 0.25,\n    threshold: -24\n};\nexport const createDynamicsCompressorNodeConstructor = (audioNodeConstructor, createAudioParam, createDynamicsCompressorNodeRenderer, createNativeDynamicsCompressorNode, createNotSupportedError, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class DynamicsCompressorNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeDynamicsCompressorNode = createNativeDynamicsCompressorNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const dynamicsCompressorNodeRenderer = (isOffline ? createDynamicsCompressorNodeRenderer() : null);\n            super(context, false, nativeDynamicsCompressorNode, dynamicsCompressorNodeRenderer);\n            this._attack = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.attack);\n            this._knee = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.knee);\n            this._nativeDynamicsCompressorNode = nativeDynamicsCompressorNode;\n            this._ratio = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.ratio);\n            this._release = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.release);\n            this._threshold = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.threshold);\n            setAudioNodeTailTime(this, 0.006);\n        }\n        get attack() {\n            return this._attack;\n        }\n        // Bug #108: Safari allows a channelCount of three and above which is why the getter and setter needs to be overwritten here.\n        get channelCount() {\n            return this._nativeDynamicsCompressorNode.channelCount;\n        }\n        set channelCount(value) {\n            const previousChannelCount = this._nativeDynamicsCompressorNode.channelCount;\n            this._nativeDynamicsCompressorNode.channelCount = value;\n            if (value > 2) {\n                this._nativeDynamicsCompressorNode.channelCount = previousChannelCount;\n                throw createNotSupportedError();\n            }\n        }\n        /*\n         * Bug #109: Only Chrome and Firefox disallow a channelCountMode of 'max' yet which is why the getter and setter needs to be\n         * overwritten here.\n         */\n        get channelCountMode() {\n            return this._nativeDynamicsCompressorNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            const previousChannelCount = this._nativeDynamicsCompressorNode.channelCountMode;\n            this._nativeDynamicsCompressorNode.channelCountMode = value;\n            if (value === 'max') {\n                this._nativeDynamicsCompressorNode.channelCountMode = previousChannelCount;\n                throw createNotSupportedError();\n            }\n        }\n        get knee() {\n            return this._knee;\n        }\n        get ratio() {\n            return this._ratio;\n        }\n        get reduction() {\n            // Bug #111: Safari returns an AudioParam instead of a number.\n            if (typeof this._nativeDynamicsCompressorNode.reduction.value === 'number') {\n                return this._nativeDynamicsCompressorNode.reduction.value;\n            }\n            return this._nativeDynamicsCompressorNode.reduction;\n        }\n        get release() {\n            return this._release;\n        }\n        get threshold() {\n            return this._threshold;\n        }\n    };\n};\n//# sourceMappingURL=dynamics-compressor-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createDynamicsCompressorNodeRendererFactory = (connectAudioParam, createNativeDynamicsCompressorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeDynamicsCompressorNodes = new WeakMap();\n        const createDynamicsCompressorNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeDynamicsCompressorNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeDynamicsCompressorNode was not constructed on the same OfflineAudioContext it needs to be\n             * created again.\n             */\n            const nativeDynamicsCompressorNodeIsOwnedByContext = isOwnedByContext(nativeDynamicsCompressorNode, nativeOfflineAudioContext);\n            if (!nativeDynamicsCompressorNodeIsOwnedByContext) {\n                const options = {\n                    attack: nativeDynamicsCompressorNode.attack.value,\n                    channelCount: nativeDynamicsCompressorNode.channelCount,\n                    channelCountMode: nativeDynamicsCompressorNode.channelCountMode,\n                    channelInterpretation: nativeDynamicsCompressorNode.channelInterpretation,\n                    knee: nativeDynamicsCompressorNode.knee.value,\n                    ratio: nativeDynamicsCompressorNode.ratio.value,\n                    release: nativeDynamicsCompressorNode.release.value,\n                    threshold: nativeDynamicsCompressorNode.threshold.value\n                };\n                nativeDynamicsCompressorNode = createNativeDynamicsCompressorNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeDynamicsCompressorNodes.set(nativeOfflineAudioContext, nativeDynamicsCompressorNode);\n            if (!nativeDynamicsCompressorNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.attack, nativeDynamicsCompressorNode.attack);\n                await renderAutomation(nativeOfflineAudioContext, proxy.knee, nativeDynamicsCompressorNode.knee);\n                await renderAutomation(nativeOfflineAudioContext, proxy.ratio, nativeDynamicsCompressorNode.ratio);\n                await renderAutomation(nativeOfflineAudioContext, proxy.release, nativeDynamicsCompressorNode.release);\n                await renderAutomation(nativeOfflineAudioContext, proxy.threshold, nativeDynamicsCompressorNode.threshold);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.attack, nativeDynamicsCompressorNode.attack);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.knee, nativeDynamicsCompressorNode.knee);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.ratio, nativeDynamicsCompressorNode.ratio);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.release, nativeDynamicsCompressorNode.release);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.threshold, nativeDynamicsCompressorNode.threshold);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeDynamicsCompressorNode);\n            return nativeDynamicsCompressorNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeDynamicsCompressorNode = renderedNativeDynamicsCompressorNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeDynamicsCompressorNode !== undefined) {\n                    return Promise.resolve(renderedNativeDynamicsCompressorNode);\n                }\n                return createDynamicsCompressorNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=dynamics-compressor-node-renderer-factory.js.map","export const createEncodingError = () => new DOMException('', 'EncodingError');\n//# sourceMappingURL=encoding-error.js.map","export const createEvaluateSource = (window) => {\n    return (source) => new Promise((resolve, reject) => {\n        if (window === null) {\n            // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n            reject(new SyntaxError());\n            return;\n        }\n        const head = window.document.head;\n        if (head === null) {\n            // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n            reject(new SyntaxError());\n        }\n        else {\n            const script = window.document.createElement('script');\n            // @todo Safari doesn't like URLs with a type of 'application/javascript; charset=utf-8'.\n            const blob = new Blob([source], { type: 'application/javascript' });\n            const url = URL.createObjectURL(blob);\n            const originalOnErrorHandler = window.onerror;\n            const removeErrorEventListenerAndRevokeUrl = () => {\n                window.onerror = originalOnErrorHandler;\n                URL.revokeObjectURL(url);\n            };\n            window.onerror = (message, src, lineno, colno, error) => {\n                // @todo Edge thinks the source is the one of the html document.\n                if (src === url || (src === window.location.href && lineno === 1 && colno === 1)) {\n                    removeErrorEventListenerAndRevokeUrl();\n                    reject(error);\n                    return false;\n                }\n                if (originalOnErrorHandler !== null) {\n                    return originalOnErrorHandler(message, src, lineno, colno, error);\n                }\n            };\n            script.onerror = () => {\n                removeErrorEventListenerAndRevokeUrl();\n                // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                reject(new SyntaxError());\n            };\n            script.onload = () => {\n                removeErrorEventListenerAndRevokeUrl();\n                resolve();\n            };\n            script.src = url;\n            script.type = 'module';\n            head.appendChild(script);\n        }\n    });\n};\n//# sourceMappingURL=evaluate-source.js.map","export const createEventTargetConstructor = (wrapEventListener) => {\n    return class EventTarget {\n        constructor(_nativeEventTarget) {\n            this._nativeEventTarget = _nativeEventTarget;\n            this._listeners = new WeakMap();\n        }\n        addEventListener(type, listener, options) {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n        dispatchEvent(event) {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n        removeEventListener(type, listener, options) {\n            const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n            this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n        }\n    };\n};\n//# sourceMappingURL=event-target-constructor.js.map","export const createExposeCurrentFrameAndCurrentTime = (window) => {\n    return (currentTime, sampleRate, fn) => {\n        Object.defineProperties(window, {\n            currentFrame: {\n                configurable: true,\n                get() {\n                    return Math.round(currentTime * sampleRate);\n                }\n            },\n            currentTime: {\n                configurable: true,\n                get() {\n                    return currentTime;\n                }\n            }\n        });\n        try {\n            return fn();\n        }\n        finally {\n            if (window !== null) {\n                delete window.currentFrame;\n                delete window.currentTime;\n            }\n        }\n    };\n};\n//# sourceMappingURL=expose-current-frame-and-current-time.js.map","export const createFetchSource = (createAbortError) => {\n    return async (url) => {\n        try {\n            const response = await fetch(url);\n            if (response.ok) {\n                return [await response.text(), response.url];\n            }\n        }\n        catch {\n            // Ignore errors.\n        } // tslint:disable-line:no-empty\n        throw createAbortError();\n    };\n};\n//# sourceMappingURL=fetch-source.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    gain: 1\n};\nexport const createGainNodeConstructor = (audioNodeConstructor, createAudioParam, createGainNodeRenderer, createNativeGainNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class GainNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeGainNode = createNativeGainNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const gainNodeRenderer = (isOffline ? createGainNodeRenderer() : null);\n            super(context, false, nativeGainNode, gainNodeRenderer);\n            // Bug #74: Safari does not export the correct values for maxValue and minValue.\n            this._gain = createAudioParam(this, isOffline, nativeGainNode.gain, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n        }\n        get gain() {\n            return this._gain;\n        }\n    };\n};\n//# sourceMappingURL=gain-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createGainNodeRendererFactory = (connectAudioParam, createNativeGainNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeGainNodes = new WeakMap();\n        const createGainNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeGainNode = getNativeAudioNode(proxy);\n            // If the initially used nativeGainNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeGainNodeIsOwnedByContext = isOwnedByContext(nativeGainNode, nativeOfflineAudioContext);\n            if (!nativeGainNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeGainNode.channelCount,\n                    channelCountMode: nativeGainNode.channelCountMode,\n                    channelInterpretation: nativeGainNode.channelInterpretation,\n                    gain: nativeGainNode.gain.value\n                };\n                nativeGainNode = createNativeGainNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeGainNodes.set(nativeOfflineAudioContext, nativeGainNode);\n            if (!nativeGainNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.gain, nativeGainNode.gain);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.gain, nativeGainNode.gain);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeGainNode);\n            return nativeGainNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeGainNode = renderedNativeGainNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeGainNode !== undefined) {\n                    return Promise.resolve(renderedNativeGainNode);\n                }\n                return createGainNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=gain-node-renderer-factory.js.map","export const createGetActiveAudioWorkletNodeInputs = (activeAudioWorkletNodeInputsStore, getValueForKey) => {\n    return (nativeAudioWorkletNode) => getValueForKey(activeAudioWorkletNodeInputsStore, nativeAudioWorkletNode);\n};\n//# sourceMappingURL=get-active-audio-worklet-node-inputs.js.map","export const createGetAudioNodeRenderer = (getAudioNodeConnections) => {\n    return (audioNode) => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n        if (audioNodeConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioNode in the audio graph.');\n        }\n        return audioNodeConnections.renderer;\n    };\n};\n//# sourceMappingURL=get-audio-node-renderer.js.map","export const createGetAudioNodeTailTime = (audioNodeTailTimeStore) => {\n    return (audioNode) => { var _a; return (_a = audioNodeTailTimeStore.get(audioNode)) !== null && _a !== void 0 ? _a : 0; };\n};\n//# sourceMappingURL=get-audio-node-tail-time.js.map","export const createGetAudioParamRenderer = (getAudioParamConnections) => {\n    return (audioParam) => {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        if (audioParamConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioParam in the audio graph.');\n        }\n        return audioParamConnections.renderer;\n    };\n};\n//# sourceMappingURL=get-audio-param-renderer.js.map","export const createGetBackupOfflineAudioContext = (backupOfflineAudioContextStore) => {\n    return (nativeContext) => {\n        return backupOfflineAudioContextStore.get(nativeContext);\n    };\n};\n//# sourceMappingURL=get-backup-offline-audio-context.js.map","export const createInvalidStateError = () => new DOMException('', 'InvalidStateError');\n//# sourceMappingURL=invalid-state-error.js.map","import { createInvalidStateError } from './invalid-state-error';\nexport const createGetNativeContext = (contextStore) => {\n    return (context) => {\n        const nativeContext = contextStore.get(context);\n        if (nativeContext === undefined) {\n            throw createInvalidStateError();\n        }\n        return (nativeContext);\n    };\n};\n//# sourceMappingURL=get-native-context.js.map","export const createGetOrCreateBackupOfflineAudioContext = (backupOfflineAudioContextStore, nativeOfflineAudioContextConstructor) => {\n    return (nativeContext) => {\n        let backupOfflineAudioContext = backupOfflineAudioContextStore.get(nativeContext);\n        if (backupOfflineAudioContext !== undefined) {\n            return backupOfflineAudioContext;\n        }\n        if (nativeOfflineAudioContextConstructor === null) {\n            throw new Error('Missing the native OfflineAudioContext constructor.');\n        }\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        backupOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        backupOfflineAudioContextStore.set(nativeContext, backupOfflineAudioContext);\n        return backupOfflineAudioContext;\n    };\n};\n//# sourceMappingURL=get-or-create-backup-offline-audio-context.js.map","export const createGetUnrenderedAudioWorkletNodes = (unrenderedAudioWorkletNodeStore) => {\n    return (nativeContext) => {\n        const unrenderedAudioWorkletNodes = unrenderedAudioWorkletNodeStore.get(nativeContext);\n        if (unrenderedAudioWorkletNodes === undefined) {\n            throw new Error('The context has no set of AudioWorkletNodes.');\n        }\n        return unrenderedAudioWorkletNodes;\n    };\n};\n//# sourceMappingURL=get-unrendered-audio-worklet-nodes.js.map","export const createInvalidAccessError = () => new DOMException('', 'InvalidAccessError');\n//# sourceMappingURL=invalid-access-error.js.map","import { createInvalidAccessError } from '../factories/invalid-access-error';\nexport const wrapIIRFilterNodeGetFrequencyResponseMethod = (nativeIIRFilterNode) => {\n    nativeIIRFilterNode.getFrequencyResponse = ((getFrequencyResponse) => {\n        return (frequencyHz, magResponse, phaseResponse) => {\n            if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                throw createInvalidAccessError();\n            }\n            return getFrequencyResponse.call(nativeIIRFilterNode, frequencyHz, magResponse, phaseResponse);\n        };\n    })(nativeIIRFilterNode.getFrequencyResponse);\n};\n//# sourceMappingURL=wrap-iir-filter-node-get-frequency-response-method.js.map","import { wrapIIRFilterNodeGetFrequencyResponseMethod } from '../helpers/wrap-iir-filter-node-get-frequency-response-method';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers'\n};\nexport const createIIRFilterNodeConstructor = (audioNodeConstructor, createNativeIIRFilterNode, createIIRFilterNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class IIRFilterNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeIIRFilterNode = createNativeIIRFilterNode(nativeContext, isOffline ? null : context.baseLatency, mergedOptions);\n            const iirFilterNodeRenderer = ((isOffline ? createIIRFilterNodeRenderer(mergedOptions.feedback, mergedOptions.feedforward) : null));\n            super(context, false, nativeIIRFilterNode, iirFilterNodeRenderer);\n            // Bug #23 & #24: FirefoxDeveloper does not throw an InvalidAccessError.\n            // @todo Write a test which allows other browsers to remain unpatched.\n            wrapIIRFilterNodeGetFrequencyResponseMethod(nativeIIRFilterNode);\n            this._nativeIIRFilterNode = nativeIIRFilterNode;\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        getFrequencyResponse(frequencyHz, magResponse, phaseResponse) {\n            return this._nativeIIRFilterNode.getFrequencyResponse(frequencyHz, magResponse, phaseResponse);\n        }\n    };\n};\n//# sourceMappingURL=iir-filter-node-constructor.js.map","// This implementation as shamelessly inspired by source code of\n// tslint:disable-next-line:max-line-length\n// {@link https://chromium.googlesource.com/chromium/src.git/+/master/third_party/WebKit/Source/platform/audio/IIRFilter.cpp|Chromium's IIRFilter}.\nexport const filterBuffer = (feedback, feedbackLength, feedforward, feedforwardLength, minLength, xBuffer, yBuffer, bufferIndex, bufferLength, input, output) => {\n    const inputLength = input.length;\n    let i = bufferIndex;\n    for (let j = 0; j < inputLength; j += 1) {\n        let y = feedforward[0] * input[j];\n        for (let k = 1; k < minLength; k += 1) {\n            const x = (i - k) & (bufferLength - 1); // tslint:disable-line:no-bitwise\n            y += feedforward[k] * xBuffer[x];\n            y -= feedback[k] * yBuffer[x];\n        }\n        for (let k = minLength; k < feedforwardLength; k += 1) {\n            y += feedforward[k] * xBuffer[(i - k) & (bufferLength - 1)]; // tslint:disable-line:no-bitwise\n        }\n        for (let k = minLength; k < feedbackLength; k += 1) {\n            y -= feedback[k] * yBuffer[(i - k) & (bufferLength - 1)]; // tslint:disable-line:no-bitwise\n        }\n        xBuffer[i] = input[j];\n        yBuffer[i] = y;\n        i = (i + 1) & (bufferLength - 1); // tslint:disable-line:no-bitwise\n        output[j] = y;\n    }\n    return i;\n};\n//# sourceMappingURL=filter-buffer.js.map","import { filterBuffer } from '../helpers/filter-buffer';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nconst filterFullBuffer = (renderedBuffer, nativeOfflineAudioContext, feedback, feedforward) => {\n    const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n    const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n    const feedbackLength = convertedFeedback.length;\n    const feedforwardLength = convertedFeedforward.length;\n    const minLength = Math.min(feedbackLength, feedforwardLength);\n    if (convertedFeedback[0] !== 1) {\n        for (let i = 0; i < feedbackLength; i += 1) {\n            convertedFeedforward[i] /= convertedFeedback[0];\n        }\n        for (let i = 1; i < feedforwardLength; i += 1) {\n            convertedFeedback[i] /= convertedFeedback[0];\n        }\n    }\n    const bufferLength = 32;\n    const xBuffer = new Float32Array(bufferLength);\n    const yBuffer = new Float32Array(bufferLength);\n    const filteredBuffer = nativeOfflineAudioContext.createBuffer(renderedBuffer.numberOfChannels, renderedBuffer.length, renderedBuffer.sampleRate);\n    const numberOfChannels = renderedBuffer.numberOfChannels;\n    for (let i = 0; i < numberOfChannels; i += 1) {\n        const input = renderedBuffer.getChannelData(i);\n        const output = filteredBuffer.getChannelData(i);\n        xBuffer.fill(0);\n        yBuffer.fill(0);\n        filterBuffer(convertedFeedback, feedbackLength, convertedFeedforward, feedforwardLength, minLength, xBuffer, yBuffer, 0, bufferLength, input, output);\n    }\n    return filteredBuffer;\n};\nexport const createIIRFilterNodeRendererFactory = (createNativeAudioBufferSourceNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderInputsOfAudioNode, renderNativeOfflineAudioContext) => {\n    return (feedback, feedforward) => {\n        const renderedNativeAudioNodes = new WeakMap();\n        let filteredBufferPromise = null;\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioBufferSourceNode = null;\n            let nativeIIRFilterNode = getNativeAudioNode(proxy);\n            // If the initially used nativeIIRFilterNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeIIRFilterNodeIsOwnedByContext = isOwnedByContext(nativeIIRFilterNode, nativeOfflineAudioContext);\n            // Bug #9: Safari does not support IIRFilterNodes.\n            if (nativeOfflineAudioContext.createIIRFilter === undefined) {\n                nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, {\n                    buffer: null,\n                    channelCount: 2,\n                    channelCountMode: 'max',\n                    channelInterpretation: 'speakers',\n                    loop: false,\n                    loopEnd: 0,\n                    loopStart: 0,\n                    playbackRate: 1\n                });\n            }\n            else if (!nativeIIRFilterNodeIsOwnedByContext) {\n                // @todo TypeScript defines the parameters of createIIRFilter() as arrays of numbers.\n                nativeIIRFilterNode = nativeOfflineAudioContext.createIIRFilter(feedforward, feedback);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioBufferSourceNode === null ? nativeIIRFilterNode : nativeAudioBufferSourceNode);\n            if (nativeAudioBufferSourceNode !== null) {\n                if (filteredBufferPromise === null) {\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n                    const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(\n                    // Bug #47: The AudioDestinationNode in Safari gets not initialized correctly.\n                    proxy.context.destination.channelCount, \n                    // Bug #17: Safari does not yet expose the length.\n                    proxy.context.length, nativeOfflineAudioContext.sampleRate);\n                    filteredBufferPromise = (async () => {\n                        await renderInputsOfAudioNode(proxy, partialOfflineAudioContext, partialOfflineAudioContext.destination);\n                        const renderedBuffer = await renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                        return filterFullBuffer(renderedBuffer, nativeOfflineAudioContext, feedback, feedforward);\n                    })();\n                }\n                const filteredBuffer = await filteredBufferPromise;\n                nativeAudioBufferSourceNode.buffer = filteredBuffer;\n                nativeAudioBufferSourceNode.start(0);\n                return nativeAudioBufferSourceNode;\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeIIRFilterNode);\n            return nativeIIRFilterNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=iir-filter-node-renderer-factory.js.map","import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nexport const createIncrementCycleCounterFactory = (cycleCounters, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, isActiveAudioNode) => {\n    return (isOffline) => {\n        return (audioNode, count) => {\n            const cycleCounter = cycleCounters.get(audioNode);\n            if (cycleCounter === undefined) {\n                if (!isOffline && isActiveAudioNode(audioNode)) {\n                    const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                    const { outputs } = getAudioNodeConnections(audioNode);\n                    for (const output of outputs) {\n                        if (isAudioNodeOutputConnection(output)) {\n                            const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n                            disconnectNativeAudioNodeFromNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output[1], output[2]);\n                        }\n                        else {\n                            const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n                            nativeSourceAudioNode.disconnect(nativeDestinationAudioParam, output[1]);\n                        }\n                    }\n                }\n                cycleCounters.set(audioNode, count);\n            }\n            else {\n                cycleCounters.set(audioNode, cycleCounter + count);\n            }\n        };\n    };\n};\n//# sourceMappingURL=increment-cycle-counter-factory.js.map","export const createIsAnyAudioContext = (contextStore, isNativeAudioContext) => {\n    return (anything) => {\n        const nativeContext = contextStore.get(anything);\n        return isNativeAudioContext(nativeContext) || isNativeAudioContext(anything);\n    };\n};\n//# sourceMappingURL=is-any-audio-context.js.map","export const createIsAnyAudioNode = (audioNodeStore, isNativeAudioNode) => {\n    return (anything) => audioNodeStore.has(anything) || isNativeAudioNode(anything);\n};\n//# sourceMappingURL=is-any-audio-node.js.map","export const createIsAnyAudioParam = (audioParamStore, isNativeAudioParam) => {\n    return (anything) => audioParamStore.has(anything) || isNativeAudioParam(anything);\n};\n//# sourceMappingURL=is-any-audio-param.js.map","export const createIsAnyOfflineAudioContext = (contextStore, isNativeOfflineAudioContext) => {\n    return (anything) => {\n        const nativeContext = contextStore.get(anything);\n        return isNativeOfflineAudioContext(nativeContext) || isNativeOfflineAudioContext(anything);\n    };\n};\n//# sourceMappingURL=is-any-offline-audio-context.js.map","export const createIsNativeAudioContext = (nativeAudioContextConstructor) => {\n    return (anything) => {\n        return nativeAudioContextConstructor !== null && anything instanceof nativeAudioContextConstructor;\n    };\n};\n//# sourceMappingURL=is-native-audio-context.js.map","export const createIsNativeAudioNode = (window) => {\n    return (anything) => {\n        return window !== null && typeof window.AudioNode === 'function' && anything instanceof window.AudioNode;\n    };\n};\n//# sourceMappingURL=is-native-audio-node.js.map","export const createIsNativeAudioParam = (window) => {\n    return (anything) => {\n        return window !== null && typeof window.AudioParam === 'function' && anything instanceof window.AudioParam;\n    };\n};\n//# sourceMappingURL=is-native-audio-param.js.map","export const createIsNativeContext = (isNativeAudioContext, isNativeOfflineAudioContext) => {\n    return (anything) => {\n        return isNativeAudioContext(anything) || isNativeOfflineAudioContext(anything);\n    };\n};\n//# sourceMappingURL=is-native-context.js.map","export const createIsNativeOfflineAudioContext = (nativeOfflineAudioContextConstructor) => {\n    return (anything) => {\n        return nativeOfflineAudioContextConstructor !== null && anything instanceof nativeOfflineAudioContextConstructor;\n    };\n};\n//# sourceMappingURL=is-native-offline-audio-context.js.map","export const createIsSecureContext = (window) => window !== null && window.isSecureContext;\n//# sourceMappingURL=is-secure-context.js.map","export const createMediaElementAudioSourceNodeConstructor = (audioNodeConstructor, createNativeMediaElementAudioSourceNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class MediaElementAudioSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaElementAudioSourceNode = createNativeMediaElementAudioSourceNode(nativeContext, options);\n            // Bug #171: Safari allows to create a MediaElementAudioSourceNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw TypeError();\n            }\n            super(context, true, nativeMediaElementAudioSourceNode, null);\n            this._nativeMediaElementAudioSourceNode = nativeMediaElementAudioSourceNode;\n        }\n        get mediaElement() {\n            return this._nativeMediaElementAudioSourceNode.mediaElement;\n        }\n    };\n};\n//# sourceMappingURL=media-element-audio-source-node-constructor.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers'\n};\nexport const createMediaStreamAudioDestinationNodeConstructor = (audioNodeConstructor, createNativeMediaStreamAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class MediaStreamAudioDestinationNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            // Bug #173: Safari allows to create a MediaStreamAudioDestinationNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw new TypeError();\n            }\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeMediaStreamAudioDestinationNode = createNativeMediaStreamAudioDestinationNode(nativeContext, mergedOptions);\n            super(context, false, nativeMediaStreamAudioDestinationNode, null);\n            this._nativeMediaStreamAudioDestinationNode = nativeMediaStreamAudioDestinationNode;\n        }\n        get stream() {\n            return this._nativeMediaStreamAudioDestinationNode.stream;\n        }\n    };\n};\n//# sourceMappingURL=media-stream-audio-destination-node-constructor.js.map","export const createMediaStreamAudioSourceNodeConstructor = (audioNodeConstructor, createNativeMediaStreamAudioSourceNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class MediaStreamAudioSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaStreamAudioSourceNode = createNativeMediaStreamAudioSourceNode(nativeContext, options);\n            // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw new TypeError();\n            }\n            super(context, true, nativeMediaStreamAudioSourceNode, null);\n            this._nativeMediaStreamAudioSourceNode = nativeMediaStreamAudioSourceNode;\n        }\n        get mediaStream() {\n            return this._nativeMediaStreamAudioSourceNode.mediaStream;\n        }\n    };\n};\n//# sourceMappingURL=media-stream-audio-source-node-constructor.js.map","export const createMediaStreamTrackAudioSourceNodeConstructor = (audioNodeConstructor, createNativeMediaStreamTrackAudioSourceNode, getNativeContext) => {\n    return class MediaStreamTrackAudioSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaStreamTrackAudioSourceNode = createNativeMediaStreamTrackAudioSourceNode(nativeContext, options);\n            super(context, true, nativeMediaStreamTrackAudioSourceNode, null);\n        }\n    };\n};\n//# sourceMappingURL=media-stream-track-audio-source-node-constructor.js.map","import { CONTEXT_STORE } from '../globals';\nexport const createMinimalBaseAudioContextConstructor = (audioDestinationNodeConstructor, createAudioListener, eventTargetConstructor, isNativeOfflineAudioContext, unrenderedAudioWorkletNodeStore, wrapEventListener) => {\n    return class MinimalBaseAudioContext extends eventTargetConstructor {\n        constructor(_nativeContext, numberOfChannels) {\n            super(_nativeContext);\n            this._nativeContext = _nativeContext;\n            CONTEXT_STORE.set(this, _nativeContext);\n            if (isNativeOfflineAudioContext(_nativeContext)) {\n                unrenderedAudioWorkletNodeStore.set(_nativeContext, new Set());\n            }\n            this._destination = new audioDestinationNodeConstructor(this, numberOfChannels);\n            this._listener = createAudioListener(this, _nativeContext);\n            this._onstatechange = null;\n        }\n        get currentTime() {\n            return this._nativeContext.currentTime;\n        }\n        get destination() {\n            return this._destination;\n        }\n        get listener() {\n            return this._listener;\n        }\n        get onstatechange() {\n            return this._onstatechange;\n        }\n        set onstatechange(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeContext.onstatechange = wrappedListener;\n            const nativeOnStateChange = this._nativeContext.onstatechange;\n            this._onstatechange = nativeOnStateChange !== null && nativeOnStateChange === wrappedListener ? value : nativeOnStateChange;\n        }\n        get sampleRate() {\n            return this._nativeContext.sampleRate;\n        }\n        get state() {\n            return this._nativeContext.state;\n        }\n    };\n};\n//# sourceMappingURL=minimal-base-audio-context-constructor.js.map","export const testPromiseSupport = (nativeContext) => {\n    // This 12 numbers represent the 48 bytes of an empty WAVE file with a single sample.\n    const uint32Array = new Uint32Array([1179011410, 40, 1163280727, 544501094, 16, 131073, 44100, 176400, 1048580, 1635017060, 4, 0]);\n    try {\n        // Bug #1: Safari requires a successCallback.\n        const promise = nativeContext.decodeAudioData(uint32Array.buffer, () => {\n            // Ignore the success callback.\n        });\n        if (promise === undefined) {\n            return false;\n        }\n        promise.catch(() => {\n            // Ignore rejected errors.\n        });\n        return true;\n    }\n    catch {\n        // Ignore errors.\n    }\n    return false;\n};\n//# sourceMappingURL=test-promise-support.js.map","export const createMonitorConnections = (insertElementInSet, isNativeAudioNode) => {\n    return (nativeAudioNode, whenConnected, whenDisconnected) => {\n        const connections = new Set();\n        nativeAudioNode.connect = ((connect) => {\n            // tslint:disable-next-line:invalid-void no-inferrable-types\n            return (destination, output = 0, input = 0) => {\n                const wasDisconnected = connections.size === 0;\n                if (isNativeAudioNode(destination)) {\n                    // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                    connect.call(nativeAudioNode, destination, output, input);\n                    insertElementInSet(connections, [destination, output, input], (connection) => connection[0] === destination && connection[1] === output && connection[2] === input, true);\n                    if (wasDisconnected) {\n                        whenConnected();\n                    }\n                    return destination;\n                }\n                connect.call(nativeAudioNode, destination, output);\n                insertElementInSet(connections, [destination, output], (connection) => connection[0] === destination && connection[1] === output, true);\n                if (wasDisconnected) {\n                    whenConnected();\n                }\n                return;\n            };\n        })(nativeAudioNode.connect);\n        nativeAudioNode.disconnect = ((disconnect) => {\n            return (destinationOrOutput, output, input) => {\n                const wasConnected = connections.size > 0;\n                if (destinationOrOutput === undefined) {\n                    disconnect.apply(nativeAudioNode);\n                    connections.clear();\n                }\n                else if (typeof destinationOrOutput === 'number') {\n                    // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n                    disconnect.call(nativeAudioNode, destinationOrOutput);\n                    for (const connection of connections) {\n                        if (connection[1] === destinationOrOutput) {\n                            connections.delete(connection);\n                        }\n                    }\n                }\n                else {\n                    if (isNativeAudioNode(destinationOrOutput)) {\n                        // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                        disconnect.call(nativeAudioNode, destinationOrOutput, output, input);\n                    }\n                    else {\n                        // @todo TypeScript cannot infer the overloaded signature with 2 arguments yet.\n                        disconnect.call(nativeAudioNode, destinationOrOutput, output);\n                    }\n                    for (const connection of connections) {\n                        if (connection[0] === destinationOrOutput &&\n                            (output === undefined || connection[1] === output) &&\n                            (input === undefined || connection[2] === input)) {\n                            connections.delete(connection);\n                        }\n                    }\n                }\n                const isDisconnected = connections.size === 0;\n                if (wasConnected && isDisconnected) {\n                    whenDisconnected();\n                }\n            };\n        })(nativeAudioNode.disconnect);\n        return nativeAudioNode;\n    };\n};\n//# sourceMappingURL=monitor-connections.js.map","export const assignNativeAudioNodeOption = (nativeAudioNode, options, option) => {\n    const value = options[option];\n    if (value !== undefined && value !== nativeAudioNode[option]) {\n        nativeAudioNode[option] = value;\n    }\n};\n//# sourceMappingURL=assign-native-audio-node-option.js.map","import { assignNativeAudioNodeOption } from './assign-native-audio-node-option';\nexport const assignNativeAudioNodeOptions = (nativeAudioNode, options) => {\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCount');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCountMode');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelInterpretation');\n};\n//# sourceMappingURL=assign-native-audio-node-options.js.map","export const testAnalyserNodeGetFloatTimeDomainDataMethodSupport = (nativeAnalyserNode) => {\n    return typeof nativeAnalyserNode.getFloatTimeDomainData === 'function';\n};\n//# sourceMappingURL=test-analyser-node-get-float-time-domain-data-method-support.js.map","export const wrapAnalyserNodeGetFloatTimeDomainDataMethod = (nativeAnalyserNode) => {\n    nativeAnalyserNode.getFloatTimeDomainData = (array) => {\n        const byteTimeDomainData = new Uint8Array(array.length);\n        nativeAnalyserNode.getByteTimeDomainData(byteTimeDomainData);\n        const length = Math.max(byteTimeDomainData.length, nativeAnalyserNode.fftSize);\n        for (let i = 0; i < length; i += 1) {\n            array[i] = (byteTimeDomainData[i] - 128) * 0.0078125;\n        }\n        return array;\n    };\n};\n//# sourceMappingURL=wrap-analyser-node-get-float-time-domain-data-method.js.map","import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { testAnalyserNodeGetFloatTimeDomainDataMethodSupport } from '../helpers/test-analyser-node-get-float-time-domain-data-method-support';\nimport { wrapAnalyserNodeGetFloatTimeDomainDataMethod } from '../helpers/wrap-analyser-node-get-float-time-domain-data-method';\nexport const createNativeAnalyserNodeFactory = (cacheTestResult, createIndexSizeError) => {\n    return (nativeContext, options) => {\n        const nativeAnalyserNode = nativeContext.createAnalyser();\n        // Bug #37: Firefox does not create an AnalyserNode with the default properties.\n        assignNativeAudioNodeOptions(nativeAnalyserNode, options);\n        // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n        if (!(options.maxDecibels > options.minDecibels)) {\n            throw createIndexSizeError();\n        }\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'fftSize');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'maxDecibels');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'minDecibels');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'smoothingTimeConstant');\n        // Bug #36: Safari does not support getFloatTimeDomainData() yet.\n        if (!cacheTestResult(testAnalyserNodeGetFloatTimeDomainDataMethodSupport, () => testAnalyserNodeGetFloatTimeDomainDataMethodSupport(nativeAnalyserNode))) {\n            wrapAnalyserNodeGetFloatTimeDomainDataMethod(nativeAnalyserNode);\n        }\n        return nativeAnalyserNode;\n    };\n};\n//# sourceMappingURL=native-analyser-node-factory.js.map","export const createNativeAudioBufferConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('AudioBuffer')) {\n        return window.AudioBuffer;\n    }\n    return null;\n};\n//# sourceMappingURL=native-audio-buffer-constructor.js.map","export const assignNativeAudioNodeAudioParamValue = (nativeAudioNode, options, audioParam) => {\n    const value = options[audioParam];\n    if (value !== undefined && value !== nativeAudioNode[audioParam].value) {\n        nativeAudioNode[audioParam].value = value;\n    }\n};\n//# sourceMappingURL=assign-native-audio-node-audio-param-value.js.map","import { createInvalidStateError } from '../factories/invalid-state-error';\nexport const wrapAudioBufferSourceNodeStartMethodConsecutiveCalls = (nativeAudioBufferSourceNode) => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        let isScheduled = false;\n        return (when = 0, offset = 0, duration) => {\n            if (isScheduled) {\n                throw createInvalidStateError();\n            }\n            start.call(nativeAudioBufferSourceNode, when, offset, duration);\n            isScheduled = true;\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-start-method-consecutive-calls.js.map","export const wrapAudioScheduledSourceNodeStartMethodNegativeParameters = (nativeAudioScheduledSourceNode) => {\n    nativeAudioScheduledSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration) => {\n            if ((typeof duration === 'number' && duration < 0) || offset < 0 || when < 0) {\n                throw new RangeError(\"The parameters can't be negative.\");\n            }\n            // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n            start.call(nativeAudioScheduledSourceNode, when, offset, duration);\n        };\n    })(nativeAudioScheduledSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-start-method-negative-parameters.js.map","export const wrapAudioScheduledSourceNodeStopMethodNegativeParameters = (nativeAudioScheduledSourceNode) => {\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        return (when = 0) => {\n            if (when < 0) {\n                throw new RangeError(\"The parameter can't be negative.\");\n            }\n            stop.call(nativeAudioScheduledSourceNode, when);\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-stop-method-negative-parameters.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioBufferSourceNodeStartMethodConsecutiveCalls } from '../helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeAudioBufferSourceNodeFactory = (addSilentConnection, cacheTestResult, testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, testAudioBufferSourceNodeStartMethodOffsetClampingSupport, testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioBufferSourceNodeStartMethodOffsetClampling, wrapAudioBufferSourceNodeStopMethodNullifiedBuffer, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls) => {\n    return (nativeContext, options) => {\n        const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n        assignNativeAudioNodeOptions(nativeAudioBufferSourceNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeAudioBufferSourceNode, options, 'playbackRate');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'buffer');\n        // Bug #149: Safari does not yet support the detune AudioParam.\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loop');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopEnd');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopStart');\n        // Bug #69: Safari does allow calls to start() of an already scheduled AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, () => testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(nativeAudioBufferSourceNode);\n        }\n        // Bug #154 & #155: Safari does not handle offsets which are equal to or greater than the duration of the buffer.\n        if (!cacheTestResult(testAudioBufferSourceNodeStartMethodOffsetClampingSupport, () => testAudioBufferSourceNodeStartMethodOffsetClampingSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStartMethodOffsetClampling(nativeAudioBufferSourceNode);\n        }\n        // Bug #162: Safari does throw an error when stop() is called on an AudioBufferSourceNode which has no buffer assigned to it.\n        if (!cacheTestResult(testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, () => testAudioBufferSourceNodeStopMethodNullifiedBufferSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStopMethodNullifiedBuffer(nativeAudioBufferSourceNode, nativeContext);\n        }\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n        // Bug #19: Safari does not ignore calls to stop() of an already stopped AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, () => testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls(nativeAudioBufferSourceNode, nativeContext);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeAudioBufferSourceNode);\n        return nativeAudioBufferSourceNode;\n    };\n};\n//# sourceMappingURL=native-audio-buffer-source-node-factory.js.map","export const createNativeAudioContextConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('AudioContext')) {\n        return window.AudioContext;\n    }\n    return window.hasOwnProperty('webkitAudioContext') ? window.webkitAudioContext : null;\n};\n//# sourceMappingURL=native-audio-context-constructor.js.map","export const createNativeAudioDestinationNodeFactory = (createNativeGainNode, overwriteAccessors) => {\n    return (nativeContext, channelCount, isNodeOfNativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeContext.destination;\n        // Bug #132: Safari does not have the correct channelCount.\n        if (nativeAudioDestinationNode.channelCount !== channelCount) {\n            try {\n                nativeAudioDestinationNode.channelCount = channelCount;\n            }\n            catch {\n                // Bug #169: Safari throws an error on each attempt to change the channelCount.\n            }\n        }\n        // Bug #83: Safari does not have the correct channelCountMode.\n        if (isNodeOfNativeOfflineAudioContext && nativeAudioDestinationNode.channelCountMode !== 'explicit') {\n            nativeAudioDestinationNode.channelCountMode = 'explicit';\n        }\n        // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n        if (nativeAudioDestinationNode.maxChannelCount === 0) {\n            Object.defineProperty(nativeAudioDestinationNode, 'maxChannelCount', {\n                value: channelCount\n            });\n        }\n        // Bug #168: No browser does yet have an AudioDestinationNode with an output.\n        const gainNode = createNativeGainNode(nativeContext, {\n            channelCount,\n            channelCountMode: nativeAudioDestinationNode.channelCountMode,\n            channelInterpretation: nativeAudioDestinationNode.channelInterpretation,\n            gain: 1\n        });\n        overwriteAccessors(gainNode, 'channelCount', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            try {\n                nativeAudioDestinationNode.channelCount = value;\n            }\n            catch (err) {\n                // Bug #169: Safari throws an error on each attempt to change the channelCount.\n                if (value > nativeAudioDestinationNode.maxChannelCount) {\n                    throw err;\n                }\n            }\n        });\n        overwriteAccessors(gainNode, 'channelCountMode', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            nativeAudioDestinationNode.channelCountMode = value;\n        });\n        overwriteAccessors(gainNode, 'channelInterpretation', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            nativeAudioDestinationNode.channelInterpretation = value;\n        });\n        Object.defineProperty(gainNode, 'maxChannelCount', {\n            get: () => nativeAudioDestinationNode.maxChannelCount\n        });\n        // @todo This should be disconnected when the context is closed.\n        gainNode.connect(nativeAudioDestinationNode);\n        return gainNode;\n    };\n};\n//# sourceMappingURL=native-audio-destination-node.js.map","export const createNativeAudioWorkletNodeConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    return window.hasOwnProperty('AudioWorkletNode') ? window.AudioWorkletNode : null;\n};\n//# sourceMappingURL=native-audio-worklet-node-constructor.js.map","export const testClonabilityOfAudioWorkletNodeOptions = (audioWorkletNodeOptions) => {\n    const { port1 } = new MessageChannel();\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    }\n    finally {\n        port1.close();\n    }\n};\n//# sourceMappingURL=test-clonability-of-audio-worklet-node-options.js.map","import { testClonabilityOfAudioWorkletNodeOptions } from '../helpers/test-clonability-of-audio-worklet-node-options';\nexport const createNativeAudioWorkletNodeFactory = (createInvalidStateError, createNativeAudioWorkletNodeFaker, createNativeGainNode, createNotSupportedError, monitorConnections) => {\n    return (nativeContext, baseLatency, nativeAudioWorkletNodeConstructor, name, processorConstructor, options) => {\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            try {\n                const nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(nativeContext, name, options);\n                const patchedEventListeners = new Map();\n                let onprocessorerror = null;\n                Object.defineProperties(nativeAudioWorkletNode, {\n                    /*\n                     * Bug #61: Overwriting the property accessors for channelCount and channelCountMode is necessary as long as some\n                     * browsers have no native implementation to achieve a consistent behavior.\n                     */\n                    channelCount: {\n                        get: () => options.channelCount,\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    channelCountMode: {\n                        get: () => 'explicit',\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    // Bug #156: Chrome and Edge do not yet fire an ErrorEvent.\n                    onprocessorerror: {\n                        get: () => onprocessorerror,\n                        set: (value) => {\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.removeEventListener('processorerror', onprocessorerror);\n                            }\n                            onprocessorerror = typeof value === 'function' ? value : null;\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.addEventListener('processorerror', onprocessorerror);\n                            }\n                        }\n                    }\n                });\n                nativeAudioWorkletNode.addEventListener = ((addEventListener) => {\n                    return (...args) => {\n                        if (args[0] === 'processorerror') {\n                            const unpatchedEventListener = typeof args[1] === 'function'\n                                ? args[1]\n                                : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                                    ? args[1].handleEvent\n                                    : null;\n                            if (unpatchedEventListener !== null) {\n                                const patchedEventListener = patchedEventListeners.get(args[1]);\n                                if (patchedEventListener !== undefined) {\n                                    args[1] = patchedEventListener;\n                                }\n                                else {\n                                    args[1] = (event) => {\n                                        // Bug #178: Chrome and Edge do fire an event of type error.\n                                        if (event.type === 'error') {\n                                            Object.defineProperties(event, {\n                                                type: { value: 'processorerror' }\n                                            });\n                                            unpatchedEventListener(event);\n                                        }\n                                        else {\n                                            unpatchedEventListener(new ErrorEvent(args[0], { ...event }));\n                                        }\n                                    };\n                                    patchedEventListeners.set(unpatchedEventListener, args[1]);\n                                }\n                            }\n                        }\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        addEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n                        return addEventListener.call(nativeAudioWorkletNode, ...args);\n                    };\n                })(nativeAudioWorkletNode.addEventListener);\n                nativeAudioWorkletNode.removeEventListener = ((removeEventListener) => {\n                    return (...args) => {\n                        if (args[0] === 'processorerror') {\n                            const patchedEventListener = patchedEventListeners.get(args[1]);\n                            if (patchedEventListener !== undefined) {\n                                patchedEventListeners.delete(args[1]);\n                                args[1] = patchedEventListener;\n                            }\n                        }\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        removeEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n                        return removeEventListener.call(nativeAudioWorkletNode, args[0], args[1], args[2]);\n                    };\n                })(nativeAudioWorkletNode.removeEventListener);\n                /*\n                 * Bug #86: Chrome and Edge do not invoke the process() function if the corresponding AudioWorkletNode is unconnected but\n                 * has an output.\n                 */\n                if (options.numberOfOutputs !== 0) {\n                    const nativeGainNode = createNativeGainNode(nativeContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'discrete',\n                        gain: 0\n                    });\n                    nativeAudioWorkletNode.connect(nativeGainNode).connect(nativeContext.destination);\n                    const whenConnected = () => nativeGainNode.disconnect();\n                    const whenDisconnected = () => nativeGainNode.connect(nativeContext.destination);\n                    // @todo Disconnect the connection when the process() function of the AudioWorkletNode returns false.\n                    return monitorConnections(nativeAudioWorkletNode, whenConnected, whenDisconnected);\n                }\n                return nativeAudioWorkletNode;\n            }\n            catch (err) {\n                // Bug #60: Chrome & Edge throw an InvalidStateError instead of a NotSupportedError.\n                if (err.code === 11) {\n                    throw createNotSupportedError();\n                }\n                throw err;\n            }\n        }\n        // Bug #61: Only Chrome & Edge have an implementation of the AudioWorkletNode yet.\n        if (processorConstructor === undefined) {\n            throw createNotSupportedError();\n        }\n        testClonabilityOfAudioWorkletNodeOptions(options);\n        return createNativeAudioWorkletNodeFaker(nativeContext, baseLatency, processorConstructor, options);\n    };\n};\n//# sourceMappingURL=native-audio-worklet-node-factory.js.map","export const computeBufferSize = (baseLatency, sampleRate) => {\n    if (baseLatency === null) {\n        return 512;\n    }\n    return Math.max(512, Math.min(16384, Math.pow(2, Math.round(Math.log2(baseLatency * sampleRate)))));\n};\n//# sourceMappingURL=compute-buffer-size.js.map","export const cloneAudioWorkletNodeOptions = (audioWorkletNodeOptions) => {\n    return new Promise((resolve, reject) => {\n        const { port1, port2 } = new MessageChannel();\n        port1.onmessage = ({ data }) => {\n            port1.close();\n            port2.close();\n            resolve(data);\n        };\n        port1.onmessageerror = ({ data }) => {\n            port1.close();\n            port2.close();\n            reject(data);\n        };\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port2.postMessage(audioWorkletNodeOptions);\n    });\n};\n//# sourceMappingURL=clone-audio-worklet-node-options.js.map","import { cloneAudioWorkletNodeOptions } from './clone-audio-worklet-node-options';\nexport const createAudioWorkletProcessorPromise = async (processorConstructor, audioWorkletNodeOptions) => {\n    const clonedAudioWorkletNodeOptions = await cloneAudioWorkletNodeOptions(audioWorkletNodeOptions);\n    return new processorConstructor(clonedAudioWorkletNodeOptions);\n};\n//# sourceMappingURL=create-audio-worklet-processor-promise.js.map","import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { createAudioWorkletProcessorPromise } from './create-audio-worklet-processor-promise';\nexport const createAudioWorkletProcessor = (nativeContext, nativeAudioWorkletNode, processorConstructor, audioWorkletNodeOptions) => {\n    let nodeToProcessorMap = NODE_TO_PROCESSOR_MAPS.get(nativeContext);\n    if (nodeToProcessorMap === undefined) {\n        nodeToProcessorMap = new WeakMap();\n        NODE_TO_PROCESSOR_MAPS.set(nativeContext, nodeToProcessorMap);\n    }\n    const audioWorkletProcessorPromise = createAudioWorkletProcessorPromise(processorConstructor, audioWorkletNodeOptions);\n    nodeToProcessorMap.set(nativeAudioWorkletNode, audioWorkletProcessorPromise);\n    return audioWorkletProcessorPromise;\n};\n//# sourceMappingURL=create-audio-worklet-processor.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createAudioWorkletProcessor } from '../helpers/create-audio-worklet-processor';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { ReadOnlyMap } from '../read-only-map';\nexport const createNativeAudioWorkletNodeFakerFactory = (connectMultipleOutputs, createIndexSizeError, createInvalidStateError, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, createNativeScriptProcessorNode, createNotSupportedError, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getActiveAudioWorkletNodeInputs, monitorConnections) => {\n    return (nativeContext, baseLatency, processorConstructor, options) => {\n        if (options.numberOfInputs === 0 && options.numberOfOutputs === 0) {\n            throw createNotSupportedError();\n        }\n        const outputChannelCount = Array.isArray(options.outputChannelCount)\n            ? options.outputChannelCount\n            : Array.from(options.outputChannelCount);\n        // @todo Check if any of the channelCount values is greater than the implementation's maximum number of channels.\n        if (outputChannelCount.some((channelCount) => channelCount < 1)) {\n            throw createNotSupportedError();\n        }\n        if (outputChannelCount.length !== options.numberOfOutputs) {\n            throw createIndexSizeError();\n        }\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (options.channelCountMode !== 'explicit') {\n            throw createNotSupportedError();\n        }\n        const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n        const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n        const numberOfParameters = processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (numberOfInputChannels + numberOfParameters > 6 || numberOfOutputChannels > 6) {\n            throw createNotSupportedError();\n        }\n        const messageChannel = new MessageChannel();\n        const gainNodes = [];\n        const inputChannelSplitterNodes = [];\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes.push(createNativeGainNode(nativeContext, {\n                channelCount: options.channelCount,\n                channelCountMode: options.channelCountMode,\n                channelInterpretation: options.channelInterpretation,\n                gain: 1\n            }));\n            inputChannelSplitterNodes.push(createNativeChannelSplitterNode(nativeContext, {\n                channelCount: options.channelCount,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                numberOfOutputs: options.channelCount\n            }));\n        }\n        const constantSourceNodes = [];\n        if (processorConstructor.parameterDescriptors !== undefined) {\n            for (const { defaultValue, maxValue, minValue, name } of processorConstructor.parameterDescriptors) {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset: options.parameterData[name] !== undefined\n                        ? options.parameterData[name]\n                        : defaultValue === undefined\n                            ? 0\n                            : defaultValue\n                });\n                Object.defineProperties(constantSourceNode.offset, {\n                    defaultValue: {\n                        get: () => (defaultValue === undefined ? 0 : defaultValue)\n                    },\n                    maxValue: {\n                        get: () => (maxValue === undefined ? MOST_POSITIVE_SINGLE_FLOAT : maxValue)\n                    },\n                    minValue: {\n                        get: () => (minValue === undefined ? MOST_NEGATIVE_SINGLE_FLOAT : minValue)\n                    }\n                });\n                constantSourceNodes.push(constantSourceNode);\n            }\n        }\n        const inputChannelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'speakers',\n            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n        });\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, numberOfInputChannels + numberOfParameters, \n        // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n        Math.max(1, numberOfOutputChannels));\n        const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeContext, {\n            channelCount: Math.max(1, numberOfOutputChannels),\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            numberOfOutputs: Math.max(1, numberOfOutputChannels)\n        });\n        const outputChannelMergerNodes = [];\n        for (let i = 0; i < options.numberOfOutputs; i += 1) {\n            outputChannelMergerNodes.push(createNativeChannelMergerNode(nativeContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'speakers',\n                numberOfInputs: outputChannelCount[i]\n            }));\n        }\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n            for (let j = 0; j < options.channelCount; j += 1) {\n                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n            }\n        }\n        const parameterMap = new ReadOnlyMap(processorConstructor.parameterDescriptors === undefined\n            ? []\n            : processorConstructor.parameterDescriptors.map(({ name }, index) => {\n                const constantSourceNode = constantSourceNodes[index];\n                constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                constantSourceNode.start(0);\n                return [name, constantSourceNode.offset];\n            }));\n        inputChannelMergerNode.connect(scriptProcessorNode);\n        let channelInterpretation = options.channelInterpretation;\n        let onprocessorerror = null;\n        // Bug #87: Expose at least one output to make this node connectable.\n        const outputAudioNodes = options.numberOfOutputs === 0 ? [scriptProcessorNode] : outputChannelMergerNodes;\n        const nativeAudioWorkletNodeFaker = {\n            get bufferSize() {\n                return bufferSize;\n            },\n            get channelCount() {\n                return options.channelCount;\n            },\n            set channelCount(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelCountMode() {\n                return options.channelCountMode;\n            },\n            set channelCountMode(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelInterpretation() {\n                return channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                for (const gainNode of gainNodes) {\n                    gainNode.channelInterpretation = value;\n                }\n                channelInterpretation = value;\n            },\n            get context() {\n                return scriptProcessorNode.context;\n            },\n            get inputs() {\n                return gainNodes;\n            },\n            get numberOfInputs() {\n                return options.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return options.numberOfOutputs;\n            },\n            get onprocessorerror() {\n                return onprocessorerror;\n            },\n            set onprocessorerror(value) {\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.removeEventListener('processorerror', onprocessorerror);\n                }\n                onprocessorerror = typeof value === 'function' ? value : null;\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.addEventListener('processorerror', onprocessorerror);\n                }\n            },\n            get parameters() {\n                return parameterMap;\n            },\n            get port() {\n                return messageChannel.port2;\n            },\n            addEventListener(...args) {\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            connect: connectMultipleOutputs.bind(null, outputAudioNodes),\n            disconnect: disconnectMultipleOutputs.bind(null, outputAudioNodes),\n            dispatchEvent(...args) {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        const patchedEventListeners = new Map();\n        messageChannel.port1.addEventListener = ((addEventListener) => {\n            return (...args) => {\n                if (args[0] === 'message') {\n                    const unpatchedEventListener = typeof args[1] === 'function'\n                        ? args[1]\n                        : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                            ? args[1].handleEvent\n                            : null;\n                    if (unpatchedEventListener !== null) {\n                        const patchedEventListener = patchedEventListeners.get(args[1]);\n                        if (patchedEventListener !== undefined) {\n                            args[1] = patchedEventListener;\n                        }\n                        else {\n                            args[1] = (event) => {\n                                exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () => unpatchedEventListener(event));\n                            };\n                            patchedEventListeners.set(unpatchedEventListener, args[1]);\n                        }\n                    }\n                }\n                return addEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.addEventListener);\n        messageChannel.port1.removeEventListener = ((removeEventListener) => {\n            return (...args) => {\n                if (args[0] === 'message') {\n                    const patchedEventListener = patchedEventListeners.get(args[1]);\n                    if (patchedEventListener !== undefined) {\n                        patchedEventListeners.delete(args[1]);\n                        args[1] = patchedEventListener;\n                    }\n                }\n                return removeEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.removeEventListener);\n        let onmessage = null;\n        Object.defineProperty(messageChannel.port1, 'onmessage', {\n            get: () => onmessage,\n            set: (value) => {\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.removeEventListener('message', onmessage);\n                }\n                onmessage = typeof value === 'function' ? value : null;\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.addEventListener('message', onmessage);\n                    messageChannel.port1.start();\n                }\n            }\n        });\n        processorConstructor.prototype.port = messageChannel.port1;\n        let audioWorkletProcessor = null;\n        const audioWorkletProcessorPromise = createAudioWorkletProcessor(nativeContext, nativeAudioWorkletNodeFaker, processorConstructor, options);\n        audioWorkletProcessorPromise.then((dWrkltPrcssr) => (audioWorkletProcessor = dWrkltPrcssr));\n        const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n        const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n        const parameters = processorConstructor.parameterDescriptors === undefined\n            ? []\n            : processorConstructor.parameterDescriptors.reduce((prmtrs, { name }) => ({ ...prmtrs, [name]: new Float32Array(128) }), {});\n        let isActive = true;\n        const disconnectOutputsGraph = () => {\n            if (options.numberOfOutputs > 0) {\n                scriptProcessorNode.disconnect(outputChannelSplitterNode);\n            }\n            for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                const outputChannelMergerNode = outputChannelMergerNodes[i];\n                for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                    outputChannelSplitterNode.disconnect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                }\n                outputChannelSplitterNodeOutput += outputChannelCount[i];\n            }\n        };\n        const activeInputIndexes = new Map();\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = ({ inputBuffer, outputBuffer }) => {\n            if (audioWorkletProcessor !== null) {\n                const activeInputs = getActiveAudioWorkletNodeInputs(nativeAudioWorkletNodeFaker);\n                for (let i = 0; i < bufferSize; i += 128) {\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < options.channelCount; k += 1) {\n                            copyFromChannel(inputBuffer, inputs[j], k, k, i);\n                        }\n                    }\n                    if (processorConstructor.parameterDescriptors !== undefined) {\n                        processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                            copyFromChannel(inputBuffer, parameters, name, numberOfInputChannels + index, i);\n                        });\n                    }\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                            // The byteLength will be 0 when the ArrayBuffer was transferred.\n                            if (outputs[j][k].byteLength === 0) {\n                                outputs[j][k] = new Float32Array(128);\n                            }\n                        }\n                    }\n                    try {\n                        const potentiallyEmptyInputs = inputs.map((input, index) => {\n                            const activeInput = activeInputs[index];\n                            if (activeInput.size > 0) {\n                                activeInputIndexes.set(index, bufferSize / 128);\n                                return input;\n                            }\n                            const count = activeInputIndexes.get(index);\n                            if (count === undefined) {\n                                return [];\n                            }\n                            if (input.every((channelData) => channelData.every((sample) => sample === 0))) {\n                                if (count === 1) {\n                                    activeInputIndexes.delete(index);\n                                }\n                                else {\n                                    activeInputIndexes.set(index, count - 1);\n                                }\n                            }\n                            return input;\n                        });\n                        const activeSourceFlag = exposeCurrentFrameAndCurrentTime(nativeContext.currentTime + i / nativeContext.sampleRate, nativeContext.sampleRate, () => audioWorkletProcessor.process(potentiallyEmptyInputs, outputs, parameters));\n                        isActive = activeSourceFlag;\n                        for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                                copyToChannel(outputBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                            }\n                            outputChannelSplitterNodeOutput += outputChannelCount[j];\n                        }\n                    }\n                    catch (error) {\n                        isActive = false;\n                        nativeAudioWorkletNodeFaker.dispatchEvent(new ErrorEvent('processorerror', {\n                            colno: error.colno,\n                            filename: error.filename,\n                            lineno: error.lineno,\n                            message: error.message\n                        }));\n                    }\n                    if (!isActive) {\n                        for (let j = 0; j < options.numberOfInputs; j += 1) {\n                            gainNodes[j].disconnect(inputChannelSplitterNodes[j]);\n                            for (let k = 0; k < options.channelCount; k += 1) {\n                                inputChannelSplitterNodes[i].disconnect(inputChannelMergerNode, k, j * options.channelCount + k);\n                            }\n                        }\n                        if (processorConstructor.parameterDescriptors !== undefined) {\n                            const length = processorConstructor.parameterDescriptors.length;\n                            for (let j = 0; j < length; j += 1) {\n                                const constantSourceNode = constantSourceNodes[j];\n                                constantSourceNode.disconnect(inputChannelMergerNode, 0, numberOfInputChannels + j);\n                                constantSourceNode.stop();\n                            }\n                        }\n                        inputChannelMergerNode.disconnect(scriptProcessorNode);\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        if (isConnected) {\n                            disconnectOutputsGraph();\n                        }\n                        else {\n                            disconnectFakeGraph();\n                        }\n                        break;\n                    }\n                }\n            }\n        };\n        let isConnected = false;\n        // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        const connectFakeGraph = () => scriptProcessorNode.connect(nativeGainNode).connect(nativeContext.destination);\n        const disconnectFakeGraph = () => {\n            scriptProcessorNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        const whenConnected = () => {\n            if (isActive) {\n                disconnectFakeGraph();\n                if (options.numberOfOutputs > 0) {\n                    scriptProcessorNode.connect(outputChannelSplitterNode);\n                }\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n            }\n            isConnected = true;\n        };\n        const whenDisconnected = () => {\n            if (isActive) {\n                connectFakeGraph();\n                disconnectOutputsGraph();\n            }\n            isConnected = false;\n        };\n        connectFakeGraph();\n        return monitorConnections(nativeAudioWorkletNodeFaker, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-audio-worklet-node-faker-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeBiquadFilterNode = (nativeContext, options) => {\n    const nativeBiquadFilterNode = nativeContext.createBiquadFilter();\n    assignNativeAudioNodeOptions(nativeBiquadFilterNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'Q');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'detune');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'frequency');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'gain');\n    assignNativeAudioNodeOption(nativeBiquadFilterNode, options, 'type');\n    return nativeBiquadFilterNode;\n};\n//# sourceMappingURL=native-biquad-filter-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeChannelMergerNodeFactory = (nativeAudioContextConstructor, wrapChannelMergerNode) => {\n    return (nativeContext, options) => {\n        const nativeChannelMergerNode = nativeContext.createChannelMerger(options.numberOfInputs);\n        /*\n         * Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n         * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the existence of\n         * the webkitAudioContext is used as a workaround here.\n         */\n        if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n            wrapChannelMergerNode(nativeContext, nativeChannelMergerNode);\n        }\n        assignNativeAudioNodeOptions(nativeChannelMergerNode, options);\n        return nativeChannelMergerNode;\n    };\n};\n//# sourceMappingURL=native-channel-merger-node-factory.js.map","import { createInvalidStateError } from '../factories/invalid-state-error';\nexport const wrapChannelSplitterNode = (channelSplitterNode) => {\n    const channelCount = channelSplitterNode.numberOfOutputs;\n    // Bug #97: Safari does not throw an error when attempting to change the channelCount to something other than its initial value.\n    Object.defineProperty(channelSplitterNode, 'channelCount', {\n        get: () => channelCount,\n        set: (value) => {\n            if (value !== channelCount) {\n                throw createInvalidStateError();\n            }\n        }\n    });\n    // Bug #30: Safari does not throw an error when attempting to change the channelCountMode to something other than explicit.\n    Object.defineProperty(channelSplitterNode, 'channelCountMode', {\n        get: () => 'explicit',\n        set: (value) => {\n            if (value !== 'explicit') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n    // Bug #32: Safari does not throw an error when attempting to change the channelInterpretation to something other than discrete.\n    Object.defineProperty(channelSplitterNode, 'channelInterpretation', {\n        get: () => 'discrete',\n        set: (value) => {\n            if (value !== 'discrete') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n};\n//# sourceMappingURL=wrap-channel-splitter-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapChannelSplitterNode } from '../helpers/wrap-channel-splitter-node';\nexport const createNativeChannelSplitterNode = (nativeContext, options) => {\n    const nativeChannelSplitterNode = nativeContext.createChannelSplitter(options.numberOfOutputs);\n    // Bug #96: Safari does not have the correct channelCount.\n    // Bug #29: Safari does not have the correct channelCountMode.\n    // Bug #31: Safari does not have the correct channelInterpretation.\n    assignNativeAudioNodeOptions(nativeChannelSplitterNode, options);\n    // Bug #29, #30, #31, #32, #96 & #97: Only Chrome, Edge & Firefox partially support the spec yet.\n    wrapChannelSplitterNode(nativeChannelSplitterNode);\n    return nativeChannelSplitterNode;\n};\n//# sourceMappingURL=native-channel-splitter-node.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeConstantSourceNodeFactory = (addSilentConnection, cacheTestResult, createNativeConstantSourceNodeFaker, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport) => {\n    return (nativeContext, options) => {\n        // Bug #62: Safari does not support ConstantSourceNodes.\n        if (nativeContext.createConstantSource === undefined) {\n            return createNativeConstantSourceNodeFaker(nativeContext, options);\n        }\n        const nativeConstantSourceNode = nativeContext.createConstantSource();\n        assignNativeAudioNodeOptions(nativeConstantSourceNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeConstantSourceNode, options, 'offset');\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeConstantSourceNode);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeConstantSourceNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the ConstantSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeConstantSourceNode);\n        return nativeConstantSourceNode;\n    };\n};\n//# sourceMappingURL=native-constant-source-node-factory.js.map","export const interceptConnections = (original, interceptor) => {\n    original.connect = interceptor.connect.bind(interceptor);\n    original.disconnect = interceptor.disconnect.bind(interceptor);\n    return original;\n};\n//# sourceMappingURL=intercept-connections.js.map","import { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativeConstantSourceNodeFakerFactory = (addSilentConnection, createNativeAudioBufferSourceNode, createNativeGainNode, monitorConnections) => {\n    return (nativeContext, { offset, ...audioNodeOptions }) => {\n        const audioBuffer = nativeContext.createBuffer(1, 2, 44100);\n        const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, {\n            buffer: null,\n            channelCount: 2,\n            channelCountMode: 'max',\n            channelInterpretation: 'speakers',\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            playbackRate: 1\n        });\n        const gainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: offset });\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        const channelData = audioBuffer.getChannelData(0);\n        // Bug #95: Safari does not play or loop one sample buffers.\n        channelData[0] = 1;\n        channelData[1] = 1;\n        audioBufferSourceNode.buffer = audioBuffer;\n        audioBufferSourceNode.loop = true;\n        const nativeConstantSourceNodeFaker = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return gainNode.channelCount;\n            },\n            set channelCount(value) {\n                gainNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return gainNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                gainNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return gainNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                gainNode.channelInterpretation = value;\n            },\n            get context() {\n                return gainNode.context;\n            },\n            get inputs() {\n                return [];\n            },\n            get numberOfInputs() {\n                return audioBufferSourceNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return gainNode.numberOfOutputs;\n            },\n            get offset() {\n                return gainNode.gain;\n            },\n            get onended() {\n                return audioBufferSourceNode.onended;\n            },\n            set onended(value) {\n                audioBufferSourceNode.onended = value;\n            },\n            addEventListener(...args) {\n                return audioBufferSourceNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return audioBufferSourceNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return audioBufferSourceNode.removeEventListener(args[0], args[1], args[2]);\n            },\n            start(when = 0) {\n                audioBufferSourceNode.start.call(audioBufferSourceNode, when);\n            },\n            stop(when = 0) {\n                audioBufferSourceNode.stop.call(audioBufferSourceNode, when);\n            }\n        };\n        const whenConnected = () => audioBufferSourceNode.connect(gainNode);\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(gainNode);\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, audioBufferSourceNode);\n        return monitorConnections(interceptConnections(nativeConstantSourceNodeFaker, gainNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-constant-source-node-faker-factory.js.map","import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeConvolverNodeFactory = (createNotSupportedError, overwriteAccessors) => {\n    return (nativeContext, options) => {\n        const nativeConvolverNode = nativeContext.createConvolver();\n        assignNativeAudioNodeOptions(nativeConvolverNode, options);\n        // The normalize property needs to be set before setting the buffer.\n        if (options.disableNormalization === nativeConvolverNode.normalize) {\n            nativeConvolverNode.normalize = !options.disableNormalization;\n        }\n        assignNativeAudioNodeOption(nativeConvolverNode, options, 'buffer');\n        // Bug #113: Safari does allow to set the channelCount to a value larger than 2.\n        if (options.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n        overwriteAccessors(nativeConvolverNode, 'channelCount', (get) => () => get.call(nativeConvolverNode), (set) => (value) => {\n            if (value > 2) {\n                throw createNotSupportedError();\n            }\n            return set.call(nativeConvolverNode, value);\n        });\n        // Bug #114: Safari allows to set the channelCountMode to 'max'.\n        if (options.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        overwriteAccessors(nativeConvolverNode, 'channelCountMode', (get) => () => get.call(nativeConvolverNode), (set) => (value) => {\n            if (value === 'max') {\n                throw createNotSupportedError();\n            }\n            return set.call(nativeConvolverNode, value);\n        });\n        return nativeConvolverNode;\n    };\n};\n//# sourceMappingURL=native-convolver-node-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeDelayNode = (nativeContext, options) => {\n    const nativeDelayNode = nativeContext.createDelay(options.maxDelayTime);\n    assignNativeAudioNodeOptions(nativeDelayNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeDelayNode, options, 'delayTime');\n    return nativeDelayNode;\n};\n//# sourceMappingURL=native-delay-node.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeDynamicsCompressorNodeFactory = (createNotSupportedError) => {\n    return (nativeContext, options) => {\n        const nativeDynamicsCompressorNode = nativeContext.createDynamicsCompressor();\n        assignNativeAudioNodeOptions(nativeDynamicsCompressorNode, options);\n        // Bug #108: Safari allows a channelCount of three and above.\n        if (options.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n        // Bug #109: Only Chrome and Firefox disallow a channelCountMode of 'max'.\n        if (options.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'attack');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'knee');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'ratio');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'release');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'threshold');\n        return nativeDynamicsCompressorNode;\n    };\n};\n//# sourceMappingURL=native-dynamics-compressor-node-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeGainNode = (nativeContext, options) => {\n    const nativeGainNode = nativeContext.createGain();\n    assignNativeAudioNodeOptions(nativeGainNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeGainNode, options, 'gain');\n    return nativeGainNode;\n};\n//# sourceMappingURL=native-gain-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeIIRFilterNodeFactory = (createNativeIIRFilterNodeFaker) => {\n    return (nativeContext, baseLatency, options) => {\n        // Bug #9: Safari does not support IIRFilterNodes.\n        if (nativeContext.createIIRFilter === undefined) {\n            return createNativeIIRFilterNodeFaker(nativeContext, baseLatency, options);\n        }\n        // @todo TypeScript defines the parameters of createIIRFilter() as arrays of numbers.\n        const nativeIIRFilterNode = nativeContext.createIIRFilter(options.feedforward, options.feedback);\n        assignNativeAudioNodeOptions(nativeIIRFilterNode, options);\n        return nativeIIRFilterNode;\n    };\n};\n//# sourceMappingURL=native-iir-filter-node-factory.js.map","import { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { filterBuffer } from '../helpers/filter-buffer';\nimport { interceptConnections } from '../helpers/intercept-connections';\nfunction divide(a, b) {\n    const denominator = b[0] * b[0] + b[1] * b[1];\n    return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n}\nfunction multiply(a, b) {\n    return [a[0] * b[0] - a[1] * b[1], a[0] * b[1] + a[1] * b[0]];\n}\nfunction evaluatePolynomial(coefficient, z) {\n    let result = [0, 0];\n    for (let i = coefficient.length - 1; i >= 0; i -= 1) {\n        result = multiply(result, z);\n        result[0] += coefficient[i];\n    }\n    return result;\n}\nexport const createNativeIIRFilterNodeFakerFactory = (createInvalidAccessError, createInvalidStateError, createNativeScriptProcessorNode, createNotSupportedError) => {\n    return (nativeContext, baseLatency, { channelCount, channelCountMode, channelInterpretation, feedback, feedforward }) => {\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n        const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n        const feedbackLength = convertedFeedback.length;\n        const feedforwardLength = convertedFeedforward.length;\n        const minLength = Math.min(feedbackLength, feedforwardLength);\n        if (feedbackLength === 0 || feedbackLength > 20) {\n            throw createNotSupportedError();\n        }\n        if (convertedFeedback[0] === 0) {\n            throw createInvalidStateError();\n        }\n        if (feedforwardLength === 0 || feedforwardLength > 20) {\n            throw createNotSupportedError();\n        }\n        if (convertedFeedforward[0] === 0) {\n            throw createInvalidStateError();\n        }\n        if (convertedFeedback[0] !== 1) {\n            for (let i = 0; i < feedforwardLength; i += 1) {\n                convertedFeedforward[i] /= convertedFeedback[0];\n            }\n            for (let i = 1; i < feedbackLength; i += 1) {\n                convertedFeedback[i] /= convertedFeedback[0];\n            }\n        }\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, channelCount, channelCount);\n        scriptProcessorNode.channelCount = channelCount;\n        scriptProcessorNode.channelCountMode = channelCountMode;\n        scriptProcessorNode.channelInterpretation = channelInterpretation;\n        const bufferLength = 32;\n        const bufferIndexes = [];\n        const xBuffers = [];\n        const yBuffers = [];\n        for (let i = 0; i < channelCount; i += 1) {\n            bufferIndexes.push(0);\n            const xBuffer = new Float32Array(bufferLength);\n            const yBuffer = new Float32Array(bufferLength);\n            xBuffer.fill(0);\n            yBuffer.fill(0);\n            xBuffers.push(xBuffer);\n            yBuffers.push(yBuffer);\n        }\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = (event) => {\n            const inputBuffer = event.inputBuffer;\n            const outputBuffer = event.outputBuffer;\n            const numberOfChannels = inputBuffer.numberOfChannels;\n            for (let i = 0; i < numberOfChannels; i += 1) {\n                const input = inputBuffer.getChannelData(i);\n                const output = outputBuffer.getChannelData(i);\n                bufferIndexes[i] = filterBuffer(convertedFeedback, feedbackLength, convertedFeedforward, feedforwardLength, minLength, xBuffers[i], yBuffers[i], bufferIndexes[i], bufferLength, input, output);\n            }\n        };\n        const nyquist = nativeContext.sampleRate / 2;\n        const nativeIIRFilterNodeFaker = {\n            get bufferSize() {\n                return bufferSize;\n            },\n            get channelCount() {\n                return scriptProcessorNode.channelCount;\n            },\n            set channelCount(value) {\n                scriptProcessorNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return scriptProcessorNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                scriptProcessorNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return scriptProcessorNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                scriptProcessorNode.channelInterpretation = value;\n            },\n            get context() {\n                return scriptProcessorNode.context;\n            },\n            get inputs() {\n                return [scriptProcessorNode];\n            },\n            get numberOfInputs() {\n                return scriptProcessorNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return scriptProcessorNode.numberOfOutputs;\n            },\n            addEventListener(...args) {\n                // @todo Dissallow adding an audioprocess listener.\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            getFrequencyResponse(frequencyHz, magResponse, phaseResponse) {\n                if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                    throw createInvalidAccessError();\n                }\n                const length = frequencyHz.length;\n                for (let i = 0; i < length; i += 1) {\n                    const omega = -Math.PI * (frequencyHz[i] / nyquist);\n                    const z = [Math.cos(omega), Math.sin(omega)];\n                    const numerator = evaluatePolynomial(convertedFeedforward, z);\n                    const denominator = evaluatePolynomial(convertedFeedback, z);\n                    const response = divide(numerator, denominator);\n                    magResponse[i] = Math.sqrt(response[0] * response[0] + response[1] * response[1]);\n                    phaseResponse[i] = Math.atan2(response[1], response[0]);\n                }\n            },\n            removeEventListener(...args) {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        return interceptConnections(nativeIIRFilterNodeFaker, scriptProcessorNode);\n    };\n};\n//# sourceMappingURL=native-iir-filter-node-faker-factory.js.map","export const createNativeMediaElementAudioSourceNode = (nativeAudioContext, options) => {\n    return nativeAudioContext.createMediaElementSource(options.mediaElement);\n};\n//# sourceMappingURL=native-media-element-audio-source-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeMediaStreamAudioDestinationNode = (nativeAudioContext, options) => {\n    const nativeMediaStreamAudioDestinationNode = nativeAudioContext.createMediaStreamDestination();\n    assignNativeAudioNodeOptions(nativeMediaStreamAudioDestinationNode, options);\n    // Bug #174: Safari does expose a wrong numberOfOutputs.\n    if (nativeMediaStreamAudioDestinationNode.numberOfOutputs === 1) {\n        Object.defineProperty(nativeMediaStreamAudioDestinationNode, 'numberOfOutputs', { get: () => 0 });\n    }\n    return nativeMediaStreamAudioDestinationNode;\n};\n//# sourceMappingURL=native-media-stream-audio-destination-node.js.map","export const createNativeMediaStreamAudioSourceNode = (nativeAudioContext, { mediaStream }) => {\n    const audioStreamTracks = mediaStream.getAudioTracks();\n    /*\n     * Bug #151: Safari does not use the audio track as input anymore if it gets removed from the mediaStream after construction.\n     * Bug #159: Safari picks the first audio track if the MediaStream has more than one audio track.\n     */\n    audioStreamTracks.sort((a, b) => (a.id < b.id ? -1 : a.id > b.id ? 1 : 0));\n    const filteredAudioStreamTracks = audioStreamTracks.slice(0, 1);\n    const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(new MediaStream(filteredAudioStreamTracks));\n    /*\n     * Bug #151 & #159: The given mediaStream gets reconstructed before it gets passed to the native node which is why the accessor needs\n     * to be overwritten as it would otherwise expose the reconstructed version.\n     */\n    Object.defineProperty(nativeMediaStreamAudioSourceNode, 'mediaStream', { value: mediaStream });\n    return nativeMediaStreamAudioSourceNode;\n};\n//# sourceMappingURL=native-media-stream-audio-source-node.js.map","export const createNativeMediaStreamTrackAudioSourceNodeFactory = (createInvalidStateError, isNativeOfflineAudioContext) => {\n    return (nativeAudioContext, { mediaStreamTrack }) => {\n        // Bug #121: Only Firefox does yet support the MediaStreamTrackAudioSourceNode.\n        if (typeof nativeAudioContext.createMediaStreamTrackSource === 'function') {\n            return nativeAudioContext.createMediaStreamTrackSource(mediaStreamTrack);\n        }\n        const mediaStream = new MediaStream([mediaStreamTrack]);\n        const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(mediaStream);\n        // Bug #120: Firefox does not throw an error if the mediaStream has no audio track.\n        if (mediaStreamTrack.kind !== 'audio') {\n            throw createInvalidStateError();\n        }\n        // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n        if (isNativeOfflineAudioContext(nativeAudioContext)) {\n            throw new TypeError();\n        }\n        return nativeMediaStreamAudioSourceNode;\n    };\n};\n//# sourceMappingURL=native-media-stream-track-audio-source-node-factory.js.map","export const createNativeOfflineAudioContextConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('OfflineAudioContext')) {\n        return window.OfflineAudioContext;\n    }\n    return window.hasOwnProperty('webkitOfflineAudioContext') ? window.webkitOfflineAudioContext : null;\n};\n//# sourceMappingURL=native-offline-audio-context-constructor.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeOscillatorNodeFactory = (addSilentConnection, cacheTestResult, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls) => {\n    return (nativeContext, options) => {\n        const nativeOscillatorNode = nativeContext.createOscillator();\n        assignNativeAudioNodeOptions(nativeOscillatorNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeOscillatorNode, options, 'detune');\n        assignNativeAudioNodeAudioParamValue(nativeOscillatorNode, options, 'frequency');\n        if (options.periodicWave !== undefined) {\n            nativeOscillatorNode.setPeriodicWave(options.periodicWave);\n        }\n        else {\n            assignNativeAudioNodeOption(nativeOscillatorNode, options, 'type');\n        }\n        // Bug #44: Only Chrome & Edge throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeOscillatorNode);\n        }\n        // Bug #19: Safari does not ignore calls to stop() of an already stopped AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, () => testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls(nativeOscillatorNode, nativeContext);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeOscillatorNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the OscillatorNode is unconnected.\n        addSilentConnection(nativeContext, nativeOscillatorNode);\n        return nativeOscillatorNode;\n    };\n};\n//# sourceMappingURL=native-oscillator-node-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativePannerNodeFactory = (createNativePannerNodeFaker) => {\n    return (nativeContext, options) => {\n        const nativePannerNode = nativeContext.createPanner();\n        // Bug #124: Safari does not support modifying the orientation and the position with AudioParams.\n        if (nativePannerNode.orientationX === undefined) {\n            return createNativePannerNodeFaker(nativeContext, options);\n        }\n        assignNativeAudioNodeOptions(nativePannerNode, options);\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationX');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationY');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationZ');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionX');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionY');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionZ');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneInnerAngle');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneOuterAngle');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneOuterGain');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'distanceModel');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'maxDistance');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'panningModel');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'refDistance');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'rolloffFactor');\n        return nativePannerNode;\n    };\n};\n//# sourceMappingURL=native-panner-node-factory.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativePannerNodeFakerFactory = (connectNativeAudioNodeToNativeAudioNode, createInvalidStateError, createNativeChannelMergerNode, createNativeGainNode, createNativeScriptProcessorNode, createNativeWaveShaperNode, createNotSupportedError, disconnectNativeAudioNodeFromNativeAudioNode, getFirstSample, monitorConnections) => {\n    return (nativeContext, { coneInnerAngle, coneOuterAngle, coneOuterGain, distanceModel, maxDistance, orientationX, orientationY, orientationZ, panningModel, positionX, positionY, positionZ, refDistance, rolloffFactor, ...audioNodeOptions }) => {\n        const pannerNode = nativeContext.createPanner();\n        // Bug #125: Safari does not throw an error yet.\n        if (audioNodeOptions.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n        // Bug #126: Safari does not throw an error yet.\n        if (audioNodeOptions.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        assignNativeAudioNodeOptions(pannerNode, audioNodeOptions);\n        const SINGLE_CHANNEL_OPTIONS = {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete'\n        };\n        const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            ...SINGLE_CHANNEL_OPTIONS,\n            channelInterpretation: 'speakers',\n            numberOfInputs: 6\n        });\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const orientationXGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 1 });\n        const orientationYGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const orientationZGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionXGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionYGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionZGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, 256, 6, 1);\n        const waveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_OPTIONS,\n            curve: new Float32Array([1, 1]),\n            oversample: 'none'\n        });\n        let lastOrientation = [orientationX, orientationY, orientationZ];\n        let lastPosition = [positionX, positionY, positionZ];\n        const buffer = new Float32Array(1);\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = ({ inputBuffer }) => {\n            const orientation = [\n                getFirstSample(inputBuffer, buffer, 0),\n                getFirstSample(inputBuffer, buffer, 1),\n                getFirstSample(inputBuffer, buffer, 2)\n            ];\n            if (orientation.some((value, index) => value !== lastOrientation[index])) {\n                pannerNode.setOrientation(...orientation); // tslint:disable-line:deprecation\n                lastOrientation = orientation;\n            }\n            const positon = [\n                getFirstSample(inputBuffer, buffer, 3),\n                getFirstSample(inputBuffer, buffer, 4),\n                getFirstSample(inputBuffer, buffer, 5)\n            ];\n            if (positon.some((value, index) => value !== lastPosition[index])) {\n                pannerNode.setPosition(...positon); // tslint:disable-line:deprecation\n                lastPosition = positon;\n            }\n        };\n        Object.defineProperty(orientationYGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(orientationZGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionXGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionYGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionZGainNode.gain, 'defaultValue', { get: () => 0 });\n        const nativePannerNodeFaker = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return pannerNode.channelCount;\n            },\n            set channelCount(value) {\n                // Bug #125: Safari does not throw an error yet.\n                if (value > 2) {\n                    throw createNotSupportedError();\n                }\n                inputGainNode.channelCount = value;\n                pannerNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return pannerNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                // Bug #126: Safari does not throw an error yet.\n                if (value === 'max') {\n                    throw createNotSupportedError();\n                }\n                inputGainNode.channelCountMode = value;\n                pannerNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return pannerNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n                pannerNode.channelInterpretation = value;\n            },\n            get coneInnerAngle() {\n                return pannerNode.coneInnerAngle;\n            },\n            set coneInnerAngle(value) {\n                pannerNode.coneInnerAngle = value;\n            },\n            get coneOuterAngle() {\n                return pannerNode.coneOuterAngle;\n            },\n            set coneOuterAngle(value) {\n                pannerNode.coneOuterAngle = value;\n            },\n            get coneOuterGain() {\n                return pannerNode.coneOuterGain;\n            },\n            set coneOuterGain(value) {\n                // Bug #127: Safari does not throw an InvalidStateError yet.\n                if (value < 0 || value > 1) {\n                    throw createInvalidStateError();\n                }\n                pannerNode.coneOuterGain = value;\n            },\n            get context() {\n                return pannerNode.context;\n            },\n            get distanceModel() {\n                return pannerNode.distanceModel;\n            },\n            set distanceModel(value) {\n                pannerNode.distanceModel = value;\n            },\n            get inputs() {\n                return [inputGainNode];\n            },\n            get maxDistance() {\n                return pannerNode.maxDistance;\n            },\n            set maxDistance(value) {\n                // Bug #128: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n                pannerNode.maxDistance = value;\n            },\n            get numberOfInputs() {\n                return pannerNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return pannerNode.numberOfOutputs;\n            },\n            get orientationX() {\n                return orientationXGainNode.gain;\n            },\n            get orientationY() {\n                return orientationYGainNode.gain;\n            },\n            get orientationZ() {\n                return orientationZGainNode.gain;\n            },\n            get panningModel() {\n                return pannerNode.panningModel;\n            },\n            set panningModel(value) {\n                pannerNode.panningModel = value;\n            },\n            get positionX() {\n                return positionXGainNode.gain;\n            },\n            get positionY() {\n                return positionYGainNode.gain;\n            },\n            get positionZ() {\n                return positionZGainNode.gain;\n            },\n            get refDistance() {\n                return pannerNode.refDistance;\n            },\n            set refDistance(value) {\n                // Bug #129: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n                pannerNode.refDistance = value;\n            },\n            get rolloffFactor() {\n                return pannerNode.rolloffFactor;\n            },\n            set rolloffFactor(value) {\n                // Bug #130: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n                pannerNode.rolloffFactor = value;\n            },\n            addEventListener(...args) {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        if (coneInnerAngle !== nativePannerNodeFaker.coneInnerAngle) {\n            nativePannerNodeFaker.coneInnerAngle = coneInnerAngle;\n        }\n        if (coneOuterAngle !== nativePannerNodeFaker.coneOuterAngle) {\n            nativePannerNodeFaker.coneOuterAngle = coneOuterAngle;\n        }\n        if (coneOuterGain !== nativePannerNodeFaker.coneOuterGain) {\n            nativePannerNodeFaker.coneOuterGain = coneOuterGain;\n        }\n        if (distanceModel !== nativePannerNodeFaker.distanceModel) {\n            nativePannerNodeFaker.distanceModel = distanceModel;\n        }\n        if (maxDistance !== nativePannerNodeFaker.maxDistance) {\n            nativePannerNodeFaker.maxDistance = maxDistance;\n        }\n        if (orientationX !== nativePannerNodeFaker.orientationX.value) {\n            nativePannerNodeFaker.orientationX.value = orientationX;\n        }\n        if (orientationY !== nativePannerNodeFaker.orientationY.value) {\n            nativePannerNodeFaker.orientationY.value = orientationY;\n        }\n        if (orientationZ !== nativePannerNodeFaker.orientationZ.value) {\n            nativePannerNodeFaker.orientationZ.value = orientationZ;\n        }\n        if (panningModel !== nativePannerNodeFaker.panningModel) {\n            nativePannerNodeFaker.panningModel = panningModel;\n        }\n        if (positionX !== nativePannerNodeFaker.positionX.value) {\n            nativePannerNodeFaker.positionX.value = positionX;\n        }\n        if (positionY !== nativePannerNodeFaker.positionY.value) {\n            nativePannerNodeFaker.positionY.value = positionY;\n        }\n        if (positionZ !== nativePannerNodeFaker.positionZ.value) {\n            nativePannerNodeFaker.positionZ.value = positionZ;\n        }\n        if (refDistance !== nativePannerNodeFaker.refDistance) {\n            nativePannerNodeFaker.refDistance = refDistance;\n        }\n        if (rolloffFactor !== nativePannerNodeFaker.rolloffFactor) {\n            nativePannerNodeFaker.rolloffFactor = rolloffFactor;\n        }\n        if (lastOrientation[0] !== 1 || lastOrientation[1] !== 0 || lastOrientation[2] !== 0) {\n            pannerNode.setOrientation(...lastOrientation); // tslint:disable-line:deprecation\n        }\n        if (lastPosition[0] !== 0 || lastPosition[1] !== 0 || lastPosition[2] !== 0) {\n            pannerNode.setPosition(...lastPosition); // tslint:disable-line:deprecation\n        }\n        const whenConnected = () => {\n            inputGainNode.connect(pannerNode);\n            // Bug #119: Safari does not fully support the WaveShaperNode.\n            connectNativeAudioNodeToNativeAudioNode(inputGainNode, waveShaperNode, 0, 0);\n            waveShaperNode.connect(orientationXGainNode).connect(channelMergerNode, 0, 0);\n            waveShaperNode.connect(orientationYGainNode).connect(channelMergerNode, 0, 1);\n            waveShaperNode.connect(orientationZGainNode).connect(channelMergerNode, 0, 2);\n            waveShaperNode.connect(positionXGainNode).connect(channelMergerNode, 0, 3);\n            waveShaperNode.connect(positionYGainNode).connect(channelMergerNode, 0, 4);\n            waveShaperNode.connect(positionZGainNode).connect(channelMergerNode, 0, 5);\n            channelMergerNode.connect(scriptProcessorNode).connect(nativeContext.destination);\n        };\n        const whenDisconnected = () => {\n            inputGainNode.disconnect(pannerNode);\n            // Bug #119: Safari does not fully support the WaveShaperNode.\n            disconnectNativeAudioNodeFromNativeAudioNode(inputGainNode, waveShaperNode, 0, 0);\n            waveShaperNode.disconnect(orientationXGainNode);\n            orientationXGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(orientationYGainNode);\n            orientationYGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(orientationZGainNode);\n            orientationZGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionXGainNode);\n            positionXGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionYGainNode);\n            positionYGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionZGainNode);\n            positionZGainNode.disconnect(channelMergerNode);\n            channelMergerNode.disconnect(scriptProcessorNode);\n            scriptProcessorNode.disconnect(nativeContext.destination);\n        };\n        return monitorConnections(interceptConnections(nativePannerNodeFaker, pannerNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-panner-node-faker-factory.js.map","export const createNativePeriodicWaveFactory = (createIndexSizeError) => {\n    return (nativeContext, { disableNormalization, imag, real }) => {\n        // Bug #180: Safari does not allow to use ordinary arrays.\n        const convertedImag = imag instanceof Float32Array ? imag : new Float32Array(imag);\n        const convertedReal = real instanceof Float32Array ? real : new Float32Array(real);\n        const nativePeriodicWave = nativeContext.createPeriodicWave(convertedReal, convertedImag, { disableNormalization });\n        // Bug #181: Safari does not throw an IndexSizeError so far if the given arrays have less than two values.\n        if (Array.from(imag).length < 2) {\n            throw createIndexSizeError();\n        }\n        return nativePeriodicWave;\n    };\n};\n//# sourceMappingURL=native-periodic-wave-factory.js.map","export const createNativeScriptProcessorNode = (nativeContext, bufferSize, numberOfInputChannels, numberOfOutputChannels) => {\n    return nativeContext.createScriptProcessor(bufferSize, numberOfInputChannels, numberOfOutputChannels); // tslint:disable-line deprecation\n};\n//# sourceMappingURL=native-script-processor-node.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeStereoPannerNodeFactory = (createNativeStereoPannerNodeFaker, createNotSupportedError) => {\n    return (nativeContext, options) => {\n        const channelCountMode = options.channelCountMode;\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        if (channelCountMode === 'clamped-max') {\n            throw createNotSupportedError();\n        }\n        // Bug #105: Safari does not support the StereoPannerNode.\n        if (nativeContext.createStereoPanner === undefined) {\n            return createNativeStereoPannerNodeFaker(nativeContext, options);\n        }\n        const nativeStereoPannerNode = nativeContext.createStereoPanner();\n        assignNativeAudioNodeOptions(nativeStereoPannerNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeStereoPannerNode, options, 'pan');\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        Object.defineProperty(nativeStereoPannerNode, 'channelCountMode', {\n            get: () => channelCountMode,\n            set: (value) => {\n                if (value !== channelCountMode) {\n                    throw createNotSupportedError();\n                }\n            }\n        });\n        return nativeStereoPannerNode;\n    };\n};\n//# sourceMappingURL=native-stereo-panner-node-factory.js.map","import { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativeStereoPannerNodeFakerFactory = (createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeGainNode, createNativeWaveShaperNode, createNotSupportedError, monitorConnections) => {\n    // The curve has a size of 14bit plus 1 value to have an exact representation for zero. This value has been determined experimentally.\n    const CURVE_SIZE = 16385;\n    const DC_CURVE = new Float32Array([1, 1]);\n    const HALF_PI = Math.PI / 2;\n    const SINGLE_CHANNEL_OPTIONS = { channelCount: 1, channelCountMode: 'explicit', channelInterpretation: 'discrete' };\n    const SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS = { ...SINGLE_CHANNEL_OPTIONS, oversample: 'none' };\n    const buildInternalGraphForMono = (nativeContext, inputGainNode, panGainNode, channelMergerNode) => {\n        const leftWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        for (let i = 0; i < CURVE_SIZE; i += 1) {\n            const x = (i / (CURVE_SIZE - 1)) * HALF_PI;\n            leftWaveShaperCurve[i] = Math.cos(x);\n            rightWaveShaperCurve[i] = Math.sin(x);\n        }\n        const leftGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: leftWaveShaperCurve }));\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const panWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: DC_CURVE }));\n        const rightGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: rightWaveShaperCurve }));\n        return {\n            connectGraph() {\n                inputGainNode.connect(leftGainNode);\n                inputGainNode.connect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                inputGainNode.connect(rightGainNode);\n                panWaveShaperNode.connect(panGainNode);\n                panGainNode.connect(leftWaveShaperNode.inputs === undefined ? leftWaveShaperNode : leftWaveShaperNode.inputs[0]);\n                panGainNode.connect(rightWaveShaperNode.inputs === undefined ? rightWaveShaperNode : rightWaveShaperNode.inputs[0]);\n                leftWaveShaperNode.connect(leftGainNode.gain);\n                rightWaveShaperNode.connect(rightGainNode.gain);\n                leftGainNode.connect(channelMergerNode, 0, 0);\n                rightGainNode.connect(channelMergerNode, 0, 1);\n            },\n            disconnectGraph() {\n                inputGainNode.disconnect(leftGainNode);\n                inputGainNode.disconnect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                inputGainNode.disconnect(rightGainNode);\n                panWaveShaperNode.disconnect(panGainNode);\n                panGainNode.disconnect(leftWaveShaperNode.inputs === undefined ? leftWaveShaperNode : leftWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(rightWaveShaperNode.inputs === undefined ? rightWaveShaperNode : rightWaveShaperNode.inputs[0]);\n                leftWaveShaperNode.disconnect(leftGainNode.gain);\n                rightWaveShaperNode.disconnect(rightGainNode.gain);\n                leftGainNode.disconnect(channelMergerNode, 0, 0);\n                rightGainNode.disconnect(channelMergerNode, 0, 1);\n            }\n        };\n    };\n    const buildInternalGraphForStereo = (nativeContext, inputGainNode, panGainNode, channelMergerNode) => {\n        const leftInputForLeftOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const leftInputForRightOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightInputForLeftOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightInputForRightOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const centerIndex = Math.floor(CURVE_SIZE / 2);\n        for (let i = 0; i < CURVE_SIZE; i += 1) {\n            if (i > centerIndex) {\n                const x = ((i - centerIndex) / (CURVE_SIZE - 1 - centerIndex)) * HALF_PI;\n                leftInputForLeftOutputWaveShaperCurve[i] = Math.cos(x);\n                leftInputForRightOutputWaveShaperCurve[i] = Math.sin(x);\n                rightInputForLeftOutputWaveShaperCurve[i] = 0;\n                rightInputForRightOutputWaveShaperCurve[i] = 1;\n            }\n            else {\n                const x = (i / (CURVE_SIZE - 1 - centerIndex)) * HALF_PI;\n                leftInputForLeftOutputWaveShaperCurve[i] = 1;\n                leftInputForRightOutputWaveShaperCurve[i] = 0;\n                rightInputForLeftOutputWaveShaperCurve[i] = Math.cos(x);\n                rightInputForRightOutputWaveShaperCurve[i] = Math.sin(x);\n            }\n        }\n        const channelSplitterNode = createNativeChannelSplitterNode(nativeContext, {\n            channelCount: 2,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            numberOfOutputs: 2\n        });\n        const leftInputForLeftOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftInputForLeftOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: leftInputForLeftOutputWaveShaperCurve\n        });\n        const leftInputForRightOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftInputForRightOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: leftInputForRightOutputWaveShaperCurve\n        });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const panWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: DC_CURVE }));\n        const rightInputForLeftOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightInputForLeftOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: rightInputForLeftOutputWaveShaperCurve\n        });\n        const rightInputForRightOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightInputForRightOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: rightInputForRightOutputWaveShaperCurve\n        });\n        return {\n            connectGraph() {\n                inputGainNode.connect(channelSplitterNode);\n                inputGainNode.connect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                channelSplitterNode.connect(leftInputForLeftOutputGainNode, 0);\n                channelSplitterNode.connect(leftInputForRightOutputGainNode, 0);\n                channelSplitterNode.connect(rightInputForLeftOutputGainNode, 1);\n                channelSplitterNode.connect(rightInputForRightOutputGainNode, 1);\n                panWaveShaperNode.connect(panGainNode);\n                panGainNode.connect(leftInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForLeftOutputWaveShaperNode\n                    : leftInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.connect(leftInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForRightOutputWaveShaperNode\n                    : leftInputForRightOutputWaveShaperNode.inputs[0]);\n                panGainNode.connect(rightInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForLeftOutputWaveShaperNode\n                    : rightInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.connect(rightInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForRightOutputWaveShaperNode\n                    : rightInputForRightOutputWaveShaperNode.inputs[0]);\n                leftInputForLeftOutputWaveShaperNode.connect(leftInputForLeftOutputGainNode.gain);\n                leftInputForRightOutputWaveShaperNode.connect(leftInputForRightOutputGainNode.gain);\n                rightInputForLeftOutputWaveShaperNode.connect(rightInputForLeftOutputGainNode.gain);\n                rightInputForRightOutputWaveShaperNode.connect(rightInputForRightOutputGainNode.gain);\n                leftInputForLeftOutputGainNode.connect(channelMergerNode, 0, 0);\n                rightInputForLeftOutputGainNode.connect(channelMergerNode, 0, 0);\n                leftInputForRightOutputGainNode.connect(channelMergerNode, 0, 1);\n                rightInputForRightOutputGainNode.connect(channelMergerNode, 0, 1);\n            },\n            disconnectGraph() {\n                inputGainNode.disconnect(channelSplitterNode);\n                inputGainNode.disconnect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                channelSplitterNode.disconnect(leftInputForLeftOutputGainNode, 0);\n                channelSplitterNode.disconnect(leftInputForRightOutputGainNode, 0);\n                channelSplitterNode.disconnect(rightInputForLeftOutputGainNode, 1);\n                channelSplitterNode.disconnect(rightInputForRightOutputGainNode, 1);\n                panWaveShaperNode.disconnect(panGainNode);\n                panGainNode.disconnect(leftInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForLeftOutputWaveShaperNode\n                    : leftInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(leftInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForRightOutputWaveShaperNode\n                    : leftInputForRightOutputWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(rightInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForLeftOutputWaveShaperNode\n                    : rightInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(rightInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForRightOutputWaveShaperNode\n                    : rightInputForRightOutputWaveShaperNode.inputs[0]);\n                leftInputForLeftOutputWaveShaperNode.disconnect(leftInputForLeftOutputGainNode.gain);\n                leftInputForRightOutputWaveShaperNode.disconnect(leftInputForRightOutputGainNode.gain);\n                rightInputForLeftOutputWaveShaperNode.disconnect(rightInputForLeftOutputGainNode.gain);\n                rightInputForRightOutputWaveShaperNode.disconnect(rightInputForRightOutputGainNode.gain);\n                leftInputForLeftOutputGainNode.disconnect(channelMergerNode, 0, 0);\n                rightInputForLeftOutputGainNode.disconnect(channelMergerNode, 0, 0);\n                leftInputForRightOutputGainNode.disconnect(channelMergerNode, 0, 1);\n                rightInputForRightOutputGainNode.disconnect(channelMergerNode, 0, 1);\n            }\n        };\n    };\n    const buildInternalGraph = (nativeContext, channelCount, inputGainNode, panGainNode, channelMergerNode) => {\n        if (channelCount === 1) {\n            return buildInternalGraphForMono(nativeContext, inputGainNode, panGainNode, channelMergerNode);\n        }\n        if (channelCount === 2) {\n            return buildInternalGraphForStereo(nativeContext, inputGainNode, panGainNode, channelMergerNode);\n        }\n        throw createNotSupportedError();\n    };\n    return (nativeContext, { channelCount, channelCountMode, pan, ...audioNodeOptions }) => {\n        if (channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            ...audioNodeOptions,\n            channelCount: 1,\n            channelCountMode,\n            numberOfInputs: 2\n        });\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, channelCount, channelCountMode, gain: 1 });\n        const panGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: pan\n        });\n        let { connectGraph, disconnectGraph } = buildInternalGraph(nativeContext, channelCount, inputGainNode, panGainNode, channelMergerNode);\n        Object.defineProperty(panGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(panGainNode.gain, 'maxValue', { get: () => 1 });\n        Object.defineProperty(panGainNode.gain, 'minValue', { get: () => -1 });\n        const nativeStereoPannerNodeFakerFactory = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return inputGainNode.channelCount;\n            },\n            set channelCount(value) {\n                if (inputGainNode.channelCount !== value) {\n                    if (isConnected) {\n                        disconnectGraph();\n                    }\n                    ({ connectGraph, disconnectGraph } = buildInternalGraph(nativeContext, value, inputGainNode, panGainNode, channelMergerNode));\n                    if (isConnected) {\n                        connectGraph();\n                    }\n                }\n                inputGainNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return inputGainNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                if (value === 'clamped-max' || value === 'max') {\n                    throw createNotSupportedError();\n                }\n                inputGainNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return inputGainNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n            },\n            get context() {\n                return inputGainNode.context;\n            },\n            get inputs() {\n                return [inputGainNode];\n            },\n            get numberOfInputs() {\n                return inputGainNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return inputGainNode.numberOfOutputs;\n            },\n            get pan() {\n                return panGainNode.gain;\n            },\n            addEventListener(...args) {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        let isConnected = false;\n        const whenConnected = () => {\n            connectGraph();\n            isConnected = true;\n        };\n        const whenDisconnected = () => {\n            disconnectGraph();\n            isConnected = false;\n        };\n        return monitorConnections(interceptConnections(nativeStereoPannerNodeFakerFactory, channelMergerNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-stereo-panner-node-faker-factory.js.map","import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeWaveShaperNodeFactory = (createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeWaveShaperNodeFaker, isDCCurve, monitorConnections, nativeAudioContextConstructor, overwriteAccessors) => {\n    return (nativeContext, options) => {\n        const nativeWaveShaperNode = nativeContext.createWaveShaper();\n        /*\n         * Bug #119: Safari does not correctly map the values.\n         * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the existence of\n         * the webkitAudioContext is used as a workaround here. Testing for the automationRate property is necessary because this workaround\n         * isn't necessary anymore since v14.0.2 of Safari.\n         */\n        if (nativeAudioContextConstructor !== null &&\n            nativeAudioContextConstructor.name === 'webkitAudioContext' &&\n            nativeContext.createGain().gain.automationRate === undefined) {\n            return createNativeWaveShaperNodeFaker(nativeContext, options);\n        }\n        assignNativeAudioNodeOptions(nativeWaveShaperNode, options);\n        const curve = options.curve === null || options.curve instanceof Float32Array ? options.curve : new Float32Array(options.curve);\n        // Bug #104: Chrome and Edge will throw an InvalidAccessError when the curve has less than two samples.\n        if (curve !== null && curve.length < 2) {\n            throw createInvalidStateError();\n        }\n        // Only values of type Float32Array can be assigned to the curve property.\n        assignNativeAudioNodeOption(nativeWaveShaperNode, { curve }, 'curve');\n        assignNativeAudioNodeOption(nativeWaveShaperNode, options, 'oversample');\n        let disconnectNativeAudioBufferSourceNode = null;\n        let isConnected = false;\n        overwriteAccessors(nativeWaveShaperNode, 'curve', (get) => () => get.call(nativeWaveShaperNode), (set) => (value) => {\n            set.call(nativeWaveShaperNode, value);\n            if (isConnected) {\n                if (isDCCurve(value) && disconnectNativeAudioBufferSourceNode === null) {\n                    disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, nativeWaveShaperNode);\n                }\n                else if (!isDCCurve(value) && disconnectNativeAudioBufferSourceNode !== null) {\n                    disconnectNativeAudioBufferSourceNode();\n                    disconnectNativeAudioBufferSourceNode = null;\n                }\n            }\n            return value;\n        });\n        const whenConnected = () => {\n            isConnected = true;\n            if (isDCCurve(nativeWaveShaperNode.curve)) {\n                disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, nativeWaveShaperNode);\n            }\n        };\n        const whenDisconnected = () => {\n            isConnected = false;\n            if (disconnectNativeAudioBufferSourceNode !== null) {\n                disconnectNativeAudioBufferSourceNode();\n                disconnectNativeAudioBufferSourceNode = null;\n            }\n        };\n        return monitorConnections(nativeWaveShaperNode, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-wave-shaper-node-factory.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativeWaveShaperNodeFakerFactory = (createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeGainNode, isDCCurve, monitorConnections) => {\n    return (nativeContext, { curve, oversample, ...audioNodeOptions }) => {\n        const negativeWaveShaperNode = nativeContext.createWaveShaper();\n        const positiveWaveShaperNode = nativeContext.createWaveShaper();\n        assignNativeAudioNodeOptions(negativeWaveShaperNode, audioNodeOptions);\n        assignNativeAudioNodeOptions(positiveWaveShaperNode, audioNodeOptions);\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const invertGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: -1 });\n        const outputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const revertGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: -1 });\n        let disconnectNativeAudioBufferSourceNode = null;\n        let isConnected = false;\n        let unmodifiedCurve = null;\n        const nativeWaveShaperNodeFaker = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return negativeWaveShaperNode.channelCount;\n            },\n            set channelCount(value) {\n                inputGainNode.channelCount = value;\n                invertGainNode.channelCount = value;\n                negativeWaveShaperNode.channelCount = value;\n                outputGainNode.channelCount = value;\n                positiveWaveShaperNode.channelCount = value;\n                revertGainNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return negativeWaveShaperNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                inputGainNode.channelCountMode = value;\n                invertGainNode.channelCountMode = value;\n                negativeWaveShaperNode.channelCountMode = value;\n                outputGainNode.channelCountMode = value;\n                positiveWaveShaperNode.channelCountMode = value;\n                revertGainNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return negativeWaveShaperNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n                invertGainNode.channelInterpretation = value;\n                negativeWaveShaperNode.channelInterpretation = value;\n                outputGainNode.channelInterpretation = value;\n                positiveWaveShaperNode.channelInterpretation = value;\n                revertGainNode.channelInterpretation = value;\n            },\n            get context() {\n                return negativeWaveShaperNode.context;\n            },\n            get curve() {\n                return unmodifiedCurve;\n            },\n            set curve(value) {\n                // Bug #102: Safari does not throw an InvalidStateError when the curve has less than two samples.\n                if (value !== null && value.length < 2) {\n                    throw createInvalidStateError();\n                }\n                if (value === null) {\n                    negativeWaveShaperNode.curve = value;\n                    positiveWaveShaperNode.curve = value;\n                }\n                else {\n                    const curveLength = value.length;\n                    const negativeCurve = new Float32Array(curveLength + 2 - (curveLength % 2));\n                    const positiveCurve = new Float32Array(curveLength + 2 - (curveLength % 2));\n                    negativeCurve[0] = value[0];\n                    positiveCurve[0] = -value[curveLength - 1];\n                    const length = Math.ceil((curveLength + 1) / 2);\n                    const centerIndex = (curveLength + 1) / 2 - 1;\n                    for (let i = 1; i < length; i += 1) {\n                        const theoreticIndex = (i / length) * centerIndex;\n                        const lowerIndex = Math.floor(theoreticIndex);\n                        const upperIndex = Math.ceil(theoreticIndex);\n                        negativeCurve[i] =\n                            lowerIndex === upperIndex\n                                ? value[lowerIndex]\n                                : (1 - (theoreticIndex - lowerIndex)) * value[lowerIndex] +\n                                    (1 - (upperIndex - theoreticIndex)) * value[upperIndex];\n                        positiveCurve[i] =\n                            lowerIndex === upperIndex\n                                ? -value[curveLength - 1 - lowerIndex]\n                                : -((1 - (theoreticIndex - lowerIndex)) * value[curveLength - 1 - lowerIndex]) -\n                                    (1 - (upperIndex - theoreticIndex)) * value[curveLength - 1 - upperIndex];\n                    }\n                    negativeCurve[length] = curveLength % 2 === 1 ? value[length - 1] : (value[length - 2] + value[length - 1]) / 2;\n                    negativeWaveShaperNode.curve = negativeCurve;\n                    positiveWaveShaperNode.curve = positiveCurve;\n                }\n                unmodifiedCurve = value;\n                if (isConnected) {\n                    if (isDCCurve(unmodifiedCurve) && disconnectNativeAudioBufferSourceNode === null) {\n                        disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, inputGainNode);\n                    }\n                    else if (disconnectNativeAudioBufferSourceNode !== null) {\n                        disconnectNativeAudioBufferSourceNode();\n                        disconnectNativeAudioBufferSourceNode = null;\n                    }\n                }\n            },\n            get inputs() {\n                return [inputGainNode];\n            },\n            get numberOfInputs() {\n                return negativeWaveShaperNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return negativeWaveShaperNode.numberOfOutputs;\n            },\n            get oversample() {\n                return negativeWaveShaperNode.oversample;\n            },\n            set oversample(value) {\n                negativeWaveShaperNode.oversample = value;\n                positiveWaveShaperNode.oversample = value;\n            },\n            addEventListener(...args) {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        if (curve !== null) {\n            // Only values of type Float32Array can be assigned to the curve property.\n            nativeWaveShaperNodeFaker.curve = curve instanceof Float32Array ? curve : new Float32Array(curve);\n        }\n        if (oversample !== nativeWaveShaperNodeFaker.oversample) {\n            nativeWaveShaperNodeFaker.oversample = oversample;\n        }\n        const whenConnected = () => {\n            inputGainNode.connect(negativeWaveShaperNode).connect(outputGainNode);\n            inputGainNode.connect(invertGainNode).connect(positiveWaveShaperNode).connect(revertGainNode).connect(outputGainNode);\n            isConnected = true;\n            if (isDCCurve(unmodifiedCurve)) {\n                disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, inputGainNode);\n            }\n        };\n        const whenDisconnected = () => {\n            inputGainNode.disconnect(negativeWaveShaperNode);\n            negativeWaveShaperNode.disconnect(outputGainNode);\n            inputGainNode.disconnect(invertGainNode);\n            invertGainNode.disconnect(positiveWaveShaperNode);\n            positiveWaveShaperNode.disconnect(revertGainNode);\n            revertGainNode.disconnect(outputGainNode);\n            isConnected = false;\n            if (disconnectNativeAudioBufferSourceNode !== null) {\n                disconnectNativeAudioBufferSourceNode();\n                disconnectNativeAudioBufferSourceNode = null;\n            }\n        };\n        return monitorConnections(interceptConnections(nativeWaveShaperNodeFaker, outputGainNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-wave-shaper-node-faker-factory.js.map","export const createNotSupportedError = () => new DOMException('', 'NotSupportedError');\n//# sourceMappingURL=not-supported-error.js.map","import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { testPromiseSupport } from '../helpers/test-promise-support';\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n};\nexport const createOfflineAudioContextConstructor = (baseAudioContextConstructor, cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, startRendering) => {\n    return class OfflineAudioContext extends baseAudioContextConstructor {\n        constructor(a, b, c) {\n            let options;\n            if (typeof a === 'number' && b !== undefined && c !== undefined) {\n                options = { length: b, numberOfChannels: a, sampleRate: c };\n            }\n            else if (typeof a === 'object') {\n                options = a;\n            }\n            else {\n                throw new Error('The given parameters are not valid.');\n            }\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n            const nativeOfflineAudioContext = createNativeOfflineAudioContext(numberOfChannels, length, sampleRate);\n            // #21 Safari does not support promises and therefore would fire the statechange event before the promise can be resolved.\n            if (!cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n                nativeOfflineAudioContext.addEventListener('statechange', (() => {\n                    let i = 0;\n                    const delayStateChangeEvent = (event) => {\n                        if (this._state === 'running') {\n                            if (i > 0) {\n                                nativeOfflineAudioContext.removeEventListener('statechange', delayStateChangeEvent);\n                                event.stopImmediatePropagation();\n                                this._waitForThePromiseToSettle(event);\n                            }\n                            else {\n                                i += 1;\n                            }\n                        }\n                    };\n                    return delayStateChangeEvent;\n                })());\n            }\n            super(nativeOfflineAudioContext, numberOfChannels);\n            this._length = length;\n            this._nativeOfflineAudioContext = nativeOfflineAudioContext;\n            this._state = null;\n        }\n        get length() {\n            // Bug #17: Safari does not yet expose the length.\n            if (this._nativeOfflineAudioContext.length === undefined) {\n                return this._length;\n            }\n            return this._nativeOfflineAudioContext.length;\n        }\n        get state() {\n            return this._state === null ? this._nativeOfflineAudioContext.state : this._state;\n        }\n        startRendering() {\n            /*\n             * Bug #9 & #59: It is theoretically possible that startRendering() will first render a partialOfflineAudioContext. Therefore\n             * the state of the nativeOfflineAudioContext might no transition to running immediately.\n             */\n            if (this._state === 'running') {\n                return Promise.reject(createInvalidStateError());\n            }\n            this._state = 'running';\n            return startRendering(this.destination, this._nativeOfflineAudioContext).finally(() => {\n                this._state = null;\n                deactivateAudioGraph(this);\n            });\n        }\n        _waitForThePromiseToSettle(event) {\n            if (this._state === null) {\n                this._nativeOfflineAudioContext.dispatchEvent(event);\n            }\n            else {\n                setTimeout(() => this._waitForThePromiseToSettle(event));\n            }\n        }\n    };\n};\n//# sourceMappingURL=offline-audio-context-constructor.js.map","import { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max', // This attribute has no effect for nodes with no inputs.\n    channelInterpretation: 'speakers', // This attribute has no effect for nodes with no inputs.\n    detune: 0,\n    frequency: 440,\n    periodicWave: undefined,\n    type: 'sine'\n};\nexport const createOscillatorNodeConstructor = (audioNodeConstructor, createAudioParam, createNativeOscillatorNode, createOscillatorNodeRenderer, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class OscillatorNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeOscillatorNode = createNativeOscillatorNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const oscillatorNodeRenderer = (isOffline ? createOscillatorNodeRenderer() : null);\n            const nyquist = context.sampleRate / 2;\n            super(context, false, nativeOscillatorNode, oscillatorNodeRenderer);\n            // Bug #81: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._detune = createAudioParam(this, isOffline, nativeOscillatorNode.detune, 153600, -153600);\n            // Bug #76: Safari does not export the correct values for maxValue and minValue.\n            this._frequency = createAudioParam(this, isOffline, nativeOscillatorNode.frequency, nyquist, -nyquist);\n            this._nativeOscillatorNode = nativeOscillatorNode;\n            this._onended = null;\n            this._oscillatorNodeRenderer = oscillatorNodeRenderer;\n            if (this._oscillatorNodeRenderer !== null && mergedOptions.periodicWave !== undefined) {\n                this._oscillatorNodeRenderer.periodicWave =\n                    mergedOptions.periodicWave;\n            }\n        }\n        get detune() {\n            return this._detune;\n        }\n        get frequency() {\n            return this._frequency;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeOscillatorNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeOscillatorNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        get type() {\n            return this._nativeOscillatorNode.type;\n        }\n        set type(value) {\n            this._nativeOscillatorNode.type = value;\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.periodicWave = null;\n            }\n        }\n        setPeriodicWave(periodicWave) {\n            this._nativeOscillatorNode.setPeriodicWave(periodicWave);\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.periodicWave = periodicWave;\n            }\n        }\n        start(when = 0) {\n            this._nativeOscillatorNode.start(when);\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.start = when;\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeOscillatorNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeOscillatorNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeOscillatorNode.stop(when);\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=oscillator-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createOscillatorNodeRendererFactory = (connectAudioParam, createNativeOscillatorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeOscillatorNodes = new WeakMap();\n        let periodicWave = null;\n        let start = null;\n        let stop = null;\n        const createOscillatorNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeOscillatorNode = getNativeAudioNode(proxy);\n            // If the initially used nativeOscillatorNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeOscillatorNodeIsOwnedByContext = isOwnedByContext(nativeOscillatorNode, nativeOfflineAudioContext);\n            if (!nativeOscillatorNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeOscillatorNode.channelCount,\n                    channelCountMode: nativeOscillatorNode.channelCountMode,\n                    channelInterpretation: nativeOscillatorNode.channelInterpretation,\n                    detune: nativeOscillatorNode.detune.value,\n                    frequency: nativeOscillatorNode.frequency.value,\n                    periodicWave: periodicWave === null ? undefined : periodicWave,\n                    type: nativeOscillatorNode.type\n                };\n                nativeOscillatorNode = createNativeOscillatorNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeOscillatorNode.start(start);\n                }\n                if (stop !== null) {\n                    nativeOscillatorNode.stop(stop);\n                }\n            }\n            renderedNativeOscillatorNodes.set(nativeOfflineAudioContext, nativeOscillatorNode);\n            if (!nativeOscillatorNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.detune, nativeOscillatorNode.detune);\n                await renderAutomation(nativeOfflineAudioContext, proxy.frequency, nativeOscillatorNode.frequency);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.detune, nativeOscillatorNode.detune);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.frequency, nativeOscillatorNode.frequency);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeOscillatorNode);\n            return nativeOscillatorNode;\n        };\n        return {\n            set periodicWave(value) {\n                periodicWave = value;\n            },\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeOscillatorNode = renderedNativeOscillatorNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeOscillatorNode !== undefined) {\n                    return Promise.resolve(renderedNativeOscillatorNode);\n                }\n                return createOscillatorNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=oscillator-node-renderer-factory.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    coneInnerAngle: 360,\n    coneOuterAngle: 360,\n    coneOuterGain: 0,\n    distanceModel: 'inverse',\n    maxDistance: 10000,\n    orientationX: 1,\n    orientationY: 0,\n    orientationZ: 0,\n    panningModel: 'equalpower',\n    positionX: 0,\n    positionY: 0,\n    positionZ: 0,\n    refDistance: 1,\n    rolloffFactor: 1\n};\nexport const createPannerNodeConstructor = (audioNodeConstructor, createAudioParam, createNativePannerNode, createPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class PannerNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativePannerNode = createNativePannerNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const pannerNodeRenderer = (isOffline ? createPannerNodeRenderer() : null);\n            super(context, false, nativePannerNode, pannerNodeRenderer);\n            this._nativePannerNode = nativePannerNode;\n            // Bug #74: Safari does not export the correct values for maxValue and minValue.\n            this._orientationX = createAudioParam(this, isOffline, nativePannerNode.orientationX, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._orientationY = createAudioParam(this, isOffline, nativePannerNode.orientationY, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._orientationZ = createAudioParam(this, isOffline, nativePannerNode.orientationZ, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._positionX = createAudioParam(this, isOffline, nativePannerNode.positionX, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._positionY = createAudioParam(this, isOffline, nativePannerNode.positionY, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._positionZ = createAudioParam(this, isOffline, nativePannerNode.positionZ, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        get coneInnerAngle() {\n            return this._nativePannerNode.coneInnerAngle;\n        }\n        set coneInnerAngle(value) {\n            this._nativePannerNode.coneInnerAngle = value;\n        }\n        get coneOuterAngle() {\n            return this._nativePannerNode.coneOuterAngle;\n        }\n        set coneOuterAngle(value) {\n            this._nativePannerNode.coneOuterAngle = value;\n        }\n        get coneOuterGain() {\n            return this._nativePannerNode.coneOuterGain;\n        }\n        set coneOuterGain(value) {\n            this._nativePannerNode.coneOuterGain = value;\n        }\n        get distanceModel() {\n            return this._nativePannerNode.distanceModel;\n        }\n        set distanceModel(value) {\n            this._nativePannerNode.distanceModel = value;\n        }\n        get maxDistance() {\n            return this._nativePannerNode.maxDistance;\n        }\n        set maxDistance(value) {\n            this._nativePannerNode.maxDistance = value;\n        }\n        get orientationX() {\n            return this._orientationX;\n        }\n        get orientationY() {\n            return this._orientationY;\n        }\n        get orientationZ() {\n            return this._orientationZ;\n        }\n        get panningModel() {\n            return this._nativePannerNode.panningModel;\n        }\n        set panningModel(value) {\n            this._nativePannerNode.panningModel = value;\n        }\n        get positionX() {\n            return this._positionX;\n        }\n        get positionY() {\n            return this._positionY;\n        }\n        get positionZ() {\n            return this._positionZ;\n        }\n        get refDistance() {\n            return this._nativePannerNode.refDistance;\n        }\n        set refDistance(value) {\n            this._nativePannerNode.refDistance = value;\n        }\n        get rolloffFactor() {\n            return this._nativePannerNode.rolloffFactor;\n        }\n        set rolloffFactor(value) {\n            this._nativePannerNode.rolloffFactor = value;\n        }\n    };\n};\n//# sourceMappingURL=panner-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createPannerNodeRendererFactory = (connectAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeGainNode, createNativePannerNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext) => {\n    return () => {\n        const renderedNativeAudioNodes = new WeakMap();\n        let renderedBufferPromise = null;\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeGainNode = null;\n            let nativePannerNode = getNativeAudioNode(proxy);\n            const commonAudioNodeOptions = {\n                channelCount: nativePannerNode.channelCount,\n                channelCountMode: nativePannerNode.channelCountMode,\n                channelInterpretation: nativePannerNode.channelInterpretation\n            };\n            const commonNativePannerNodeOptions = {\n                ...commonAudioNodeOptions,\n                coneInnerAngle: nativePannerNode.coneInnerAngle,\n                coneOuterAngle: nativePannerNode.coneOuterAngle,\n                coneOuterGain: nativePannerNode.coneOuterGain,\n                distanceModel: nativePannerNode.distanceModel,\n                maxDistance: nativePannerNode.maxDistance,\n                panningModel: nativePannerNode.panningModel,\n                refDistance: nativePannerNode.refDistance,\n                rolloffFactor: nativePannerNode.rolloffFactor\n            };\n            // If the initially used nativePannerNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativePannerNodeIsOwnedByContext = isOwnedByContext(nativePannerNode, nativeOfflineAudioContext);\n            // Bug #124: Safari does not support modifying the orientation and the position with AudioParams.\n            if ('bufferSize' in nativePannerNode) {\n                nativeGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n            }\n            else if (!nativePannerNodeIsOwnedByContext) {\n                const options = {\n                    ...commonNativePannerNodeOptions,\n                    orientationX: nativePannerNode.orientationX.value,\n                    orientationY: nativePannerNode.orientationY.value,\n                    orientationZ: nativePannerNode.orientationZ.value,\n                    positionX: nativePannerNode.positionX.value,\n                    positionY: nativePannerNode.positionY.value,\n                    positionZ: nativePannerNode.positionZ.value\n                };\n                nativePannerNode = createNativePannerNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeGainNode === null ? nativePannerNode : nativeGainNode);\n            if (nativeGainNode !== null) {\n                if (renderedBufferPromise === null) {\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n                    const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(6, \n                    // Bug #17: Safari does not yet expose the length.\n                    proxy.context.length, nativeOfflineAudioContext.sampleRate);\n                    const nativeChannelMergerNode = createNativeChannelMergerNode(partialOfflineAudioContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'speakers',\n                        numberOfInputs: 6\n                    });\n                    nativeChannelMergerNode.connect(partialOfflineAudioContext.destination);\n                    renderedBufferPromise = (async () => {\n                        const nativeConstantSourceNodes = await Promise.all([\n                            proxy.orientationX,\n                            proxy.orientationY,\n                            proxy.orientationZ,\n                            proxy.positionX,\n                            proxy.positionY,\n                            proxy.positionZ\n                        ].map(async (audioParam, index) => {\n                            const nativeConstantSourceNode = createNativeConstantSourceNode(partialOfflineAudioContext, {\n                                channelCount: 1,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                offset: index === 0 ? 1 : 0\n                            });\n                            await renderAutomation(partialOfflineAudioContext, audioParam, nativeConstantSourceNode.offset);\n                            return nativeConstantSourceNode;\n                        }));\n                        for (let i = 0; i < 6; i += 1) {\n                            nativeConstantSourceNodes[i].connect(nativeChannelMergerNode, 0, i);\n                            nativeConstantSourceNodes[i].start(0);\n                        }\n                        return renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                    })();\n                }\n                const renderedBuffer = await renderedBufferPromise;\n                const inputGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, inputGainNode);\n                const channelDatas = [];\n                for (let i = 0; i < renderedBuffer.numberOfChannels; i += 1) {\n                    channelDatas.push(renderedBuffer.getChannelData(i));\n                }\n                let lastOrientation = [channelDatas[0][0], channelDatas[1][0], channelDatas[2][0]];\n                let lastPosition = [channelDatas[3][0], channelDatas[4][0], channelDatas[5][0]];\n                let gateGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n                let partialPannerNode = createNativePannerNode(nativeOfflineAudioContext, {\n                    ...commonNativePannerNodeOptions,\n                    orientationX: lastOrientation[0],\n                    orientationY: lastOrientation[1],\n                    orientationZ: lastOrientation[2],\n                    positionX: lastPosition[0],\n                    positionY: lastPosition[1],\n                    positionZ: lastPosition[2]\n                });\n                inputGainNode.connect(gateGainNode).connect(partialPannerNode.inputs[0]);\n                partialPannerNode.connect(nativeGainNode);\n                for (let i = 128; i < renderedBuffer.length; i += 128) {\n                    const orientation = [channelDatas[0][i], channelDatas[1][i], channelDatas[2][i]];\n                    const positon = [channelDatas[3][i], channelDatas[4][i], channelDatas[5][i]];\n                    if (orientation.some((value, index) => value !== lastOrientation[index]) ||\n                        positon.some((value, index) => value !== lastPosition[index])) {\n                        lastOrientation = orientation;\n                        lastPosition = positon;\n                        const currentTime = i / nativeOfflineAudioContext.sampleRate;\n                        gateGainNode.gain.setValueAtTime(0, currentTime);\n                        gateGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 0 });\n                        partialPannerNode = createNativePannerNode(nativeOfflineAudioContext, {\n                            ...commonNativePannerNodeOptions,\n                            orientationX: lastOrientation[0],\n                            orientationY: lastOrientation[1],\n                            orientationZ: lastOrientation[2],\n                            positionX: lastPosition[0],\n                            positionY: lastPosition[1],\n                            positionZ: lastPosition[2]\n                        });\n                        gateGainNode.gain.setValueAtTime(1, currentTime);\n                        inputGainNode.connect(gateGainNode).connect(partialPannerNode.inputs[0]);\n                        partialPannerNode.connect(nativeGainNode);\n                    }\n                }\n                return nativeGainNode;\n            }\n            if (!nativePannerNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationX, nativePannerNode.orientationX);\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationY, nativePannerNode.orientationY);\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationZ, nativePannerNode.orientationZ);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionX, nativePannerNode.positionX);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionY, nativePannerNode.positionY);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionZ, nativePannerNode.positionZ);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationX, nativePannerNode.orientationX);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationY, nativePannerNode.orientationY);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationZ, nativePannerNode.orientationZ);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionX, nativePannerNode.positionX);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionY, nativePannerNode.positionY);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionZ, nativePannerNode.positionZ);\n            }\n            if (isNativeAudioNodeFaker(nativePannerNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativePannerNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativePannerNode);\n            }\n            return nativePannerNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeGainNodeOrNativePannerNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeGainNodeOrNativePannerNode !== undefined) {\n                    return Promise.resolve(renderedNativeGainNodeOrNativePannerNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=panner-node-renderer-factory.js.map","const DEFAULT_OPTIONS = {\n    disableNormalization: false\n};\nexport const createPeriodicWaveConstructor = (createNativePeriodicWave, getNativeContext, periodicWaveStore, sanitizePeriodicWaveOptions) => {\n    return class PeriodicWave {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizePeriodicWaveOptions({ ...DEFAULT_OPTIONS, ...options });\n            const periodicWave = createNativePeriodicWave(nativeContext, mergedOptions);\n            periodicWaveStore.add(periodicWave);\n            // This does violate all good pratices but it is used here to simplify the handling of periodic waves.\n            return periodicWave;\n        }\n        static [Symbol.hasInstance](instance) {\n            return ((instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === PeriodicWave.prototype) ||\n                periodicWaveStore.has(instance));\n        }\n    };\n};\n//# sourceMappingURL=periodic-wave-constructor.js.map","export const createRenderAutomation = (getAudioParamRenderer, renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        const audioParamRenderer = getAudioParamRenderer(audioParam);\n        audioParamRenderer.replay(nativeAudioParam);\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n//# sourceMappingURL=render-automation.js.map","export const createRenderInputsOfAudioNode = (getAudioNodeConnections, getAudioNodeRenderer, isPartOfACycle) => {\n    return async (audioNode, nativeOfflineAudioContext, nativeAudioNode) => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n        await Promise.all(audioNodeConnections.activeInputs\n            .map((connections, input) => Array.from(connections).map(async ([source, output]) => {\n            const audioNodeRenderer = getAudioNodeRenderer(source);\n            const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n            const destination = audioNode.context.destination;\n            if (!isPartOfACycle(source) && (audioNode !== destination || !isPartOfACycle(audioNode))) {\n                renderedNativeAudioNode.connect(nativeAudioNode, output, input);\n            }\n        }))\n            .reduce((allRenderingPromises, renderingPromises) => [...allRenderingPromises, ...renderingPromises], []));\n    };\n};\n//# sourceMappingURL=render-inputs-of-audio-node.js.map","export const createRenderInputsOfAudioParam = (getAudioNodeRenderer, getAudioParamConnections, isPartOfACycle) => {\n    return async (audioParam, nativeOfflineAudioContext, nativeAudioParam) => {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        await Promise.all(Array.from(audioParamConnections.activeInputs).map(async ([source, output]) => {\n            const audioNodeRenderer = getAudioNodeRenderer(source);\n            const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n            if (!isPartOfACycle(source)) {\n                renderedNativeAudioNode.connect(nativeAudioParam, output);\n            }\n        }));\n    };\n};\n//# sourceMappingURL=render-inputs-of-audio-param.js.map","import { testPromiseSupport } from '../helpers/test-promise-support';\nexport const createRenderNativeOfflineAudioContext = (cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, testOfflineAudioContextCurrentTimeSupport) => {\n    return (nativeOfflineAudioContext) => {\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n            // Bug #158: Chrome and Edge do not advance currentTime if it is not accessed while rendering the audio.\n            return Promise.resolve(cacheTestResult(testOfflineAudioContextCurrentTimeSupport, testOfflineAudioContextCurrentTimeSupport)).then((isOfflineAudioContextCurrentTimeSupported) => {\n                if (!isOfflineAudioContextCurrentTimeSupported) {\n                    const scriptProcessorNode = createNativeScriptProcessorNode(nativeOfflineAudioContext, 512, 0, 1);\n                    nativeOfflineAudioContext.oncomplete = () => {\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        scriptProcessorNode.disconnect();\n                    };\n                    scriptProcessorNode.onaudioprocess = () => nativeOfflineAudioContext.currentTime; // tslint:disable-line:deprecation\n                    scriptProcessorNode.connect(nativeOfflineAudioContext.destination);\n                }\n                return nativeOfflineAudioContext.startRendering();\n            });\n        }\n        return new Promise((resolve) => {\n            // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n            const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                gain: 0\n            });\n            nativeOfflineAudioContext.oncomplete = (event) => {\n                gainNode.disconnect();\n                resolve(event.renderedBuffer);\n            };\n            gainNode.connect(nativeOfflineAudioContext.destination);\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n//# sourceMappingURL=render-native-offline-audio-context.js.map","export const createSetActiveAudioWorkletNodeInputs = (activeAudioWorkletNodeInputsStore) => {\n    return (nativeAudioWorkletNode, activeInputs) => {\n        activeAudioWorkletNodeInputsStore.set(nativeAudioWorkletNode, activeInputs);\n    };\n};\n//# sourceMappingURL=set-active-audio-worklet-node-inputs.js.map","export const createSetAudioNodeTailTime = (audioNodeTailTimeStore) => {\n    return (audioNode, tailTime) => audioNodeTailTimeStore.set(audioNode, tailTime);\n};\n//# sourceMappingURL=set-audio-node-tail-time.js.map","import { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nexport const createStartRendering = (audioBufferStore, cacheTestResult, getAudioNodeRenderer, getUnrenderedAudioWorkletNodes, renderNativeOfflineAudioContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds) => {\n    return (destination, nativeOfflineAudioContext) => getAudioNodeRenderer(destination)\n        .render(destination, nativeOfflineAudioContext)\n        /*\n         * Bug #86 & #87: Invoking the renderer of an AudioWorkletNode might be necessary if it has no direct or indirect connection to the\n         * destination.\n         */\n        .then(() => Promise.all(Array.from(getUnrenderedAudioWorkletNodes(nativeOfflineAudioContext)).map((audioWorkletNode) => getAudioNodeRenderer(audioWorkletNode).render(audioWorkletNode, nativeOfflineAudioContext))))\n        .then(() => renderNativeOfflineAudioContext(nativeOfflineAudioContext))\n        .then((audioBuffer) => {\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n        if (typeof audioBuffer.copyFromChannel !== 'function') {\n            wrapAudioBufferCopyChannelMethods(audioBuffer);\n            wrapAudioBufferGetChannelDataMethod(audioBuffer);\n            // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n        }\n        else if (!cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () => testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer))) {\n            wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n        }\n        audioBufferStore.add(audioBuffer);\n        return audioBuffer;\n    });\n};\n//# sourceMappingURL=start-rendering.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    /*\n     * Bug #105: The channelCountMode should be 'clamped-max' according to the spec but is set to 'explicit' to achieve consistent\n     * behavior.\n     */\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    pan: 0\n};\nexport const createStereoPannerNodeConstructor = (audioNodeConstructor, createAudioParam, createNativeStereoPannerNode, createStereoPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext) => {\n    return class StereoPannerNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeStereoPannerNode = createNativeStereoPannerNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const stereoPannerNodeRenderer = (isOffline ? createStereoPannerNodeRenderer() : null);\n            super(context, false, nativeStereoPannerNode, stereoPannerNodeRenderer);\n            this._pan = createAudioParam(this, isOffline, nativeStereoPannerNode.pan);\n        }\n        get pan() {\n            return this._pan;\n        }\n    };\n};\n//# sourceMappingURL=stereo-panner-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createStereoPannerNodeRendererFactory = (connectAudioParam, createNativeStereoPannerNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeStereoPannerNodes = new WeakMap();\n        const createStereoPannerNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeStereoPannerNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeStereoPannerNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeStereoPannerNodeIsOwnedByContext = isOwnedByContext(nativeStereoPannerNode, nativeOfflineAudioContext);\n            if (!nativeStereoPannerNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeStereoPannerNode.channelCount,\n                    channelCountMode: nativeStereoPannerNode.channelCountMode,\n                    channelInterpretation: nativeStereoPannerNode.channelInterpretation,\n                    pan: nativeStereoPannerNode.pan.value\n                };\n                nativeStereoPannerNode = createNativeStereoPannerNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeStereoPannerNodes.set(nativeOfflineAudioContext, nativeStereoPannerNode);\n            if (!nativeStereoPannerNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.pan, nativeStereoPannerNode.pan);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.pan, nativeStereoPannerNode.pan);\n            }\n            if (isNativeAudioNodeFaker(nativeStereoPannerNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeStereoPannerNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeStereoPannerNode);\n            }\n            return nativeStereoPannerNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeStereoPannerNode = renderedNativeStereoPannerNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeStereoPannerNode !== undefined) {\n                    return Promise.resolve(renderedNativeStereoPannerNode);\n                }\n                return createStereoPannerNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=stereo-panner-node-renderer-factory.js.map","// Bug #33: Safari exposes an AudioBuffer but it can't be used as a constructor.\nexport const createTestAudioBufferConstructorSupport = (nativeAudioBufferConstructor) => {\n    return () => {\n        if (nativeAudioBufferConstructor === null) {\n            return false;\n        }\n        try {\n            new nativeAudioBufferConstructor({ length: 1, sampleRate: 44100 }); // tslint:disable-line:no-unused-expression\n        }\n        catch {\n            return false;\n        }\n        return true;\n    };\n};\n//# sourceMappingURL=test-audio-buffer-constructor-support.js.map","// Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\nexport const createTestAudioWorkletProcessorPostMessageSupport = (nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor) => {\n    return async () => {\n        // Bug #61: If there is no native AudioWorkletNode it gets faked and therefore it is no problem if the it doesn't exist.\n        if (nativeAudioWorkletNodeConstructor === null) {\n            return true;\n        }\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n        const blob = new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'], {\n            type: 'application/javascript; charset=utf-8'\n        });\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 128, 44100);\n        const url = URL.createObjectURL(blob);\n        let isEmittingMessageEvents = false;\n        let isEmittingProcessorErrorEvents = false;\n        try {\n            await offlineAudioContext.audioWorklet.addModule(url);\n            const audioWorkletNode = new nativeAudioWorkletNodeConstructor(offlineAudioContext, 'a', { numberOfOutputs: 0 });\n            const oscillator = offlineAudioContext.createOscillator();\n            audioWorkletNode.port.onmessage = () => (isEmittingMessageEvents = true);\n            audioWorkletNode.onprocessorerror = () => (isEmittingProcessorErrorEvents = true);\n            oscillator.connect(audioWorkletNode);\n            oscillator.start(0);\n            await offlineAudioContext.startRendering();\n            // Bug #197: Safari does not deliver the messages before the promise returned by startRendering() resolves.\n            await new Promise((resolve) => setTimeout(resolve));\n        }\n        catch {\n            // Ignore errors.\n        }\n        finally {\n            URL.revokeObjectURL(url);\n        }\n        return isEmittingMessageEvents && !isEmittingProcessorErrorEvents;\n    };\n};\n//# sourceMappingURL=test-audio-worklet-processor-post-message-support.js.map","export const createTestOfflineAudioContextCurrentTimeSupport = (createNativeGainNode, nativeOfflineAudioContextConstructor) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return Promise.resolve(false);\n        }\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n        const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        // Bug #21: Safari does not support promises yet.\n        return new Promise((resolve) => {\n            nativeOfflineAudioContext.oncomplete = () => {\n                gainNode.disconnect();\n                resolve(nativeOfflineAudioContext.currentTime !== 0);\n            };\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n//# sourceMappingURL=test-offline-audio-context-current-time-support.js.map","export const createUnknownError = () => new DOMException('', 'UnknownError');\n//# sourceMappingURL=unknown-error.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    curve: null,\n    oversample: 'none'\n};\nexport const createWaveShaperNodeConstructor = (audioNodeConstructor, createInvalidStateError, createNativeWaveShaperNode, createWaveShaperNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class WaveShaperNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeWaveShaperNode = createNativeWaveShaperNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const waveShaperNodeRenderer = (isOffline ? createWaveShaperNodeRenderer() : null);\n            // @todo Add a mechanism to only switch a WaveShaperNode to active while it is connected.\n            super(context, true, nativeWaveShaperNode, waveShaperNodeRenderer);\n            this._isCurveNullified = false;\n            this._nativeWaveShaperNode = nativeWaveShaperNode;\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        get curve() {\n            if (this._isCurveNullified) {\n                return null;\n            }\n            return this._nativeWaveShaperNode.curve;\n        }\n        set curve(value) {\n            // Bug #103: Safari does not allow to set the curve to null.\n            if (value === null) {\n                this._isCurveNullified = true;\n                this._nativeWaveShaperNode.curve = new Float32Array([0, 0]);\n            }\n            else {\n                // Bug #102: Safari does not throw an InvalidStateError when the curve has less than two samples.\n                // Bug #104: Chrome and Edge will throw an InvalidAccessError when the curve has less than two samples.\n                if (value.length < 2) {\n                    throw createInvalidStateError();\n                }\n                this._isCurveNullified = false;\n                this._nativeWaveShaperNode.curve = value;\n            }\n        }\n        get oversample() {\n            return this._nativeWaveShaperNode.oversample;\n        }\n        set oversample(value) {\n            this._nativeWaveShaperNode.oversample = value;\n        }\n    };\n};\n//# sourceMappingURL=wave-shaper-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createWaveShaperNodeRendererFactory = (createNativeWaveShaperNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeWaveShaperNodes = new WeakMap();\n        const createWaveShaperNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeWaveShaperNode = getNativeAudioNode(proxy);\n            // If the initially used nativeWaveShaperNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeWaveShaperNodeIsOwnedByContext = isOwnedByContext(nativeWaveShaperNode, nativeOfflineAudioContext);\n            if (!nativeWaveShaperNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeWaveShaperNode.channelCount,\n                    channelCountMode: nativeWaveShaperNode.channelCountMode,\n                    channelInterpretation: nativeWaveShaperNode.channelInterpretation,\n                    curve: nativeWaveShaperNode.curve,\n                    oversample: nativeWaveShaperNode.oversample\n                };\n                nativeWaveShaperNode = createNativeWaveShaperNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeWaveShaperNodes.set(nativeOfflineAudioContext, nativeWaveShaperNode);\n            if (isNativeAudioNodeFaker(nativeWaveShaperNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeWaveShaperNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeWaveShaperNode);\n            }\n            return nativeWaveShaperNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeWaveShaperNode = renderedNativeWaveShaperNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeWaveShaperNode !== undefined) {\n                    return Promise.resolve(renderedNativeWaveShaperNode);\n                }\n                return createWaveShaperNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=wave-shaper-node-renderer-factory.js.map","export const createWindow = () => (typeof window === 'undefined' ? null : window);\n//# sourceMappingURL=window.js.map","export const createWrapAudioBufferCopyChannelMethods = (convertNumberToUnsignedLong, createIndexSizeError) => {\n    return (audioBuffer) => {\n        audioBuffer.copyFromChannel = (destination, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const destinationLength = destination.length;\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < destinationLength; i += 1) {\n                destination[i] = channelData[i + bufferOffset];\n            }\n        };\n        audioBuffer.copyToChannel = (source, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const sourceLength = source.length;\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < sourceLength; i += 1) {\n                channelData[i + bufferOffset] = source[i];\n            }\n        };\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods.js.map","export const createWrapAudioBufferCopyChannelMethodsOutOfBounds = (convertNumberToUnsignedLong) => {\n    return (audioBuffer) => {\n        audioBuffer.copyFromChannel = ((copyFromChannel) => {\n            return (destination, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n                if (bufferOffset < audioBuffer.length) {\n                    return copyFromChannel.call(audioBuffer, destination, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyFromChannel);\n        audioBuffer.copyToChannel = ((copyToChannel) => {\n            return (source, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n                if (bufferOffset < audioBuffer.length) {\n                    return copyToChannel.call(audioBuffer, source, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyToChannel);\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods-out-of-bounds.js.map","export const createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer = (overwriteAccessors) => {\n    return (nativeAudioBufferSourceNode, nativeContext) => {\n        const nullifiedBuffer = nativeContext.createBuffer(1, 1, 44100);\n        if (nativeAudioBufferSourceNode.buffer === null) {\n            nativeAudioBufferSourceNode.buffer = nullifiedBuffer;\n        }\n        overwriteAccessors(nativeAudioBufferSourceNode, 'buffer', (get) => () => {\n            const value = get.call(nativeAudioBufferSourceNode);\n            return value === nullifiedBuffer ? null : value;\n        }, (set) => (value) => {\n            return set.call(nativeAudioBufferSourceNode, value === null ? nullifiedBuffer : value);\n        });\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-stop-method-nullified-buffer.js.map","export const createWrapChannelMergerNode = (createInvalidStateError, monitorConnections) => {\n    return (nativeContext, channelMergerNode) => {\n        // Bug #15: Safari does not return the default properties.\n        channelMergerNode.channelCount = 1;\n        channelMergerNode.channelCountMode = 'explicit';\n        // Bug #16: Safari does not throw an error when setting a different channelCount or channelCountMode.\n        Object.defineProperty(channelMergerNode, 'channelCount', {\n            get: () => 1,\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n        Object.defineProperty(channelMergerNode, 'channelCountMode', {\n            get: () => 'explicit',\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n        // Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n        const audioBufferSourceNode = nativeContext.createBufferSource();\n        const whenConnected = () => {\n            const length = channelMergerNode.numberOfInputs;\n            for (let i = 0; i < length; i += 1) {\n                audioBufferSourceNode.connect(channelMergerNode, 0, i);\n            }\n        };\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(channelMergerNode);\n        monitorConnections(channelMergerNode, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=wrap-channel-merger-node.js.map","export const getFirstSample = (audioBuffer, buffer, channelNumber) => {\n    // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n    if (audioBuffer.copyFromChannel === undefined) {\n        return audioBuffer.getChannelData(channelNumber)[0];\n    }\n    audioBuffer.copyFromChannel(buffer, channelNumber);\n    return buffer[0];\n};\n//# sourceMappingURL=get-first-sample.js.map","export const isDCCurve = (curve) => {\n    if (curve === null) {\n        return false;\n    }\n    const length = curve.length;\n    if (length % 2 !== 0) {\n        return curve[Math.floor(length / 2)] !== 0;\n    }\n    return curve[length / 2 - 1] + curve[length / 2] !== 0;\n};\n//# sourceMappingURL=is-dc-curve.js.map","export const overwriteAccessors = (object, property, createGetter, createSetter) => {\n    let prototype = object;\n    while (!prototype.hasOwnProperty(property)) {\n        prototype = Object.getPrototypeOf(prototype);\n    }\n    const { get, set } = Object.getOwnPropertyDescriptor(prototype, property);\n    Object.defineProperty(object, property, { get: createGetter(get), set: createSetter(set) });\n};\n//# sourceMappingURL=overwrite-accessors.js.map","export const sanitizeAudioWorkletNodeOptions = (options) => {\n    return {\n        ...options,\n        outputChannelCount: options.outputChannelCount !== undefined\n            ? options.outputChannelCount\n            : options.numberOfInputs === 1 && options.numberOfOutputs === 1\n                ? /*\n                   * Bug #61: This should be the computedNumberOfChannels, but unfortunately that is almost impossible to fake. That's why\n                   * the channelCountMode is required to be 'explicit' as long as there is not a native implementation in every browser. That\n                   * makes sure the computedNumberOfChannels is equivilant to the channelCount which makes it much easier to compute.\n                   */\n                    [options.channelCount]\n                : Array.from({ length: options.numberOfOutputs }, () => 1)\n    };\n};\n//# sourceMappingURL=sanitize-audio-worklet-node-options.js.map","export const sanitizeChannelSplitterOptions = (options) => {\n    return { ...options, channelCount: options.numberOfOutputs };\n};\n//# sourceMappingURL=sanitize-channel-splitter-options.js.map","export const sanitizePeriodicWaveOptions = (options) => {\n    const { imag, real } = options;\n    if (imag === undefined) {\n        if (real === undefined) {\n            return { ...options, imag: [0, 0], real: [0, 0] };\n        }\n        return { ...options, imag: Array.from(real, () => 0), real };\n    }\n    if (real === undefined) {\n        return { ...options, imag, real: Array.from(imag, () => 0) };\n    }\n    return { ...options, imag, real };\n};\n//# sourceMappingURL=sanitize-periodic-wave-options.js.map","export const setValueAtTimeUntilPossible = (audioParam, value, startTime) => {\n    try {\n        audioParam.setValueAtTime(value, startTime);\n    }\n    catch (err) {\n        if (err.code !== 9) {\n            throw err;\n        }\n        setValueAtTimeUntilPossible(audioParam, value, startTime + 1e-7);\n    }\n};\n//# sourceMappingURL=set-value-at-time-until-possible.js.map","export const testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.start();\n    try {\n        nativeAudioBufferSourceNode.start();\n    }\n    catch {\n        return true;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-start-method-consecutive-calls-support.js.map","export const testAudioBufferSourceNodeStartMethodOffsetClampingSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n    try {\n        nativeAudioBufferSourceNode.start(0, 1);\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-start-method-offset-clamping-support.js.map","export const testAudioBufferSourceNodeStopMethodNullifiedBufferSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.start();\n    try {\n        nativeAudioBufferSourceNode.stop();\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-stop-method-nullified-buffer-support.js.map","export const testAudioScheduledSourceNodeStartMethodNegativeParametersSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n    try {\n        nativeAudioBufferSourceNode.start(-1);\n    }\n    catch (err) {\n        return err instanceof RangeError;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-start-method-negative-parameters-support.js.map","export const testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport = (nativeContext) => {\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n    nativeAudioBufferSourceNode.start();\n    nativeAudioBufferSourceNode.stop();\n    try {\n        nativeAudioBufferSourceNode.stop();\n        return true;\n    }\n    catch {\n        return false;\n    }\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-stop-method-consecutive-calls-support.js.map","export const testAudioScheduledSourceNodeStopMethodNegativeParametersSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n    try {\n        nativeAudioBufferSourceNode.stop(-1);\n    }\n    catch (err) {\n        return err instanceof RangeError;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-stop-method-negative-parameters-support.js.map","export const testAudioWorkletNodeOptionsClonability = (audioWorkletNodeOptions) => {\n    const { port1, port2 } = new MessageChannel();\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    }\n    finally {\n        port1.close();\n        port2.close();\n    }\n};\n//# sourceMappingURL=test-audio-worklet-node-options-clonability.js.map","export const wrapAudioBufferSourceNodeStartMethodOffsetClamping = (nativeAudioBufferSourceNode) => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration) => {\n            const buffer = nativeAudioBufferSourceNode.buffer;\n            // Bug #154: Safari does not clamp the offset if it is equal to or greater than the duration of the buffer.\n            const clampedOffset = buffer === null ? offset : Math.min(buffer.duration, offset);\n            // Bug #155: Safari does not handle the offset correctly if it would cause the buffer to be not be played at all.\n            if (buffer !== null && clampedOffset > buffer.duration - 0.5 / nativeAudioBufferSourceNode.context.sampleRate) {\n                start.call(nativeAudioBufferSourceNode, when, 0, 0);\n            }\n            else {\n                start.call(nativeAudioBufferSourceNode, when, clampedOffset, duration);\n            }\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-start-method-offset-clamping.js.map","import { interceptConnections } from './intercept-connections';\nexport const wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls = (nativeAudioScheduledSourceNode, nativeContext) => {\n    const nativeGainNode = nativeContext.createGain();\n    nativeAudioScheduledSourceNode.connect(nativeGainNode);\n    const disconnectGainNode = ((disconnect) => {\n        return () => {\n            // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n            disconnect.call(nativeAudioScheduledSourceNode, nativeGainNode);\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnectGainNode);\n        };\n    })(nativeAudioScheduledSourceNode.disconnect);\n    nativeAudioScheduledSourceNode.addEventListener('ended', disconnectGainNode);\n    interceptConnections(nativeAudioScheduledSourceNode, nativeGainNode);\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        let isStopped = false;\n        return (when = 0) => {\n            if (isStopped) {\n                try {\n                    stop.call(nativeAudioScheduledSourceNode, when);\n                }\n                catch {\n                    nativeGainNode.gain.setValueAtTime(0, when);\n                }\n            }\n            else {\n                stop.call(nativeAudioScheduledSourceNode, when);\n                isStopped = true;\n            }\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-stop-method-consecutive-calls.js.map","export const wrapEventListener = (target, eventListener) => {\n    return (event) => {\n        const descriptor = { value: target };\n        Object.defineProperties(event, {\n            currentTarget: descriptor,\n            target: descriptor\n        });\n        if (typeof eventListener === 'function') {\n            return eventListener.call(target, event);\n        }\n        return eventListener.handleEvent.call(target, event);\n    };\n};\n//# sourceMappingURL=wrap-event-listener.js.map","import { createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent } from 'automation-events';\nimport { createAbortError } from './factories/abort-error';\nimport { createAddActiveInputConnectionToAudioNode } from './factories/add-active-input-connection-to-audio-node';\nimport { createAddAudioNodeConnections } from './factories/add-audio-node-connections';\nimport { createAddAudioParamConnections } from './factories/add-audio-param-connections';\nimport { createAddAudioWorkletModule } from './factories/add-audio-worklet-module';\nimport { createAddConnectionToAudioNode } from './factories/add-connection-to-audio-node';\nimport { createAddPassiveInputConnectionToAudioNode } from './factories/add-passive-input-connection-to-audio-node';\nimport { createAddSilentConnection } from './factories/add-silent-connection';\nimport { createAddUnrenderedAudioWorkletNode } from './factories/add-unrendered-audio-worklet-node';\nimport { createAnalyserNodeConstructor } from './factories/analyser-node-constructor';\nimport { createAnalyserNodeRendererFactory } from './factories/analyser-node-renderer-factory';\nimport { createAudioBufferConstructor } from './factories/audio-buffer-constructor';\nimport { createAudioBufferSourceNodeConstructor } from './factories/audio-buffer-source-node-constructor';\nimport { createAudioBufferSourceNodeRendererFactory } from './factories/audio-buffer-source-node-renderer-factory';\nimport { createAudioContextConstructor } from './factories/audio-context-constructor';\nimport { createAudioDestinationNodeConstructor } from './factories/audio-destination-node-constructor';\nimport { createAudioDestinationNodeRenderer } from './factories/audio-destination-node-renderer-factory';\nimport { createAudioListenerFactory } from './factories/audio-listener-factory';\nimport { createAudioNodeConstructor } from './factories/audio-node-constructor';\nimport { createAudioParamFactory } from './factories/audio-param-factory';\nimport { createAudioParamRenderer } from './factories/audio-param-renderer';\nimport { createAudioWorkletNodeConstructor } from './factories/audio-worklet-node-constructor';\nimport { createAudioWorkletNodeRendererFactory } from './factories/audio-worklet-node-renderer-factory';\nimport { createBaseAudioContextConstructor } from './factories/base-audio-context-constructor';\nimport { createBiquadFilterNodeConstructor } from './factories/biquad-filter-node-constructor';\nimport { createBiquadFilterNodeRendererFactory } from './factories/biquad-filter-node-renderer-factory';\nimport { createCacheTestResult } from './factories/cache-test-result';\nimport { createChannelMergerNodeConstructor } from './factories/channel-merger-node-constructor';\nimport { createChannelMergerNodeRendererFactory } from './factories/channel-merger-node-renderer-factory';\nimport { createChannelSplitterNodeConstructor } from './factories/channel-splitter-node-constructor';\nimport { createChannelSplitterNodeRendererFactory } from './factories/channel-splitter-node-renderer-factory';\nimport { createConnectAudioParam } from './factories/connect-audio-param';\nimport { createConnectMultipleOutputs } from './factories/connect-multiple-outputs';\nimport { createConnectedNativeAudioBufferSourceNodeFactory } from './factories/connected-native-audio-buffer-source-node-factory';\nimport { createConstantSourceNodeConstructor } from './factories/constant-source-node-constructor';\nimport { createConstantSourceNodeRendererFactory } from './factories/constant-source-node-renderer-factory';\nimport { createConvertNumberToUnsignedLong } from './factories/convert-number-to-unsigned-long';\nimport { createConvolverNodeConstructor } from './factories/convolver-node-constructor';\nimport { createConvolverNodeRendererFactory } from './factories/convolver-node-renderer-factory';\nimport { createCreateNativeOfflineAudioContext } from './factories/create-native-offline-audio-context';\nimport { createDataCloneError } from './factories/data-clone-error';\nimport { createDecodeAudioData } from './factories/decode-audio-data';\nimport { createDecrementCycleCounter } from './factories/decrement-cycle-counter';\nimport { createDelayNodeConstructor } from './factories/delay-node-constructor';\nimport { createDelayNodeRendererFactory } from './factories/delay-node-renderer-factory';\nimport { createDeleteActiveInputConnectionToAudioNode } from './factories/delete-active-input-connection-to-audio-node';\nimport { createDeleteUnrenderedAudioWorkletNode } from './factories/delete-unrendered-audio-worklet-node';\nimport { createDetectCycles } from './factories/detect-cycles';\nimport { createDisconnectMultipleOutputs } from './factories/disconnect-multiple-outputs';\nimport { createDynamicsCompressorNodeConstructor } from './factories/dynamics-compressor-node-constructor';\nimport { createDynamicsCompressorNodeRendererFactory } from './factories/dynamics-compressor-node-renderer-factory';\nimport { createEncodingError } from './factories/encoding-error';\nimport { createEvaluateSource } from './factories/evaluate-source';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createExposeCurrentFrameAndCurrentTime } from './factories/expose-current-frame-and-current-time';\nimport { createFetchSource } from './factories/fetch-source';\nimport { createGainNodeConstructor } from './factories/gain-node-constructor';\nimport { createGainNodeRendererFactory } from './factories/gain-node-renderer-factory';\nimport { createGetActiveAudioWorkletNodeInputs } from './factories/get-active-audio-worklet-node-inputs';\nimport { createGetAudioNodeRenderer } from './factories/get-audio-node-renderer';\nimport { createGetAudioNodeTailTime } from './factories/get-audio-node-tail-time';\nimport { createGetAudioParamRenderer } from './factories/get-audio-param-renderer';\nimport { createGetBackupOfflineAudioContext } from './factories/get-backup-offline-audio-context';\nimport { createGetNativeContext } from './factories/get-native-context';\nimport { createGetOrCreateBackupOfflineAudioContext } from './factories/get-or-create-backup-offline-audio-context';\nimport { createGetUnrenderedAudioWorkletNodes } from './factories/get-unrendered-audio-worklet-nodes';\nimport { createIIRFilterNodeConstructor } from './factories/iir-filter-node-constructor';\nimport { createIIRFilterNodeRendererFactory } from './factories/iir-filter-node-renderer-factory';\nimport { createIncrementCycleCounterFactory } from './factories/increment-cycle-counter-factory';\nimport { createIndexSizeError } from './factories/index-size-error';\nimport { createInvalidAccessError } from './factories/invalid-access-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsAnyAudioContext } from './factories/is-any-audio-context';\nimport { createIsAnyAudioNode } from './factories/is-any-audio-node';\nimport { createIsAnyAudioParam } from './factories/is-any-audio-param';\nimport { createIsAnyOfflineAudioContext } from './factories/is-any-offline-audio-context';\nimport { createIsNativeAudioContext } from './factories/is-native-audio-context';\nimport { createIsNativeAudioNode } from './factories/is-native-audio-node';\nimport { createIsNativeAudioParam } from './factories/is-native-audio-param';\nimport { createIsNativeContext } from './factories/is-native-context';\nimport { createIsNativeOfflineAudioContext } from './factories/is-native-offline-audio-context';\nimport { createIsSecureContext } from './factories/is-secure-context';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaElementAudioSourceNodeConstructor } from './factories/media-element-audio-source-node-constructor';\nimport { createMediaStreamAudioDestinationNodeConstructor } from './factories/media-stream-audio-destination-node-constructor';\nimport { createMediaStreamAudioSourceNodeConstructor } from './factories/media-stream-audio-source-node-constructor';\nimport { createMediaStreamTrackAudioSourceNodeConstructor } from './factories/media-stream-track-audio-source-node-constructor';\nimport { createMinimalAudioContextConstructor } from './factories/minimal-audio-context-constructor';\nimport { createMinimalBaseAudioContextConstructor } from './factories/minimal-base-audio-context-constructor';\nimport { createMinimalOfflineAudioContextConstructor } from './factories/minimal-offline-audio-context-constructor';\nimport { createMonitorConnections } from './factories/monitor-connections';\nimport { createNativeAnalyserNodeFactory } from './factories/native-analyser-node-factory';\nimport { createNativeAudioBufferConstructor } from './factories/native-audio-buffer-constructor';\nimport { createNativeAudioBufferSourceNodeFactory } from './factories/native-audio-buffer-source-node-factory';\nimport { createNativeAudioContextConstructor } from './factories/native-audio-context-constructor';\nimport { createNativeAudioDestinationNodeFactory } from './factories/native-audio-destination-node';\nimport { createNativeAudioWorkletNodeConstructor } from './factories/native-audio-worklet-node-constructor';\nimport { createNativeAudioWorkletNodeFactory } from './factories/native-audio-worklet-node-factory';\nimport { createNativeAudioWorkletNodeFakerFactory } from './factories/native-audio-worklet-node-faker-factory';\nimport { createNativeBiquadFilterNode } from './factories/native-biquad-filter-node';\nimport { createNativeChannelMergerNodeFactory } from './factories/native-channel-merger-node-factory';\nimport { createNativeChannelSplitterNode } from './factories/native-channel-splitter-node';\nimport { createNativeConstantSourceNodeFactory } from './factories/native-constant-source-node-factory';\nimport { createNativeConstantSourceNodeFakerFactory } from './factories/native-constant-source-node-faker-factory';\nimport { createNativeConvolverNodeFactory } from './factories/native-convolver-node-factory';\nimport { createNativeDelayNode } from './factories/native-delay-node';\nimport { createNativeDynamicsCompressorNodeFactory } from './factories/native-dynamics-compressor-node-factory';\nimport { createNativeGainNode } from './factories/native-gain-node';\nimport { createNativeIIRFilterNodeFactory } from './factories/native-iir-filter-node-factory';\nimport { createNativeIIRFilterNodeFakerFactory } from './factories/native-iir-filter-node-faker-factory';\nimport { createNativeMediaElementAudioSourceNode } from './factories/native-media-element-audio-source-node';\nimport { createNativeMediaStreamAudioDestinationNode } from './factories/native-media-stream-audio-destination-node';\nimport { createNativeMediaStreamAudioSourceNode } from './factories/native-media-stream-audio-source-node';\nimport { createNativeMediaStreamTrackAudioSourceNodeFactory } from './factories/native-media-stream-track-audio-source-node-factory';\nimport { createNativeOfflineAudioContextConstructor } from './factories/native-offline-audio-context-constructor';\nimport { createNativeOscillatorNodeFactory } from './factories/native-oscillator-node-factory';\nimport { createNativePannerNodeFactory } from './factories/native-panner-node-factory';\nimport { createNativePannerNodeFakerFactory } from './factories/native-panner-node-faker-factory';\nimport { createNativePeriodicWaveFactory } from './factories/native-periodic-wave-factory';\nimport { createNativeScriptProcessorNode } from './factories/native-script-processor-node';\nimport { createNativeStereoPannerNodeFactory } from './factories/native-stereo-panner-node-factory';\nimport { createNativeStereoPannerNodeFakerFactory } from './factories/native-stereo-panner-node-faker-factory';\nimport { createNativeWaveShaperNodeFactory } from './factories/native-wave-shaper-node-factory';\nimport { createNativeWaveShaperNodeFakerFactory } from './factories/native-wave-shaper-node-faker-factory';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createOfflineAudioContextConstructor } from './factories/offline-audio-context-constructor';\nimport { createOscillatorNodeConstructor } from './factories/oscillator-node-constructor';\nimport { createOscillatorNodeRendererFactory } from './factories/oscillator-node-renderer-factory';\nimport { createPannerNodeConstructor } from './factories/panner-node-constructor';\nimport { createPannerNodeRendererFactory } from './factories/panner-node-renderer-factory';\nimport { createPeriodicWaveConstructor } from './factories/periodic-wave-constructor';\nimport { createRenderAutomation } from './factories/render-automation';\nimport { createRenderInputsOfAudioNode } from './factories/render-inputs-of-audio-node';\nimport { createRenderInputsOfAudioParam } from './factories/render-inputs-of-audio-param';\nimport { createRenderNativeOfflineAudioContext } from './factories/render-native-offline-audio-context';\nimport { createSetActiveAudioWorkletNodeInputs } from './factories/set-active-audio-worklet-node-inputs';\nimport { createSetAudioNodeTailTime } from './factories/set-audio-node-tail-time';\nimport { createStartRendering } from './factories/start-rendering';\nimport { createStereoPannerNodeConstructor } from './factories/stereo-panner-node-constructor';\nimport { createStereoPannerNodeRendererFactory } from './factories/stereo-panner-node-renderer-factory';\nimport { createTestAudioBufferConstructorSupport } from './factories/test-audio-buffer-constructor-support';\nimport { createTestAudioBufferCopyChannelMethodsSubarraySupport } from './factories/test-audio-buffer-copy-channel-methods-subarray-support';\nimport { createTestAudioContextCloseMethodSupport } from './factories/test-audio-context-close-method-support';\nimport { createTestAudioContextDecodeAudioDataMethodTypeErrorSupport } from './factories/test-audio-context-decode-audio-data-method-type-error-support';\nimport { createTestAudioContextOptionsSupport } from './factories/test-audio-context-options-support';\nimport { createTestAudioNodeConnectMethodSupport } from './factories/test-audio-node-connect-method-support';\nimport { createTestAudioWorkletProcessorNoOutputsSupport } from './factories/test-audio-worklet-processor-no-outputs-support';\nimport { createTestAudioWorkletProcessorPostMessageSupport } from './factories/test-audio-worklet-processor-post-message-support';\nimport { createTestChannelMergerNodeChannelCountSupport } from './factories/test-channel-merger-node-channel-count-support';\nimport { createTestConstantSourceNodeAccurateSchedulingSupport } from './factories/test-constant-source-node-accurate-scheduling-support';\nimport { createTestConvolverNodeBufferReassignabilitySupport } from './factories/test-convolver-node-buffer-reassignability-support';\nimport { createTestConvolverNodeChannelCountSupport } from './factories/test-convolver-node-channel-count-support';\nimport { createTestIsSecureContextSupport } from './factories/test-is-secure-context-support';\nimport { createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport } from './factories/test-media-stream-audio-source-node-media-stream-without-audio-track-support';\nimport { createTestOfflineAudioContextCurrentTimeSupport } from './factories/test-offline-audio-context-current-time-support';\nimport { createTestStereoPannerNodeDefaultValueSupport } from './factories/test-stereo-panner-node-default-value-support';\nimport { createUnknownError } from './factories/unknown-error';\nimport { createWaveShaperNodeConstructor } from './factories/wave-shaper-node-constructor';\nimport { createWaveShaperNodeRendererFactory } from './factories/wave-shaper-node-renderer-factory';\nimport { createWindow } from './factories/window';\nimport { createWrapAudioBufferCopyChannelMethods } from './factories/wrap-audio-buffer-copy-channel-methods';\nimport { createWrapAudioBufferCopyChannelMethodsOutOfBounds } from './factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds';\nimport { createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer } from './factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer';\nimport { createWrapChannelMergerNode } from './factories/wrap-channel-merger-node';\nimport { AUDIO_NODE_CONNECTIONS_STORE, AUDIO_NODE_STORE, AUDIO_PARAM_CONNECTIONS_STORE, AUDIO_PARAM_STORE, CONTEXT_STORE, CYCLE_COUNTERS } from './globals';\nimport { connectNativeAudioNodeToNativeAudioNode } from './helpers/connect-native-audio-node-to-native-audio-node';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from './helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from './helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from './helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from './helpers/get-event-listeners-of-audio-node';\nimport { getFirstSample } from './helpers/get-first-sample';\nimport { getNativeAudioNode } from './helpers/get-native-audio-node';\nimport { getNativeAudioParam } from './helpers/get-native-audio-param';\nimport { getValueForKey } from './helpers/get-value-for-key';\nimport { insertElementInSet } from './helpers/insert-element-in-set';\nimport { isActiveAudioNode } from './helpers/is-active-audio-node';\nimport { isDCCurve } from './helpers/is-dc-curve';\nimport { isPartOfACycle } from './helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from './helpers/is-passive-audio-node';\nimport { overwriteAccessors } from './helpers/overwrite-accessors';\nimport { pickElementFromSet } from './helpers/pick-element-from-set';\nimport { sanitizeAudioWorkletNodeOptions } from './helpers/sanitize-audio-worklet-node-options';\nimport { sanitizeChannelSplitterOptions } from './helpers/sanitize-channel-splitter-options';\nimport { sanitizePeriodicWaveOptions } from './helpers/sanitize-periodic-wave-options';\nimport { setValueAtTimeUntilPossible } from './helpers/set-value-at-time-until-possible';\nimport { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from './helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport } from './helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support';\nimport { testAudioBufferSourceNodeStartMethodOffsetClampingSupport } from './helpers/test-audio-buffer-source-node-start-method-offset-clamping-support';\nimport { testAudioBufferSourceNodeStopMethodNullifiedBufferSupport } from './helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support';\nimport { testAudioScheduledSourceNodeStartMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support';\nimport { testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport } from './helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support';\nimport { testAudioScheduledSourceNodeStopMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support';\nimport { testAudioWorkletNodeOptionsClonability } from './helpers/test-audio-worklet-node-options-clonability';\nimport { testDomExceptionConstructorSupport } from './helpers/test-dom-exception-constructor-support';\nimport { testPromiseSupport } from './helpers/test-promise-support';\nimport { testTransferablesSupport } from './helpers/test-transferables-support';\nimport { wrapAudioBufferSourceNodeStartMethodOffsetClamping } from './helpers/wrap-audio-buffer-source-node-start-method-offset-clamping';\nimport { wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls } from './helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls';\nimport { wrapEventListener } from './helpers/wrap-event-listener';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst addActiveInputConnectionToAudioNode = createAddActiveInputConnectionToAudioNode(insertElementInSet);\nconst addPassiveInputConnectionToAudioNode = createAddPassiveInputConnectionToAudioNode(insertElementInSet);\nconst deleteActiveInputConnectionToAudioNode = createDeleteActiveInputConnectionToAudioNode(pickElementFromSet);\nconst audioNodeTailTimeStore = new WeakMap();\nconst getAudioNodeTailTime = createGetAudioNodeTailTime(audioNodeTailTimeStore);\nconst cacheTestResult = createCacheTestResult(new Map(), new WeakMap());\nconst window = createWindow();\nconst createNativeAnalyserNode = createNativeAnalyserNodeFactory(cacheTestResult, createIndexSizeError);\nconst getAudioNodeRenderer = createGetAudioNodeRenderer(getAudioNodeConnections);\nconst renderInputsOfAudioNode = createRenderInputsOfAudioNode(getAudioNodeConnections, getAudioNodeRenderer, isPartOfACycle);\nconst createAnalyserNodeRenderer = createAnalyserNodeRendererFactory(createNativeAnalyserNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst getNativeContext = createGetNativeContext(CONTEXT_STORE);\nconst nativeOfflineAudioContextConstructor = createNativeOfflineAudioContextConstructor(window);\nconst isNativeOfflineAudioContext = createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor);\nconst audioParamAudioNodeStore = new WeakMap();\nconst eventTargetConstructor = createEventTargetConstructor(wrapEventListener);\nconst nativeAudioContextConstructor = createNativeAudioContextConstructor(window);\nconst isNativeAudioContext = createIsNativeAudioContext(nativeAudioContextConstructor);\nconst isNativeAudioNode = createIsNativeAudioNode(window);\nconst isNativeAudioParam = createIsNativeAudioParam(window);\nconst nativeAudioWorkletNodeConstructor = createNativeAudioWorkletNodeConstructor(window);\nconst audioNodeConstructor = createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE), createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode, addPassiveInputConnectionToAudioNode, connectNativeAudioNodeToNativeAudioNode, deleteActiveInputConnectionToAudioNode, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getAudioNodeTailTime, getEventListenersOfAudioNode, getNativeAudioNode, insertElementInSet, isActiveAudioNode, isPartOfACycle, isPassiveAudioNode), cacheTestResult, createIncrementCycleCounterFactory(CYCLE_COUNTERS, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, isActiveAudioNode), createIndexSizeError, createInvalidAccessError, createNotSupportedError, createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode, CYCLE_COUNTERS, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, getNativeContext, isActiveAudioNode, isNativeOfflineAudioContext), createDetectCycles(audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey), eventTargetConstructor, getNativeContext, isNativeAudioContext, isNativeAudioNode, isNativeAudioParam, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor);\nconst analyserNodeConstructor = createAnalyserNodeConstructor(audioNodeConstructor, createAnalyserNodeRenderer, createIndexSizeError, createNativeAnalyserNode, getNativeContext, isNativeOfflineAudioContext);\nexport { analyserNodeConstructor as AnalyserNode };\nconst audioBufferStore = new WeakSet();\nconst nativeAudioBufferConstructor = createNativeAudioBufferConstructor(window);\nconst convertNumberToUnsignedLong = createConvertNumberToUnsignedLong(new Uint32Array(1));\nconst wrapAudioBufferCopyChannelMethods = createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong, createIndexSizeError);\nconst wrapAudioBufferCopyChannelMethodsOutOfBounds = createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong);\nconst audioBufferConstructor = createAudioBufferConstructor(audioBufferStore, cacheTestResult, createNotSupportedError, nativeAudioBufferConstructor, nativeOfflineAudioContextConstructor, createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor), wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nexport { audioBufferConstructor as AudioBuffer };\nconst addSilentConnection = createAddSilentConnection(createNativeGainNode);\nconst renderInputsOfAudioParam = createRenderInputsOfAudioParam(getAudioNodeRenderer, getAudioParamConnections, isPartOfACycle);\nconst connectAudioParam = createConnectAudioParam(renderInputsOfAudioParam);\nconst createNativeAudioBufferSourceNode = createNativeAudioBufferSourceNodeFactory(addSilentConnection, cacheTestResult, testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, testAudioBufferSourceNodeStartMethodOffsetClampingSupport, testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioBufferSourceNodeStartMethodOffsetClamping, createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors), wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls);\nconst renderAutomation = createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections), renderInputsOfAudioParam);\nconst createAudioBufferSourceNodeRenderer = createAudioBufferSourceNodeRendererFactory(connectAudioParam, createNativeAudioBufferSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst createAudioParam = createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE), audioParamAudioNodeStore, AUDIO_PARAM_STORE, createAudioParamRenderer, createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent, nativeAudioContextConstructor, setValueAtTimeUntilPossible);\nconst audioBufferSourceNodeConstructor = createAudioBufferSourceNodeConstructor(audioNodeConstructor, createAudioBufferSourceNodeRenderer, createAudioParam, createInvalidStateError, createNativeAudioBufferSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nexport { audioBufferSourceNodeConstructor as AudioBufferSourceNode };\nconst audioDestinationNodeConstructor = createAudioDestinationNodeConstructor(audioNodeConstructor, createAudioDestinationNodeRenderer, createIndexSizeError, createInvalidStateError, createNativeAudioDestinationNodeFactory(createNativeGainNode, overwriteAccessors), getNativeContext, isNativeOfflineAudioContext, renderInputsOfAudioNode);\nconst createBiquadFilterNodeRenderer = createBiquadFilterNodeRendererFactory(connectAudioParam, createNativeBiquadFilterNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst setAudioNodeTailTime = createSetAudioNodeTailTime(audioNodeTailTimeStore);\nconst biquadFilterNodeConstructor = createBiquadFilterNodeConstructor(audioNodeConstructor, createAudioParam, createBiquadFilterNodeRenderer, createInvalidAccessError, createNativeBiquadFilterNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst monitorConnections = createMonitorConnections(insertElementInSet, isNativeAudioNode);\nconst wrapChannelMergerNode = createWrapChannelMergerNode(createInvalidStateError, monitorConnections);\nconst createNativeChannelMergerNode = createNativeChannelMergerNodeFactory(nativeAudioContextConstructor, wrapChannelMergerNode);\nconst createChannelMergerNodeRenderer = createChannelMergerNodeRendererFactory(createNativeChannelMergerNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst channelMergerNodeConstructor = createChannelMergerNodeConstructor(audioNodeConstructor, createChannelMergerNodeRenderer, createNativeChannelMergerNode, getNativeContext, isNativeOfflineAudioContext);\nconst createChannelSplitterNodeRenderer = createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst channelSplitterNodeConstructor = createChannelSplitterNodeConstructor(audioNodeConstructor, createChannelSplitterNodeRenderer, createNativeChannelSplitterNode, getNativeContext, isNativeOfflineAudioContext, sanitizeChannelSplitterOptions);\nconst createNativeConstantSourceNodeFaker = createNativeConstantSourceNodeFakerFactory(addSilentConnection, createNativeAudioBufferSourceNode, createNativeGainNode, monitorConnections);\nconst createNativeConstantSourceNode = createNativeConstantSourceNodeFactory(addSilentConnection, cacheTestResult, createNativeConstantSourceNodeFaker, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport);\nconst createConstantSourceNodeRenderer = createConstantSourceNodeRendererFactory(connectAudioParam, createNativeConstantSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst constantSourceNodeConstructor = createConstantSourceNodeConstructor(audioNodeConstructor, createAudioParam, createConstantSourceNodeRenderer, createNativeConstantSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nconst createNativeConvolverNode = createNativeConvolverNodeFactory(createNotSupportedError, overwriteAccessors);\nconst createConvolverNodeRenderer = createConvolverNodeRendererFactory(createNativeConvolverNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst convolverNodeConstructor = createConvolverNodeConstructor(audioNodeConstructor, createConvolverNodeRenderer, createNativeConvolverNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createDelayNodeRenderer = createDelayNodeRendererFactory(connectAudioParam, createNativeDelayNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst delayNodeConstructor = createDelayNodeConstructor(audioNodeConstructor, createAudioParam, createDelayNodeRenderer, createNativeDelayNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createNativeDynamicsCompressorNode = createNativeDynamicsCompressorNodeFactory(createNotSupportedError);\nconst createDynamicsCompressorNodeRenderer = createDynamicsCompressorNodeRendererFactory(connectAudioParam, createNativeDynamicsCompressorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst dynamicsCompressorNodeConstructor = createDynamicsCompressorNodeConstructor(audioNodeConstructor, createAudioParam, createDynamicsCompressorNodeRenderer, createNativeDynamicsCompressorNode, createNotSupportedError, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createGainNodeRenderer = createGainNodeRendererFactory(connectAudioParam, createNativeGainNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst gainNodeConstructor = createGainNodeConstructor(audioNodeConstructor, createAudioParam, createGainNodeRenderer, createNativeGainNode, getNativeContext, isNativeOfflineAudioContext);\nconst createNativeIIRFilterNodeFaker = createNativeIIRFilterNodeFakerFactory(createInvalidAccessError, createInvalidStateError, createNativeScriptProcessorNode, createNotSupportedError);\nconst renderNativeOfflineAudioContext = createRenderNativeOfflineAudioContext(cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode, nativeOfflineAudioContextConstructor));\nconst createIIRFilterNodeRenderer = createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst createNativeIIRFilterNode = createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker);\nconst iIRFilterNodeConstructor = createIIRFilterNodeConstructor(audioNodeConstructor, createNativeIIRFilterNode, createIIRFilterNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createAudioListener = createAudioListenerFactory(createAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeScriptProcessorNode, createNotSupportedError, getFirstSample, isNativeOfflineAudioContext, overwriteAccessors);\nconst unrenderedAudioWorkletNodeStore = new WeakMap();\nconst minimalBaseAudioContextConstructor = createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor, createAudioListener, eventTargetConstructor, isNativeOfflineAudioContext, unrenderedAudioWorkletNodeStore, wrapEventListener);\nconst createNativeOscillatorNode = createNativeOscillatorNodeFactory(addSilentConnection, cacheTestResult, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls);\nconst createOscillatorNodeRenderer = createOscillatorNodeRendererFactory(connectAudioParam, createNativeOscillatorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst oscillatorNodeConstructor = createOscillatorNodeConstructor(audioNodeConstructor, createAudioParam, createNativeOscillatorNode, createOscillatorNodeRenderer, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nconst createConnectedNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode);\nconst createNativeWaveShaperNodeFaker = createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeGainNode, isDCCurve, monitorConnections);\nconst createNativeWaveShaperNode = createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeWaveShaperNodeFaker, isDCCurve, monitorConnections, nativeAudioContextConstructor, overwriteAccessors);\nconst createNativePannerNodeFaker = createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode, createInvalidStateError, createNativeChannelMergerNode, createNativeGainNode, createNativeScriptProcessorNode, createNativeWaveShaperNode, createNotSupportedError, disconnectNativeAudioNodeFromNativeAudioNode, getFirstSample, monitorConnections);\nconst createNativePannerNode = createNativePannerNodeFactory(createNativePannerNodeFaker);\nconst createPannerNodeRenderer = createPannerNodeRendererFactory(connectAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeGainNode, createNativePannerNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst pannerNodeConstructor = createPannerNodeConstructor(audioNodeConstructor, createAudioParam, createNativePannerNode, createPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createNativePeriodicWave = createNativePeriodicWaveFactory(createIndexSizeError);\nconst periodicWaveConstructor = createPeriodicWaveConstructor(createNativePeriodicWave, getNativeContext, new WeakSet(), sanitizePeriodicWaveOptions);\nconst nativeStereoPannerNodeFakerFactory = createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeGainNode, createNativeWaveShaperNode, createNotSupportedError, monitorConnections);\nconst createNativeStereoPannerNode = createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory, createNotSupportedError);\nconst createStereoPannerNodeRenderer = createStereoPannerNodeRendererFactory(connectAudioParam, createNativeStereoPannerNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst stereoPannerNodeConstructor = createStereoPannerNodeConstructor(audioNodeConstructor, createAudioParam, createNativeStereoPannerNode, createStereoPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext);\nconst createWaveShaperNodeRenderer = createWaveShaperNodeRendererFactory(createNativeWaveShaperNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst waveShaperNodeConstructor = createWaveShaperNodeConstructor(audioNodeConstructor, createInvalidStateError, createNativeWaveShaperNode, createWaveShaperNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst isSecureContext = createIsSecureContext(window);\nconst exposeCurrentFrameAndCurrentTime = createExposeCurrentFrameAndCurrentTime(window);\nconst backupOfflineAudioContextStore = new WeakMap();\nconst getOrCreateBackupOfflineAudioContext = createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore, nativeOfflineAudioContextConstructor);\n// The addAudioWorkletModule() function is only available in a SecureContext.\nexport const addAudioWorkletModule = isSecureContext\n    ? createAddAudioWorkletModule(cacheTestResult, createNotSupportedError, createEvaluateSource(window), exposeCurrentFrameAndCurrentTime, createFetchSource(createAbortError), getNativeContext, getOrCreateBackupOfflineAudioContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, new WeakMap(), new WeakMap(), createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor), \n    // @todo window is guaranteed to be defined because isSecureContext checks that as well.\n    window)\n    : undefined;\nconst isNativeContext = createIsNativeContext(isNativeAudioContext, isNativeOfflineAudioContext);\nexport const decodeAudioData = createDecodeAudioData(audioBufferStore, cacheTestResult, createDataCloneError, createEncodingError, new WeakSet(), getNativeContext, isNativeContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, testPromiseSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nconst baseAudioContextConstructor = createBaseAudioContextConstructor(addAudioWorkletModule, analyserNodeConstructor, audioBufferConstructor, audioBufferSourceNodeConstructor, biquadFilterNodeConstructor, channelMergerNodeConstructor, channelSplitterNodeConstructor, constantSourceNodeConstructor, convolverNodeConstructor, decodeAudioData, delayNodeConstructor, dynamicsCompressorNodeConstructor, gainNodeConstructor, iIRFilterNodeConstructor, minimalBaseAudioContextConstructor, oscillatorNodeConstructor, pannerNodeConstructor, periodicWaveConstructor, stereoPannerNodeConstructor, waveShaperNodeConstructor);\nconst mediaElementAudioSourceNodeConstructor = createMediaElementAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaElementAudioSourceNode, getNativeContext, isNativeOfflineAudioContext);\nconst mediaStreamAudioDestinationNodeConstructor = createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor, createNativeMediaStreamAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext);\nconst mediaStreamAudioSourceNodeConstructor = createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaStreamAudioSourceNode, getNativeContext, isNativeOfflineAudioContext);\nconst createNativeMediaStreamTrackAudioSourceNode = createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError, isNativeOfflineAudioContext);\nconst mediaStreamTrackAudioSourceNodeConstructor = createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaStreamTrackAudioSourceNode, getNativeContext);\nconst audioContextConstructor = createAudioContextConstructor(baseAudioContextConstructor, createInvalidStateError, createNotSupportedError, createUnknownError, mediaElementAudioSourceNodeConstructor, mediaStreamAudioDestinationNodeConstructor, mediaStreamAudioSourceNodeConstructor, mediaStreamTrackAudioSourceNodeConstructor, nativeAudioContextConstructor);\nexport { audioContextConstructor as AudioContext };\nconst getUnrenderedAudioWorkletNodes = createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore);\nconst addUnrenderedAudioWorkletNode = createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst connectMultipleOutputs = createConnectMultipleOutputs(createIndexSizeError);\nconst deleteUnrenderedAudioWorkletNode = createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst disconnectMultipleOutputs = createDisconnectMultipleOutputs(createIndexSizeError);\nconst activeAudioWorkletNodeInputsStore = new WeakMap();\nconst getActiveAudioWorkletNodeInputs = createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore, getValueForKey);\nconst createNativeAudioWorkletNodeFaker = createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs, createIndexSizeError, createInvalidStateError, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, createNativeScriptProcessorNode, createNotSupportedError, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getActiveAudioWorkletNodeInputs, monitorConnections);\nconst createNativeAudioWorkletNode = createNativeAudioWorkletNodeFactory(createInvalidStateError, createNativeAudioWorkletNodeFaker, createNativeGainNode, createNotSupportedError, monitorConnections);\nconst createAudioWorkletNodeRenderer = createAudioWorkletNodeRendererFactory(connectAudioParam, connectMultipleOutputs, createNativeAudioBufferSourceNode, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, deleteUnrenderedAudioWorkletNode, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getNativeAudioNode, nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst getBackupOfflineAudioContext = createGetBackupOfflineAudioContext(backupOfflineAudioContextStore);\nconst setActiveAudioWorkletNodeInputs = createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore);\n// The AudioWorkletNode constructor is only available in a SecureContext.\nconst audioWorkletNodeConstructor = isSecureContext\n    ? createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode, audioNodeConstructor, createAudioParam, createAudioWorkletNodeRenderer, createNativeAudioWorkletNode, getAudioNodeConnections, getBackupOfflineAudioContext, getNativeContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, sanitizeAudioWorkletNodeOptions, setActiveAudioWorkletNodeInputs, testAudioWorkletNodeOptionsClonability, wrapEventListener)\n    : undefined;\nexport { audioWorkletNodeConstructor as AudioWorkletNode };\nexport { biquadFilterNodeConstructor as BiquadFilterNode };\nexport { channelMergerNodeConstructor as ChannelMergerNode };\nexport { channelSplitterNodeConstructor as ChannelSplitterNode };\nexport { convolverNodeConstructor as ConvolverNode };\nexport { constantSourceNodeConstructor as ConstantSourceNode };\nexport { delayNodeConstructor as DelayNode };\nexport { dynamicsCompressorNodeConstructor as DynamicsCompressorNode };\nexport { gainNodeConstructor as GainNode };\nexport { iIRFilterNodeConstructor as IIRFilterNode };\nexport { mediaElementAudioSourceNodeConstructor as MediaElementAudioSourceNode };\nexport { mediaStreamAudioDestinationNodeConstructor as MediaStreamAudioDestinationNode };\nexport { mediaStreamAudioSourceNodeConstructor as MediaStreamAudioSourceNode };\nexport { mediaStreamTrackAudioSourceNodeConstructor as MediaStreamTrackAudioSourceNode };\nconst minimalAudioContextConstructor = createMinimalAudioContextConstructor(createInvalidStateError, createNotSupportedError, createUnknownError, minimalBaseAudioContextConstructor, nativeAudioContextConstructor);\nexport { minimalAudioContextConstructor as MinimalAudioContext };\nconst createNativeOfflineAudioContext = createCreateNativeOfflineAudioContext(createNotSupportedError, nativeOfflineAudioContextConstructor);\nconst startRendering = createStartRendering(audioBufferStore, cacheTestResult, getAudioNodeRenderer, getUnrenderedAudioWorkletNodes, renderNativeOfflineAudioContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nconst minimalOfflineAudioContextConstructor = createMinimalOfflineAudioContextConstructor(cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, minimalBaseAudioContextConstructor, startRendering);\nexport { minimalOfflineAudioContextConstructor as MinimalOfflineAudioContext };\nconst offlineAudioContextConstructor = createOfflineAudioContextConstructor(baseAudioContextConstructor, cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, startRendering);\nexport { offlineAudioContextConstructor as OfflineAudioContext };\nexport { oscillatorNodeConstructor as OscillatorNode };\nexport { pannerNodeConstructor as PannerNode };\nexport { periodicWaveConstructor as PeriodicWave };\nexport { stereoPannerNodeConstructor as StereoPannerNode };\nexport { waveShaperNodeConstructor as WaveShaperNode };\nexport const isAnyAudioContext = createIsAnyAudioContext(CONTEXT_STORE, isNativeAudioContext);\nexport const isAnyAudioNode = createIsAnyAudioNode(AUDIO_NODE_STORE, isNativeAudioNode);\nexport const isAnyAudioParam = createIsAnyAudioParam(AUDIO_PARAM_STORE, isNativeAudioParam);\nexport const isAnyOfflineAudioContext = createIsAnyOfflineAudioContext(CONTEXT_STORE, isNativeOfflineAudioContext);\nexport const isSupported = () => createIsSupportedPromise(cacheTestResult, createTestAudioBufferCopyChannelMethodsSubarraySupport(nativeOfflineAudioContextConstructor), createTestAudioContextCloseMethodSupport(nativeAudioContextConstructor), createTestAudioContextDecodeAudioDataMethodTypeErrorSupport(nativeOfflineAudioContextConstructor), createTestAudioContextOptionsSupport(nativeAudioContextConstructor), createTestAudioNodeConnectMethodSupport(nativeOfflineAudioContextConstructor), createTestAudioWorkletProcessorNoOutputsSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor), createTestChannelMergerNodeChannelCountSupport(nativeOfflineAudioContextConstructor), createTestConstantSourceNodeAccurateSchedulingSupport(nativeOfflineAudioContextConstructor), createTestConvolverNodeBufferReassignabilitySupport(nativeOfflineAudioContextConstructor), createTestConvolverNodeChannelCountSupport(nativeOfflineAudioContextConstructor), testDomExceptionConstructorSupport, createTestIsSecureContextSupport(window), createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport(nativeAudioContextConstructor), createTestStereoPannerNodeDefaultValueSupport(nativeOfflineAudioContextConstructor), testTransferablesSupport);\n//# sourceMappingURL=module.js.map","/**\n * Test if the arg is undefined\n */\nexport function isUndef(arg) {\n    return arg === undefined;\n}\n/**\n * Test if the arg is not undefined\n */\nexport function isDefined(arg) {\n    return arg !== undefined;\n}\n/**\n * Test if the arg is a function\n */\nexport function isFunction(arg) {\n    return typeof arg === \"function\";\n}\n/**\n * Test if the argument is a number.\n */\nexport function isNumber(arg) {\n    return typeof arg === \"number\";\n}\n/**\n * Test if the given argument is an object literal (i.e. `{}`);\n */\nexport function isObject(arg) {\n    return (Object.prototype.toString.call(arg) === \"[object Object]\" &&\n        arg.constructor === Object);\n}\n/**\n * Test if the argument is a boolean.\n */\nexport function isBoolean(arg) {\n    return typeof arg === \"boolean\";\n}\n/**\n * Test if the argument is an Array\n */\nexport function isArray(arg) {\n    return Array.isArray(arg);\n}\n/**\n * Test if the argument is a string.\n */\nexport function isString(arg) {\n    return typeof arg === \"string\";\n}\n/**\n * Test if the argument is in the form of a note in scientific pitch notation.\n * e.g. \"C4\"\n */\nexport function isNote(arg) {\n    return isString(arg) && /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(arg);\n}\n//# sourceMappingURL=TypeCheck.js.map","import { isUndef } from \"./TypeCheck.js\";\n/**\n * Assert that the statement is true, otherwise invoke the error.\n * @param statement\n * @param error The message which is passed into an Error\n */\nexport function assert(statement, error) {\n    if (!statement) {\n        throw new Error(error);\n    }\n}\n/**\n * Make sure that the given value is within the range\n */\nexport function assertRange(value, gte, lte = Infinity) {\n    if (!(gte <= value && value <= lte)) {\n        throw new RangeError(`Value must be within [${gte}, ${lte}], got: ${value}`);\n    }\n}\n/**\n * Warn if the context is not running.\n */\nexport function assertContextRunning(context) {\n    // add a warning if the context is not started\n    if (!context.isOffline && context.state !== \"running\") {\n        warn('The AudioContext is \"suspended\". Invoke Tone.start() from a user action to start the audio.');\n    }\n}\n/**\n * If it is currently inside a scheduled callback\n */\nlet isInsideScheduledCallback = false;\nlet printedScheduledWarning = false;\n/**\n * Notify that the following block of code is occurring inside a Transport callback.\n */\nexport function enterScheduledCallback(insideCallback) {\n    isInsideScheduledCallback = insideCallback;\n}\n/**\n * Make sure that a time was passed into\n */\nexport function assertUsedScheduleTime(time) {\n    if (isUndef(time) &&\n        isInsideScheduledCallback &&\n        !printedScheduledWarning) {\n        printedScheduledWarning = true;\n        warn(\"Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing\");\n    }\n}\n/**\n * The default logger is the console\n */\nlet defaultLogger = console;\n/**\n * Set the logging interface\n */\nexport function setLogger(logger) {\n    defaultLogger = logger;\n}\n/**\n * Log anything\n */\nexport function log(...args) {\n    defaultLogger.log(...args);\n}\n/**\n * Warn anything\n */\nexport function warn(...args) {\n    defaultLogger.warn(...args);\n}\n//# sourceMappingURL=Debug.js.map","import { AudioContext as stdAudioContext, AudioWorkletNode as stdAudioWorkletNode, OfflineAudioContext as stdOfflineAudioContext, } from \"standardized-audio-context\";\nimport { assert } from \"../util/Debug.js\";\nimport { isDefined } from \"../util/TypeCheck.js\";\n/**\n * Create a new AudioContext\n */\nexport function createAudioContext(options) {\n    return new stdAudioContext(options);\n}\n/**\n * Create a new OfflineAudioContext\n */\nexport function createOfflineAudioContext(channels, length, sampleRate) {\n    return new stdOfflineAudioContext(channels, length, sampleRate);\n}\n/**\n * A reference to the window object\n * @hidden\n */\nexport const theWindow = typeof self === \"object\" ? self : null;\n/**\n * If the browser has a window object which has an AudioContext\n * @hidden\n */\nexport const hasAudioContext = theWindow &&\n    (theWindow.hasOwnProperty(\"AudioContext\") ||\n        theWindow.hasOwnProperty(\"webkitAudioContext\"));\nexport function createAudioWorkletNode(context, name, options) {\n    assert(isDefined(stdAudioWorkletNode), \"AudioWorkletNode only works in a secure context (https or localhost)\");\n    return new (context instanceof (theWindow === null || theWindow === void 0 ? void 0 : theWindow.BaseAudioContext)\n        ? theWindow === null || theWindow === void 0 ? void 0 : theWindow.AudioWorkletNode\n        : stdAudioWorkletNode)(context, name, options);\n}\n/**\n * This promise resolves to a boolean which indicates if the\n * functionality is supported within the currently used browse.\n * Taken from [standardized-audio-context](https://github.com/chrisguttandin/standardized-audio-context#issupported)\n */\nexport { isSupported as supported } from \"standardized-audio-context\";\n//# sourceMappingURL=AudioContext.js.map","/**\n * A class which provides a reliable callback using either\n * a Web Worker, or if that isn't supported, falls back to setTimeout.\n */\nexport class Ticker {\n    constructor(callback, type, updateInterval, contextSampleRate) {\n        this._callback = callback;\n        this._type = type;\n        this._minimumUpdateInterval = Math.max(128 / (contextSampleRate || 44100), 0.001);\n        this.updateInterval = updateInterval;\n        // create the clock source for the first time\n        this._createClock();\n    }\n    /**\n     * Generate a web worker\n     */\n    _createWorker() {\n        const blob = new Blob([\n            /* javascript */ `\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(this._updateInterval * 1000).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`,\n        ], { type: \"text/javascript\" });\n        const blobUrl = URL.createObjectURL(blob);\n        const worker = new Worker(blobUrl);\n        worker.onmessage = this._callback.bind(this);\n        this._worker = worker;\n    }\n    /**\n     * Create a timeout loop\n     */\n    _createTimeout() {\n        this._timeout = setTimeout(() => {\n            this._createTimeout();\n            this._callback();\n        }, this._updateInterval * 1000);\n    }\n    /**\n     * Create the clock source.\n     */\n    _createClock() {\n        if (this._type === \"worker\") {\n            try {\n                this._createWorker();\n            }\n            catch (e) {\n                // workers not supported, fallback to timeout\n                this._type = \"timeout\";\n                this._createClock();\n            }\n        }\n        else if (this._type === \"timeout\") {\n            this._createTimeout();\n        }\n    }\n    /**\n     * Clean up the current clock source\n     */\n    _disposeClock() {\n        if (this._timeout) {\n            clearTimeout(this._timeout);\n        }\n        if (this._worker) {\n            this._worker.terminate();\n            this._worker.onmessage = null;\n        }\n    }\n    /**\n     * The rate in seconds the ticker will update\n     */\n    get updateInterval() {\n        return this._updateInterval;\n    }\n    set updateInterval(interval) {\n        var _a;\n        this._updateInterval = Math.max(interval, this._minimumUpdateInterval);\n        if (this._type === \"worker\") {\n            (_a = this._worker) === null || _a === void 0 ? void 0 : _a.postMessage(this._updateInterval * 1000);\n        }\n    }\n    /**\n     * The type of the ticker, either a worker or a timeout\n     */\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._disposeClock();\n        this._type = type;\n        this._createClock();\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        this._disposeClock();\n    }\n}\n//# sourceMappingURL=Ticker.js.map","import { AudioBuffer, isAnyAudioContext, isAnyAudioNode, isAnyAudioParam, isAnyOfflineAudioContext, } from \"standardized-audio-context\";\n/**\n * Test if the given value is an instanceof AudioParam\n */\nexport function isAudioParam(arg) {\n    return isAnyAudioParam(arg);\n}\n/**\n * Test if the given value is an instanceof AudioNode\n */\nexport function isAudioNode(arg) {\n    return isAnyAudioNode(arg);\n}\n/**\n * Test if the arg is instanceof an OfflineAudioContext\n */\nexport function isOfflineAudioContext(arg) {\n    return isAnyOfflineAudioContext(arg);\n}\n/**\n * Test if the arg is an instanceof AudioContext\n */\nexport function isAudioContext(arg) {\n    return isAnyAudioContext(arg);\n}\n/**\n * Test if the arg is instanceof an AudioBuffer\n */\nexport function isAudioBuffer(arg) {\n    return arg instanceof AudioBuffer;\n}\n//# sourceMappingURL=AdvancedTypeCheck.js.map","import { isAudioBuffer, isAudioNode, isAudioParam, } from \"./AdvancedTypeCheck.js\";\nimport { isDefined, isObject, isUndef } from \"./TypeCheck.js\";\n/**\n * Some objects should not be merged\n */\nfunction noCopy(key, arg) {\n    return (key === \"value\" ||\n        isAudioParam(arg) ||\n        isAudioNode(arg) ||\n        isAudioBuffer(arg));\n}\n/**\n * Recursively merge an object\n * @param target the object to merge into\n * @param sources the source objects to merge\n */\nexport function deepMerge(target, ...sources) {\n    if (!sources.length) {\n        return target;\n    }\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (noCopy(key, source[key])) {\n                target[key] = source[key];\n            }\n            else if (isObject(source[key])) {\n                if (!target[key]) {\n                    Object.assign(target, { [key]: {} });\n                }\n                deepMerge(target[key], source[key]);\n            }\n            else {\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n    // @ts-ignore\n    return deepMerge(target, ...sources);\n}\n/**\n * Returns true if the two arrays have the same value for each of the elements\n */\nexport function deepEquals(arrayA, arrayB) {\n    return (arrayA.length === arrayB.length &&\n        arrayA.every((element, index) => arrayB[index] === element));\n}\n/**\n * Convert an args array into an object.\n * @internal\n */\nexport function optionsFromArguments(defaults, argsArray, keys = [], objKey) {\n    const opts = {};\n    const args = Array.from(argsArray);\n    // if the first argument is an object and has an object key\n    if (isObject(args[0]) && objKey && !Reflect.has(args[0], objKey)) {\n        // if it's not part of the defaults\n        const partOfDefaults = Object.keys(args[0]).some((key) => Reflect.has(defaults, key));\n        if (!partOfDefaults) {\n            // merge that key\n            deepMerge(opts, { [objKey]: args[0] });\n            // remove the obj key from the keys\n            keys.splice(keys.indexOf(objKey), 1);\n            // shift the first argument off\n            args.shift();\n        }\n    }\n    if (args.length === 1 && isObject(args[0])) {\n        deepMerge(opts, args[0]);\n    }\n    else {\n        for (let i = 0; i < keys.length; i++) {\n            if (isDefined(args[i])) {\n                opts[keys[i]] = args[i];\n            }\n        }\n    }\n    return deepMerge(defaults, opts);\n}\n/**\n * Return this instances default values by calling Constructor.getDefaults()\n */\nexport function getDefaultsFromInstance(instance) {\n    return instance.constructor.getDefaults();\n}\n/**\n * Returns the fallback if the given object is undefined.\n * Take an array of arguments and return a formatted options object.\n * @internal\n */\nexport function defaultArg(given, fallback) {\n    if (isUndef(given)) {\n        return fallback;\n    }\n    else {\n        return given;\n    }\n}\n/**\n * Remove all of the properties belonging to omit from obj.\n */\nexport function omitFromObject(obj, omit) {\n    omit.forEach((prop) => {\n        if (Reflect.has(obj, prop)) {\n            delete obj[prop];\n        }\n    });\n    return obj;\n}\n//# sourceMappingURL=Defaults.js.map","/**\n * Tone.js\n * @author Yotam Mann\n * @license http://opensource.org/licenses/MIT MIT License\n * @copyright 2014-2024 Yotam Mann\n */\nimport { version } from \"../version.js\";\nimport { theWindow } from \"./context/AudioContext.js\";\nimport { log } from \"./util/Debug.js\";\n/**\n * Tone is the base class of all other classes.\n *\n * @category Core\n * @constructor\n */\nexport class Tone {\n    constructor() {\n        //-------------------------------------\n        // \tDEBUGGING\n        //-------------------------------------\n        /**\n         * Set this debug flag to log all events that happen in this class.\n         */\n        this.debug = false;\n        //-------------------------------------\n        // \tDISPOSING\n        //-------------------------------------\n        /**\n         * Indicates if the instance was disposed\n         */\n        this._wasDisposed = false;\n    }\n    /**\n     * Returns all of the default options belonging to the class.\n     */\n    static getDefaults() {\n        return {};\n    }\n    /**\n     * Prints the outputs to the console log for debugging purposes.\n     * Prints the contents only if either the object has a property\n     * called `debug` set to true, or a variable called TONE_DEBUG_CLASS\n     * is set to the name of the class.\n     * @example\n     * const osc = new Tone.Oscillator();\n     * // prints all logs originating from this oscillator\n     * osc.debug = true;\n     * // calls to start/stop will print in the console\n     * osc.start();\n     */\n    log(...args) {\n        // if the object is either set to debug = true\n        // or if there is a string on the Tone.global.with the class name\n        if (this.debug ||\n            (theWindow && this.toString() === theWindow.TONE_DEBUG_CLASS)) {\n            log(this, ...args);\n        }\n    }\n    /**\n     * disconnect and dispose.\n     */\n    dispose() {\n        this._wasDisposed = true;\n        return this;\n    }\n    /**\n     * Indicates if the instance was disposed. 'Disposing' an\n     * instance means that all of the Web Audio nodes that were\n     * created for the instance are disconnected and freed for garbage collection.\n     */\n    get disposed() {\n        return this._wasDisposed;\n    }\n    /**\n     * Convert the class to a string\n     * @example\n     * const osc = new Tone.Oscillator();\n     * console.log(osc.toString());\n     */\n    toString() {\n        return this.name;\n    }\n}\n/**\n * The version number semver\n */\nTone.version = version;\n//# sourceMappingURL=Tone.js.map","/**\n * The threshold for correctness for operators. Less than one sample even\n * at very high sampling rates (e.g. `1e-6 < 1 / 192000`).\n */\nconst EPSILON = 1e-6;\n/**\n * Test if A is greater than B\n */\nexport function GT(a, b) {\n    return a > b + EPSILON;\n}\n/**\n * Test if A is greater than or equal to B\n */\nexport function GTE(a, b) {\n    return GT(a, b) || EQ(a, b);\n}\n/**\n * Test if A is less than B\n */\nexport function LT(a, b) {\n    return a + EPSILON < b;\n}\n/**\n * Test if A is less than B\n */\nexport function EQ(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\n/**\n * Clamp the value within the given range\n */\nexport function clamp(value, min, max) {\n    return Math.max(Math.min(value, max), min);\n}\n//# sourceMappingURL=Math.js.map","import { Tone } from \"../Tone.js\";\nimport { optionsFromArguments } from \"./Defaults.js\";\nimport { assert } from \"./Debug.js\";\nimport { EQ, GT, GTE, LT } from \"./Math.js\";\n/**\n * A Timeline class for scheduling and maintaining state\n * along a timeline. All events must have a \"time\" property.\n * Internally, events are stored in time order for fast\n * retrieval.\n * @internal\n */\nexport class Timeline extends Tone {\n    constructor() {\n        super();\n        this.name = \"Timeline\";\n        /**\n         * The array of scheduled timeline events\n         */\n        this._timeline = [];\n        const options = optionsFromArguments(Timeline.getDefaults(), arguments, [\"memory\"]);\n        this.memory = options.memory;\n        this.increasing = options.increasing;\n    }\n    static getDefaults() {\n        return {\n            memory: Infinity,\n            increasing: false,\n        };\n    }\n    /**\n     * The number of items in the timeline.\n     */\n    get length() {\n        return this._timeline.length;\n    }\n    /**\n     * Insert an event object onto the timeline. Events must have a \"time\" attribute.\n     * @param event  The event object to insert into the timeline.\n     */\n    add(event) {\n        // the event needs to have a time attribute\n        assert(Reflect.has(event, \"time\"), \"Timeline: events must have a time attribute\");\n        event.time = event.time.valueOf();\n        if (this.increasing && this.length) {\n            const lastValue = this._timeline[this.length - 1];\n            assert(GTE(event.time, lastValue.time), \"The time must be greater than or equal to the last scheduled time\");\n            this._timeline.push(event);\n        }\n        else {\n            const index = this._search(event.time);\n            this._timeline.splice(index + 1, 0, event);\n        }\n        // if the length is more than the memory, remove the previous ones\n        if (this.length > this.memory) {\n            const diff = this.length - this.memory;\n            this._timeline.splice(0, diff);\n        }\n        return this;\n    }\n    /**\n     * Remove an event from the timeline.\n     * @param  {Object}  event  The event object to remove from the list.\n     * @returns {Timeline} this\n     */\n    remove(event) {\n        const index = this._timeline.indexOf(event);\n        if (index !== -1) {\n            this._timeline.splice(index, 1);\n        }\n        return this;\n    }\n    /**\n     * Get the nearest event whose time is less than or equal to the given time.\n     * @param  time  The time to query.\n     */\n    get(time, param = \"time\") {\n        const index = this._search(time, param);\n        if (index !== -1) {\n            return this._timeline[index];\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Return the first event in the timeline without removing it\n     * @returns {Object} The first event object\n     * @deprecated\n     */\n    peek() {\n        return this._timeline[0];\n    }\n    /**\n     * Return the first event in the timeline and remove it\n     * @deprecated\n     */\n    shift() {\n        return this._timeline.shift();\n    }\n    /**\n     * Get the event which is scheduled after the given time.\n     * @param  time  The time to query.\n     */\n    getAfter(time, param = \"time\") {\n        const index = this._search(time, param);\n        if (index + 1 < this._timeline.length) {\n            return this._timeline[index + 1];\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Get the event before the event at the given time.\n     * @param  time  The time to query.\n     */\n    getBefore(time) {\n        const len = this._timeline.length;\n        // if it's after the last item, return the last item\n        if (len > 0 && this._timeline[len - 1].time < time) {\n            return this._timeline[len - 1];\n        }\n        const index = this._search(time);\n        if (index - 1 >= 0) {\n            return this._timeline[index - 1];\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Cancel events at and after the given time\n     * @param  after  The time to query.\n     */\n    cancel(after) {\n        if (this._timeline.length > 1) {\n            let index = this._search(after);\n            if (index >= 0) {\n                if (EQ(this._timeline[index].time, after)) {\n                    // get the first item with that time\n                    for (let i = index; i >= 0; i--) {\n                        if (EQ(this._timeline[i].time, after)) {\n                            index = i;\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                    this._timeline = this._timeline.slice(0, index);\n                }\n                else {\n                    this._timeline = this._timeline.slice(0, index + 1);\n                }\n            }\n            else {\n                this._timeline = [];\n            }\n        }\n        else if (this._timeline.length === 1) {\n            // the first item's time\n            if (GTE(this._timeline[0].time, after)) {\n                this._timeline = [];\n            }\n        }\n        return this;\n    }\n    /**\n     * Cancel events before or equal to the given time.\n     * @param  time  The time to cancel before.\n     */\n    cancelBefore(time) {\n        const index = this._search(time);\n        if (index >= 0) {\n            this._timeline = this._timeline.slice(index + 1);\n        }\n        return this;\n    }\n    /**\n     * Returns the previous event if there is one. null otherwise\n     * @param  event The event to find the previous one of\n     * @return The event right before the given event\n     */\n    previousEvent(event) {\n        const index = this._timeline.indexOf(event);\n        if (index > 0) {\n            return this._timeline[index - 1];\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Does a binary search on the timeline array and returns the\n     * nearest event index whose time is after or equal to the given time.\n     * If a time is searched before the first index in the timeline, -1 is returned.\n     * If the time is after the end, the index of the last item is returned.\n     */\n    _search(time, param = \"time\") {\n        if (this._timeline.length === 0) {\n            return -1;\n        }\n        let beginning = 0;\n        const len = this._timeline.length;\n        let end = len;\n        if (len > 0 && this._timeline[len - 1][param] <= time) {\n            return len - 1;\n        }\n        while (beginning < end) {\n            // calculate the midpoint for roughly equal partition\n            let midPoint = Math.floor(beginning + (end - beginning) / 2);\n            const event = this._timeline[midPoint];\n            const nextEvent = this._timeline[midPoint + 1];\n            if (EQ(event[param], time)) {\n                // choose the last one that has the same time\n                for (let i = midPoint; i < this._timeline.length; i++) {\n                    const testEvent = this._timeline[i];\n                    if (EQ(testEvent[param], time)) {\n                        midPoint = i;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                return midPoint;\n            }\n            else if (LT(event[param], time) && GT(nextEvent[param], time)) {\n                return midPoint;\n            }\n            else if (GT(event[param], time)) {\n                // search lower\n                end = midPoint;\n            }\n            else {\n                // search upper\n                beginning = midPoint + 1;\n            }\n        }\n        return -1;\n    }\n    /**\n     * Internal iterator. Applies extra safety checks for\n     * removing items from the array.\n     */\n    _iterate(callback, lowerBound = 0, upperBound = this._timeline.length - 1) {\n        this._timeline.slice(lowerBound, upperBound + 1).forEach(callback);\n    }\n    /**\n     * Iterate over everything in the array\n     * @param  callback The callback to invoke with every item\n     */\n    forEach(callback) {\n        this._iterate(callback);\n        return this;\n    }\n    /**\n     * Iterate over everything in the array at or before the given time.\n     * @param  time The time to check if items are before\n     * @param  callback The callback to invoke with every item\n     */\n    forEachBefore(time, callback) {\n        // iterate over the items in reverse so that removing an item doesn't break things\n        const upperBound = this._search(time);\n        if (upperBound !== -1) {\n            this._iterate(callback, 0, upperBound);\n        }\n        return this;\n    }\n    /**\n     * Iterate over everything in the array after the given time.\n     * @param  time The time to check if items are before\n     * @param  callback The callback to invoke with every item\n     */\n    forEachAfter(time, callback) {\n        // iterate over the items in reverse so that removing an item doesn't break things\n        const lowerBound = this._search(time);\n        this._iterate(callback, lowerBound + 1);\n        return this;\n    }\n    /**\n     * Iterate over everything in the array between the startTime and endTime.\n     * The timerange is inclusive of the startTime, but exclusive of the endTime.\n     * range = [startTime, endTime).\n     * @param  startTime The time to check if items are before\n     * @param  endTime The end of the test interval.\n     * @param  callback The callback to invoke with every item\n     */\n    forEachBetween(startTime, endTime, callback) {\n        let lowerBound = this._search(startTime);\n        let upperBound = this._search(endTime);\n        if (lowerBound !== -1 && upperBound !== -1) {\n            if (this._timeline[lowerBound].time !== startTime) {\n                lowerBound += 1;\n            }\n            // exclusive of the end time\n            if (this._timeline[upperBound].time === endTime) {\n                upperBound -= 1;\n            }\n            this._iterate(callback, lowerBound, upperBound);\n        }\n        else if (lowerBound === -1) {\n            this._iterate(callback, 0, upperBound);\n        }\n        return this;\n    }\n    /**\n     * Iterate over everything in the array at or after the given time. Similar to\n     * forEachAfter, but includes the item(s) at the given time.\n     * @param  time The time to check if items are before\n     * @param  callback The callback to invoke with every item\n     */\n    forEachFrom(time, callback) {\n        // iterate over the items in reverse so that removing an item doesn't break things\n        let lowerBound = this._search(time);\n        // work backwards until the event time is less than time\n        while (lowerBound >= 0 && this._timeline[lowerBound].time >= time) {\n            lowerBound--;\n        }\n        this._iterate(callback, lowerBound + 1);\n        return this;\n    }\n    /**\n     * Iterate over everything in the array at the given time\n     * @param  time The time to check if items are before\n     * @param  callback The callback to invoke with every item\n     */\n    forEachAtTime(time, callback) {\n        // iterate over the items in reverse so that removing an item doesn't break things\n        const upperBound = this._search(time);\n        if (upperBound !== -1 && EQ(this._timeline[upperBound].time, time)) {\n            let lowerBound = upperBound;\n            for (let i = upperBound; i >= 0; i--) {\n                if (EQ(this._timeline[i].time, time)) {\n                    lowerBound = i;\n                }\n                else {\n                    break;\n                }\n            }\n            this._iterate((event) => {\n                callback(event);\n            }, lowerBound, upperBound);\n        }\n        return this;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._timeline = [];\n        return this;\n    }\n}\n//# sourceMappingURL=Timeline.js.map","/**\n * Array of callbacks to invoke when a new context is created\n */\nconst notifyNewContext = [];\n/**\n * Used internally to setup a new Context\n */\nexport function onContextInit(cb) {\n    notifyNewContext.push(cb);\n}\n/**\n * Invoke any classes which need to also be initialized when a new context is created.\n */\nexport function initializeContext(ctx) {\n    // add any additional modules\n    notifyNewContext.forEach((cb) => cb(ctx));\n}\n/**\n * Array of callbacks to invoke when a new context is closed\n */\nconst notifyCloseContext = [];\n/**\n * Used internally to tear down a Context\n */\nexport function onContextClose(cb) {\n    notifyCloseContext.push(cb);\n}\nexport function closeContext(ctx) {\n    // remove any additional modules\n    notifyCloseContext.forEach((cb) => cb(ctx));\n}\n//# sourceMappingURL=ContextInitialization.js.map","import { Tone } from \"../Tone.js\";\nimport { isUndef } from \"./TypeCheck.js\";\n/**\n * Emitter gives classes which extend it\n * the ability to listen for and emit events.\n * Inspiration and reference from Jerome Etienne's [MicroEvent](https://github.com/jeromeetienne/microevent.js).\n * MIT (c) 2011 Jerome Etienne.\n * @category Core\n */\nexport class Emitter extends Tone {\n    constructor() {\n        super(...arguments);\n        this.name = \"Emitter\";\n    }\n    /**\n     * Bind a callback to a specific event.\n     * @param  event     The name of the event to listen for.\n     * @param  callback  The callback to invoke when the event is emitted\n     */\n    on(event, callback) {\n        // split the event\n        const events = event.split(/\\W+/);\n        events.forEach((eventName) => {\n            if (isUndef(this._events)) {\n                this._events = {};\n            }\n            if (!this._events.hasOwnProperty(eventName)) {\n                this._events[eventName] = [];\n            }\n            this._events[eventName].push(callback);\n        });\n        return this;\n    }\n    /**\n     * Bind a callback which is only invoked once\n     * @param  event     The name of the event to listen for.\n     * @param  callback  The callback to invoke when the event is emitted\n     */\n    once(event, callback) {\n        const boundCallback = (...args) => {\n            // invoke the callback\n            callback(...args);\n            // remove the event\n            this.off(event, boundCallback);\n        };\n        this.on(event, boundCallback);\n        return this;\n    }\n    /**\n     * Remove the event listener.\n     * @param  event     The event to stop listening to.\n     * @param  callback  The callback which was bound to the event with Emitter.on.\n     *                   If no callback is given, all callbacks events are removed.\n     */\n    off(event, callback) {\n        const events = event.split(/\\W+/);\n        events.forEach((eventName) => {\n            if (isUndef(this._events)) {\n                this._events = {};\n            }\n            if (this._events.hasOwnProperty(eventName)) {\n                if (isUndef(callback)) {\n                    this._events[eventName] = [];\n                }\n                else {\n                    const eventList = this._events[eventName];\n                    for (let i = eventList.length - 1; i >= 0; i--) {\n                        if (eventList[i] === callback) {\n                            eventList.splice(i, 1);\n                        }\n                    }\n                }\n            }\n        });\n        return this;\n    }\n    /**\n     * Invoke all of the callbacks bound to the event\n     * with any arguments passed in.\n     * @param  event  The name of the event.\n     * @param args The arguments to pass to the functions listening.\n     */\n    emit(event, ...args) {\n        if (this._events) {\n            if (this._events.hasOwnProperty(event)) {\n                const eventList = this._events[event].slice(0);\n                for (let i = 0, len = eventList.length; i < len; i++) {\n                    eventList[i].apply(this, args);\n                }\n            }\n        }\n        return this;\n    }\n    /**\n     * Add Emitter functions (on/off/emit) to the object\n     */\n    static mixin(constr) {\n        // instance._events = {};\n        [\"on\", \"once\", \"off\", \"emit\"].forEach((name) => {\n            const property = Object.getOwnPropertyDescriptor(Emitter.prototype, name);\n            Object.defineProperty(constr.prototype, name, property);\n        });\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this._events = undefined;\n        return this;\n    }\n}\n//# sourceMappingURL=Emitter.js.map","import { Emitter } from \"../util/Emitter.js\";\nexport class BaseContext extends Emitter {\n    constructor() {\n        super(...arguments);\n        this.isOffline = false;\n    }\n    /*\n     * This is a placeholder so that JSON.stringify does not throw an error\n     * This matches what JSON.stringify(audioContext) returns on a native\n     * audioContext instance.\n     */\n    toJSON() {\n        return {};\n    }\n}\n//# sourceMappingURL=BaseContext.js.map","import { __awaiter } from \"tslib\";\nimport { Ticker } from \"../clock/Ticker.js\";\nimport { isAudioContext } from \"../util/AdvancedTypeCheck.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { Timeline } from \"../util/Timeline.js\";\nimport { isDefined } from \"../util/TypeCheck.js\";\nimport { createAudioContext, createAudioWorkletNode, } from \"./AudioContext.js\";\nimport { closeContext, initializeContext } from \"./ContextInitialization.js\";\nimport { BaseContext } from \"./BaseContext.js\";\nimport { assert } from \"../util/Debug.js\";\n/**\n * Wrapper around the native AudioContext.\n * @category Core\n */\nexport class Context extends BaseContext {\n    constructor() {\n        var _a, _b;\n        super();\n        this.name = \"Context\";\n        /**\n         * An object containing all of the constants AudioBufferSourceNodes\n         */\n        this._constants = new Map();\n        /**\n         * All of the setTimeout events.\n         */\n        this._timeouts = new Timeline();\n        /**\n         * The timeout id counter\n         */\n        this._timeoutIds = 0;\n        /**\n         * Private indicator if the context has been initialized\n         */\n        this._initialized = false;\n        /**\n         * Private indicator if a close() has been called on the context, since close is async\n         */\n        this._closeStarted = false;\n        /**\n         * Indicates if the context is an OfflineAudioContext or an AudioContext\n         */\n        this.isOffline = false;\n        //--------------------------------------------\n        // AUDIO WORKLET\n        //--------------------------------------------\n        /**\n         * Maps a module name to promise of the addModule method\n         */\n        this._workletPromise = null;\n        const options = optionsFromArguments(Context.getDefaults(), arguments, [\n            \"context\",\n        ]);\n        if (options.context) {\n            this._context = options.context;\n            // custom context provided, latencyHint unknown (unless explicitly provided in options)\n            this._latencyHint = ((_a = arguments[0]) === null || _a === void 0 ? void 0 : _a.latencyHint) || \"\";\n        }\n        else {\n            this._context = createAudioContext({\n                latencyHint: options.latencyHint,\n            });\n            this._latencyHint = options.latencyHint;\n        }\n        this._ticker = new Ticker(this.emit.bind(this, \"tick\"), options.clockSource, options.updateInterval, this._context.sampleRate);\n        this.on(\"tick\", this._timeoutLoop.bind(this));\n        // fwd events from the context\n        this._context.onstatechange = () => {\n            this.emit(\"statechange\", this.state);\n        };\n        // if no custom updateInterval provided, updateInterval will be derived by lookAhead setter\n        this[((_b = arguments[0]) === null || _b === void 0 ? void 0 : _b.hasOwnProperty(\"updateInterval\"))\n            ? \"_lookAhead\"\n            : \"lookAhead\"] = options.lookAhead;\n    }\n    static getDefaults() {\n        return {\n            clockSource: \"worker\",\n            latencyHint: \"interactive\",\n            lookAhead: 0.1,\n            updateInterval: 0.05,\n        };\n    }\n    /**\n     * Finish setting up the context. **You usually do not need to do this manually.**\n     */\n    initialize() {\n        if (!this._initialized) {\n            // add any additional modules\n            initializeContext(this);\n            this._initialized = true;\n        }\n        return this;\n    }\n    //---------------------------\n    // BASE AUDIO CONTEXT METHODS\n    //---------------------------\n    createAnalyser() {\n        return this._context.createAnalyser();\n    }\n    createOscillator() {\n        return this._context.createOscillator();\n    }\n    createBufferSource() {\n        return this._context.createBufferSource();\n    }\n    createBiquadFilter() {\n        return this._context.createBiquadFilter();\n    }\n    createBuffer(numberOfChannels, length, sampleRate) {\n        return this._context.createBuffer(numberOfChannels, length, sampleRate);\n    }\n    createChannelMerger(numberOfInputs) {\n        return this._context.createChannelMerger(numberOfInputs);\n    }\n    createChannelSplitter(numberOfOutputs) {\n        return this._context.createChannelSplitter(numberOfOutputs);\n    }\n    createConstantSource() {\n        return this._context.createConstantSource();\n    }\n    createConvolver() {\n        return this._context.createConvolver();\n    }\n    createDelay(maxDelayTime) {\n        return this._context.createDelay(maxDelayTime);\n    }\n    createDynamicsCompressor() {\n        return this._context.createDynamicsCompressor();\n    }\n    createGain() {\n        return this._context.createGain();\n    }\n    createIIRFilter(feedForward, feedback) {\n        // @ts-ignore\n        return this._context.createIIRFilter(feedForward, feedback);\n    }\n    createPanner() {\n        return this._context.createPanner();\n    }\n    createPeriodicWave(real, imag, constraints) {\n        return this._context.createPeriodicWave(real, imag, constraints);\n    }\n    createStereoPanner() {\n        return this._context.createStereoPanner();\n    }\n    createWaveShaper() {\n        return this._context.createWaveShaper();\n    }\n    createMediaStreamSource(stream) {\n        assert(isAudioContext(this._context), \"Not available if OfflineAudioContext\");\n        const context = this._context;\n        return context.createMediaStreamSource(stream);\n    }\n    createMediaElementSource(element) {\n        assert(isAudioContext(this._context), \"Not available if OfflineAudioContext\");\n        const context = this._context;\n        return context.createMediaElementSource(element);\n    }\n    createMediaStreamDestination() {\n        assert(isAudioContext(this._context), \"Not available if OfflineAudioContext\");\n        const context = this._context;\n        return context.createMediaStreamDestination();\n    }\n    decodeAudioData(audioData) {\n        return this._context.decodeAudioData(audioData);\n    }\n    /**\n     * The current time in seconds of the AudioContext.\n     */\n    get currentTime() {\n        return this._context.currentTime;\n    }\n    /**\n     * The current time in seconds of the AudioContext.\n     */\n    get state() {\n        return this._context.state;\n    }\n    /**\n     * The current time in seconds of the AudioContext.\n     */\n    get sampleRate() {\n        return this._context.sampleRate;\n    }\n    /**\n     * The listener\n     */\n    get listener() {\n        this.initialize();\n        return this._listener;\n    }\n    set listener(l) {\n        assert(!this._initialized, \"The listener cannot be set after initialization.\");\n        this._listener = l;\n    }\n    /**\n     * There is only one Transport per Context. It is created on initialization.\n     */\n    get transport() {\n        this.initialize();\n        return this._transport;\n    }\n    set transport(t) {\n        assert(!this._initialized, \"The transport cannot be set after initialization.\");\n        this._transport = t;\n    }\n    /**\n     * This is the Draw object for the context which is useful for synchronizing the draw frame with the Tone.js clock.\n     */\n    get draw() {\n        this.initialize();\n        return this._draw;\n    }\n    set draw(d) {\n        assert(!this._initialized, \"Draw cannot be set after initialization.\");\n        this._draw = d;\n    }\n    /**\n     * A reference to the Context's destination node.\n     */\n    get destination() {\n        this.initialize();\n        return this._destination;\n    }\n    set destination(d) {\n        assert(!this._initialized, \"The destination cannot be set after initialization.\");\n        this._destination = d;\n    }\n    /**\n     * Create an audio worklet node from a name and options. The module\n     * must first be loaded using {@link addAudioWorkletModule}.\n     */\n    createAudioWorkletNode(name, options) {\n        return createAudioWorkletNode(this.rawContext, name, options);\n    }\n    /**\n     * Add an AudioWorkletProcessor module\n     * @param url The url of the module\n     */\n    addAudioWorkletModule(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            assert(isDefined(this.rawContext.audioWorklet), \"AudioWorkletNode is only available in a secure context (https or localhost)\");\n            if (!this._workletPromise) {\n                this._workletPromise = this.rawContext.audioWorklet.addModule(url);\n            }\n            yield this._workletPromise;\n        });\n    }\n    /**\n     * Returns a promise which resolves when all of the worklets have been loaded on this context\n     */\n    workletsAreReady() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (yield this._workletPromise) ? this._workletPromise : Promise.resolve();\n        });\n    }\n    //---------------------------\n    // TICKER\n    //---------------------------\n    /**\n     * How often the interval callback is invoked.\n     * This number corresponds to how responsive the scheduling\n     * can be. Setting to 0 will result in the lowest practial interval\n     * based on context properties. context.updateInterval + context.lookAhead\n     * gives you the total latency between scheduling an event and hearing it.\n     */\n    get updateInterval() {\n        return this._ticker.updateInterval;\n    }\n    set updateInterval(interval) {\n        this._ticker.updateInterval = interval;\n    }\n    /**\n     * What the source of the clock is, either \"worker\" (default),\n     * \"timeout\", or \"offline\" (none).\n     */\n    get clockSource() {\n        return this._ticker.type;\n    }\n    set clockSource(type) {\n        this._ticker.type = type;\n    }\n    /**\n     * The amount of time into the future events are scheduled. Giving Web Audio\n     * a short amount of time into the future to schedule events can reduce clicks and\n     * improve performance. This value can be set to 0 to get the lowest latency.\n     * Adjusting this value also affects the {@link updateInterval}.\n     */\n    get lookAhead() {\n        return this._lookAhead;\n    }\n    set lookAhead(time) {\n        this._lookAhead = time;\n        // if lookAhead is 0, default to .01 updateInterval\n        this.updateInterval = time ? time / 2 : 0.01;\n    }\n    /**\n     * The type of playback, which affects tradeoffs between audio\n     * output latency and responsiveness.\n     * In addition to setting the value in seconds, the latencyHint also\n     * accepts the strings \"interactive\" (prioritizes low latency),\n     * \"playback\" (prioritizes sustained playback), \"balanced\" (balances\n     * latency and performance).\n     * @example\n     * // prioritize sustained playback\n     * const context = new Tone.Context({ latencyHint: \"playback\" });\n     * // set this context as the global Context\n     * Tone.setContext(context);\n     * // the global context is gettable with Tone.getContext()\n     * console.log(Tone.getContext().latencyHint);\n     */\n    get latencyHint() {\n        return this._latencyHint;\n    }\n    /**\n     * The unwrapped AudioContext or OfflineAudioContext\n     */\n    get rawContext() {\n        return this._context;\n    }\n    /**\n     * The current audio context time plus a short {@link lookAhead}.\n     * @example\n     * setInterval(() => {\n     * \tconsole.log(\"now\", Tone.now());\n     * }, 100);\n     */\n    now() {\n        return this._context.currentTime + this._lookAhead;\n    }\n    /**\n     * The current audio context time without the {@link lookAhead}.\n     * In most cases it is better to use {@link now} instead of {@link immediate} since\n     * with {@link now} the {@link lookAhead} is applied equally to _all_ components including internal components,\n     * to making sure that everything is scheduled in sync. Mixing {@link now} and {@link immediate}\n     * can cause some timing issues. If no lookAhead is desired, you can set the {@link lookAhead} to `0`.\n     */\n    immediate() {\n        return this._context.currentTime;\n    }\n    /**\n     * Starts the audio context from a suspended state. This is required\n     * to initially start the AudioContext.\n     * @see {@link start}\n     */\n    resume() {\n        if (isAudioContext(this._context)) {\n            return this._context.resume();\n        }\n        else {\n            return Promise.resolve();\n        }\n    }\n    /**\n     * Close the context. Once closed, the context can no longer be used and\n     * any AudioNodes created from the context will be silent.\n     */\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (isAudioContext(this._context) &&\n                this.state !== \"closed\" &&\n                !this._closeStarted) {\n                this._closeStarted = true;\n                yield this._context.close();\n            }\n            if (this._initialized) {\n                closeContext(this);\n            }\n        });\n    }\n    /**\n     * **Internal** Generate a looped buffer at some constant value.\n     */\n    getConstant(val) {\n        if (this._constants.has(val)) {\n            return this._constants.get(val);\n        }\n        else {\n            const buffer = this._context.createBuffer(1, 128, this._context.sampleRate);\n            const arr = buffer.getChannelData(0);\n            for (let i = 0; i < arr.length; i++) {\n                arr[i] = val;\n            }\n            const constant = this._context.createBufferSource();\n            constant.channelCount = 1;\n            constant.channelCountMode = \"explicit\";\n            constant.buffer = buffer;\n            constant.loop = true;\n            constant.start(0);\n            this._constants.set(val, constant);\n            return constant;\n        }\n    }\n    /**\n     * Clean up. Also closes the audio context.\n     */\n    dispose() {\n        super.dispose();\n        this._ticker.dispose();\n        this._timeouts.dispose();\n        Object.keys(this._constants).map((val) => this._constants[val].disconnect());\n        this.close();\n        return this;\n    }\n    //---------------------------\n    // TIMEOUTS\n    //---------------------------\n    /**\n     * The private loop which keeps track of the context scheduled timeouts\n     * Is invoked from the clock source\n     */\n    _timeoutLoop() {\n        const now = this.now();\n        this._timeouts.forEachBefore(now, (event) => {\n            // invoke the callback\n            event.callback();\n            this._timeouts.remove(event);\n        });\n    }\n    /**\n     * A setTimeout which is guaranteed by the clock source.\n     * Also runs in the offline context.\n     * @param  fn       The callback to invoke\n     * @param  timeout  The timeout in seconds\n     * @returns ID to use when invoking Context.clearTimeout\n     */\n    setTimeout(fn, timeout) {\n        this._timeoutIds++;\n        const now = this.now();\n        this._timeouts.add({\n            callback: fn,\n            id: this._timeoutIds,\n            time: now + timeout,\n        });\n        return this._timeoutIds;\n    }\n    /**\n     * Clears a previously scheduled timeout with Tone.context.setTimeout\n     * @param  id  The ID returned from setTimeout\n     */\n    clearTimeout(id) {\n        this._timeouts.forEach((event) => {\n            if (event.id === id) {\n                this._timeouts.remove(event);\n            }\n        });\n        return this;\n    }\n    /**\n     * Clear the function scheduled by {@link setInterval}\n     */\n    clearInterval(id) {\n        return this.clearTimeout(id);\n    }\n    /**\n     * Adds a repeating event to the context's callback clock\n     */\n    setInterval(fn, interval) {\n        const id = ++this._timeoutIds;\n        const intervalFn = () => {\n            const now = this.now();\n            this._timeouts.add({\n                callback: () => {\n                    // invoke the callback\n                    fn();\n                    // invoke the event to repeat it\n                    intervalFn();\n                },\n                id,\n                time: now + interval,\n            });\n        };\n        // kick it off\n        intervalFn();\n        return id;\n    }\n}\n//# sourceMappingURL=Context.js.map","import { __awaiter } from \"tslib\";\nimport { BaseContext } from \"./BaseContext.js\";\nexport class DummyContext extends BaseContext {\n    constructor() {\n        super(...arguments);\n        this.lookAhead = 0;\n        this.latencyHint = 0;\n        this.isOffline = false;\n    }\n    //---------------------------\n    // BASE AUDIO CONTEXT METHODS\n    //---------------------------\n    createAnalyser() {\n        return {};\n    }\n    createOscillator() {\n        return {};\n    }\n    createBufferSource() {\n        return {};\n    }\n    createBiquadFilter() {\n        return {};\n    }\n    createBuffer(_numberOfChannels, _length, _sampleRate) {\n        return {};\n    }\n    createChannelMerger(_numberOfInputs) {\n        return {};\n    }\n    createChannelSplitter(_numberOfOutputs) {\n        return {};\n    }\n    createConstantSource() {\n        return {};\n    }\n    createConvolver() {\n        return {};\n    }\n    createDelay(_maxDelayTime) {\n        return {};\n    }\n    createDynamicsCompressor() {\n        return {};\n    }\n    createGain() {\n        return {};\n    }\n    createIIRFilter(_feedForward, _feedback) {\n        return {};\n    }\n    createPanner() {\n        return {};\n    }\n    createPeriodicWave(_real, _imag, _constraints) {\n        return {};\n    }\n    createStereoPanner() {\n        return {};\n    }\n    createWaveShaper() {\n        return {};\n    }\n    createMediaStreamSource(_stream) {\n        return {};\n    }\n    createMediaElementSource(_element) {\n        return {};\n    }\n    createMediaStreamDestination() {\n        return {};\n    }\n    decodeAudioData(_audioData) {\n        return Promise.resolve({});\n    }\n    //---------------------------\n    // TONE AUDIO CONTEXT METHODS\n    //---------------------------\n    createAudioWorkletNode(_name, _options) {\n        return {};\n    }\n    get rawContext() {\n        return {};\n    }\n    addAudioWorkletModule(_url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Promise.resolve();\n        });\n    }\n    resume() {\n        return Promise.resolve();\n    }\n    setTimeout(_fn, _timeout) {\n        return 0;\n    }\n    clearTimeout(_id) {\n        return this;\n    }\n    setInterval(_fn, _interval) {\n        return 0;\n    }\n    clearInterval(_id) {\n        return this;\n    }\n    getConstant(_val) {\n        return {};\n    }\n    get currentTime() {\n        return 0;\n    }\n    get state() {\n        return {};\n    }\n    get sampleRate() {\n        return 0;\n    }\n    get listener() {\n        return {};\n    }\n    get transport() {\n        return {};\n    }\n    get draw() {\n        return {};\n    }\n    set draw(_d) { }\n    get destination() {\n        return {};\n    }\n    set destination(_d) { }\n    now() {\n        return 0;\n    }\n    immediate() {\n        return 0;\n    }\n}\n//# sourceMappingURL=DummyContext.js.map","import { isArray } from \"./TypeCheck.js\";\n/**\n * Make the property not writable using `defineProperty`. Internal use only.\n */\nexport function readOnly(target, property) {\n    if (isArray(property)) {\n        property.forEach((str) => readOnly(target, str));\n    }\n    else {\n        Object.defineProperty(target, property, {\n            enumerable: true,\n            writable: false,\n        });\n    }\n}\n/**\n * Make an attribute writeable. Internal use only.\n */\nexport function writable(target, property) {\n    if (isArray(property)) {\n        property.forEach((str) => writable(target, str));\n    }\n    else {\n        Object.defineProperty(target, property, {\n            writable: true,\n        });\n    }\n}\nexport const noOp = () => {\n    // no operation here!\n};\n//# sourceMappingURL=Interface.js.map","import { __awaiter } from \"tslib\";\nimport { getContext } from \"../Global.js\";\nimport { Tone } from \"../Tone.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { noOp } from \"../util/Interface.js\";\nimport { isArray, isNumber, isString } from \"../util/TypeCheck.js\";\nimport { assert } from \"../util/Debug.js\";\n/**\n * AudioBuffer loading and storage. ToneAudioBuffer is used internally by all\n * classes that make requests for audio files such as Tone.Player,\n * Tone.Sampler and Tone.Convolver.\n * @example\n * const buffer = new Tone.ToneAudioBuffer(\"https://tonejs.github.io/audio/casio/A1.mp3\", () => {\n * \tconsole.log(\"loaded\");\n * });\n * @category Core\n */\nexport class ToneAudioBuffer extends Tone {\n    constructor() {\n        super();\n        this.name = \"ToneAudioBuffer\";\n        /**\n         * Callback when the buffer is loaded.\n         */\n        this.onload = noOp;\n        const options = optionsFromArguments(ToneAudioBuffer.getDefaults(), arguments, [\"url\", \"onload\", \"onerror\"]);\n        this.reverse = options.reverse;\n        this.onload = options.onload;\n        if (isString(options.url)) {\n            // initiate the download\n            this.load(options.url).catch(options.onerror);\n        }\n        else if (options.url) {\n            this.set(options.url);\n        }\n    }\n    static getDefaults() {\n        return {\n            onerror: noOp,\n            onload: noOp,\n            reverse: false,\n        };\n    }\n    /**\n     * The sample rate of the AudioBuffer\n     */\n    get sampleRate() {\n        if (this._buffer) {\n            return this._buffer.sampleRate;\n        }\n        else {\n            return getContext().sampleRate;\n        }\n    }\n    /**\n     * Pass in an AudioBuffer or ToneAudioBuffer to set the value of this buffer.\n     */\n    set(buffer) {\n        if (buffer instanceof ToneAudioBuffer) {\n            // if it's loaded, set it\n            if (buffer.loaded) {\n                this._buffer = buffer.get();\n            }\n            else {\n                // otherwise when it's loaded, invoke it's callback\n                buffer.onload = () => {\n                    this.set(buffer);\n                    this.onload(this);\n                };\n            }\n        }\n        else {\n            this._buffer = buffer;\n        }\n        // reverse it initially\n        if (this._reversed) {\n            this._reverse();\n        }\n        return this;\n    }\n    /**\n     * The audio buffer stored in the object.\n     */\n    get() {\n        return this._buffer;\n    }\n    /**\n     * Makes an fetch request for the selected url then decodes the file as an audio buffer.\n     * Invokes the callback once the audio buffer loads.\n     * @param url The url of the buffer to load. filetype support depends on the browser.\n     * @returns A Promise which resolves with this ToneAudioBuffer\n     */\n    load(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const doneLoading = ToneAudioBuffer.load(url).then((audioBuffer) => {\n                this.set(audioBuffer);\n                // invoke the onload method\n                this.onload(this);\n            });\n            ToneAudioBuffer.downloads.push(doneLoading);\n            try {\n                yield doneLoading;\n            }\n            finally {\n                // remove the downloaded file\n                const index = ToneAudioBuffer.downloads.indexOf(doneLoading);\n                ToneAudioBuffer.downloads.splice(index, 1);\n            }\n            return this;\n        });\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this._buffer = undefined;\n        return this;\n    }\n    /**\n     * Set the audio buffer from the array.\n     * To create a multichannel AudioBuffer, pass in a multidimensional array.\n     * @param array The array to fill the audio buffer\n     */\n    fromArray(array) {\n        const isMultidimensional = isArray(array) && array[0].length > 0;\n        const channels = isMultidimensional ? array.length : 1;\n        const len = isMultidimensional\n            ? array[0].length\n            : array.length;\n        const context = getContext();\n        const buffer = context.createBuffer(channels, len, context.sampleRate);\n        const multiChannelArray = !isMultidimensional && channels === 1\n            ? [array]\n            : array;\n        for (let c = 0; c < channels; c++) {\n            buffer.copyToChannel(multiChannelArray[c], c);\n        }\n        this._buffer = buffer;\n        return this;\n    }\n    /**\n     * Sums multiple channels into 1 channel\n     * @param chanNum Optionally only copy a single channel from the array.\n     */\n    toMono(chanNum) {\n        if (isNumber(chanNum)) {\n            this.fromArray(this.toArray(chanNum));\n        }\n        else {\n            let outputArray = new Float32Array(this.length);\n            const numChannels = this.numberOfChannels;\n            for (let channel = 0; channel < numChannels; channel++) {\n                const channelArray = this.toArray(channel);\n                for (let i = 0; i < channelArray.length; i++) {\n                    outputArray[i] += channelArray[i];\n                }\n            }\n            // divide by the number of channels\n            outputArray = outputArray.map((sample) => sample / numChannels);\n            this.fromArray(outputArray);\n        }\n        return this;\n    }\n    /**\n     * Get the buffer as an array. Single channel buffers will return a 1-dimensional\n     * Float32Array, and multichannel buffers will return multidimensional arrays.\n     * @param channel Optionally only copy a single channel from the array.\n     */\n    toArray(channel) {\n        if (isNumber(channel)) {\n            return this.getChannelData(channel);\n        }\n        else if (this.numberOfChannels === 1) {\n            return this.toArray(0);\n        }\n        else {\n            const ret = [];\n            for (let c = 0; c < this.numberOfChannels; c++) {\n                ret[c] = this.getChannelData(c);\n            }\n            return ret;\n        }\n    }\n    /**\n     * Returns the Float32Array representing the PCM audio data for the specific channel.\n     * @param  channel  The channel number to return\n     * @return The audio as a TypedArray\n     */\n    getChannelData(channel) {\n        if (this._buffer) {\n            return this._buffer.getChannelData(channel);\n        }\n        else {\n            return new Float32Array(0);\n        }\n    }\n    /**\n     * Cut a subsection of the array and return a buffer of the\n     * subsection. Does not modify the original buffer\n     * @param start The time to start the slice\n     * @param end The end time to slice. If none is given will default to the end of the buffer\n     */\n    slice(start, end = this.duration) {\n        assert(this.loaded, \"Buffer is not loaded\");\n        const startSamples = Math.floor(start * this.sampleRate);\n        const endSamples = Math.floor(end * this.sampleRate);\n        assert(startSamples < endSamples, \"The start time must be less than the end time\");\n        const length = endSamples - startSamples;\n        const retBuffer = getContext().createBuffer(this.numberOfChannels, length, this.sampleRate);\n        for (let channel = 0; channel < this.numberOfChannels; channel++) {\n            retBuffer.copyToChannel(this.getChannelData(channel).subarray(startSamples, endSamples), channel);\n        }\n        return new ToneAudioBuffer(retBuffer);\n    }\n    /**\n     * Reverse the buffer.\n     */\n    _reverse() {\n        if (this.loaded) {\n            for (let i = 0; i < this.numberOfChannels; i++) {\n                this.getChannelData(i).reverse();\n            }\n        }\n        return this;\n    }\n    /**\n     * If the buffer is loaded or not\n     */\n    get loaded() {\n        return this.length > 0;\n    }\n    /**\n     * The duration of the buffer in seconds.\n     */\n    get duration() {\n        if (this._buffer) {\n            return this._buffer.duration;\n        }\n        else {\n            return 0;\n        }\n    }\n    /**\n     * The length of the buffer in samples\n     */\n    get length() {\n        if (this._buffer) {\n            return this._buffer.length;\n        }\n        else {\n            return 0;\n        }\n    }\n    /**\n     * The number of discrete audio channels. Returns 0 if no buffer is loaded.\n     */\n    get numberOfChannels() {\n        if (this._buffer) {\n            return this._buffer.numberOfChannels;\n        }\n        else {\n            return 0;\n        }\n    }\n    /**\n     * Reverse the buffer.\n     */\n    get reverse() {\n        return this._reversed;\n    }\n    set reverse(rev) {\n        if (this._reversed !== rev) {\n            this._reversed = rev;\n            this._reverse();\n        }\n    }\n    /**\n     * Create a ToneAudioBuffer from the array. To create a multichannel AudioBuffer,\n     * pass in a multidimensional array.\n     * @param array The array to fill the audio buffer\n     * @return A ToneAudioBuffer created from the array\n     */\n    static fromArray(array) {\n        return new ToneAudioBuffer().fromArray(array);\n    }\n    /**\n     * Creates a ToneAudioBuffer from a URL, returns a promise which resolves to a ToneAudioBuffer\n     * @param  url The url to load.\n     * @return A promise which resolves to a ToneAudioBuffer\n     */\n    static fromUrl(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const buffer = new ToneAudioBuffer();\n            return yield buffer.load(url);\n        });\n    }\n    /**\n     * Loads a url using fetch and returns the AudioBuffer.\n     */\n    static load(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // make sure there is a slash between the baseUrl and the url\n            const baseUrl = ToneAudioBuffer.baseUrl === \"\" ||\n                ToneAudioBuffer.baseUrl.endsWith(\"/\")\n                ? ToneAudioBuffer.baseUrl\n                : ToneAudioBuffer.baseUrl + \"/\";\n            const response = yield fetch(baseUrl + url);\n            if (!response.ok) {\n                throw new Error(`could not load url: ${url}`);\n            }\n            const arrayBuffer = yield response.arrayBuffer();\n            const audioBuffer = yield getContext().decodeAudioData(arrayBuffer);\n            return audioBuffer;\n        });\n    }\n    /**\n     * Checks a url's extension to see if the current browser can play that file type.\n     * @param url The url/extension to test\n     * @return If the file extension can be played\n     * @static\n     * @example\n     * Tone.ToneAudioBuffer.supportsType(\"wav\"); // returns true\n     * Tone.ToneAudioBuffer.supportsType(\"path/to/file.wav\"); // returns true\n     */\n    static supportsType(url) {\n        const extensions = url.split(\".\");\n        const extension = extensions[extensions.length - 1];\n        const response = document\n            .createElement(\"audio\")\n            .canPlayType(\"audio/\" + extension);\n        return response !== \"\";\n    }\n    /**\n     * Returns a Promise which resolves when all of the buffers have loaded\n     */\n    static loaded() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // this makes sure that the function is always async\n            yield Promise.resolve();\n            while (ToneAudioBuffer.downloads.length) {\n                yield ToneAudioBuffer.downloads[0];\n            }\n        });\n    }\n}\n//-------------------------------------\n// STATIC METHODS\n//-------------------------------------\n/**\n * A path which is prefixed before every url.\n */\nToneAudioBuffer.baseUrl = \"\";\n/**\n * All of the downloads\n */\nToneAudioBuffer.downloads = [];\n//# sourceMappingURL=ToneAudioBuffer.js.map","import { __awaiter } from \"tslib\";\nimport { createOfflineAudioContext } from \"../context/AudioContext.js\";\nimport { Context } from \"../context/Context.js\";\nimport { isOfflineAudioContext } from \"../util/AdvancedTypeCheck.js\";\nimport { ToneAudioBuffer } from \"./ToneAudioBuffer.js\";\n/**\n * Wrapper around the OfflineAudioContext\n * @category Core\n * @example\n * // generate a single channel, 0.5 second buffer\n * const context = new Tone.OfflineContext(1, 0.5, 44100);\n * const osc = new Tone.Oscillator({ context });\n * context.render().then(buffer => {\n * \tconsole.log(buffer.numberOfChannels, buffer.duration);\n * });\n */\nexport class OfflineContext extends Context {\n    constructor() {\n        super({\n            clockSource: \"offline\",\n            context: isOfflineAudioContext(arguments[0])\n                ? arguments[0]\n                : createOfflineAudioContext(arguments[0], arguments[1] * arguments[2], arguments[2]),\n            lookAhead: 0,\n            updateInterval: isOfflineAudioContext(arguments[0])\n                ? 128 / arguments[0].sampleRate\n                : 128 / arguments[2],\n        });\n        this.name = \"OfflineContext\";\n        /**\n         * An artificial clock source\n         */\n        this._currentTime = 0;\n        this.isOffline = true;\n        this._duration = isOfflineAudioContext(arguments[0])\n            ? arguments[0].length / arguments[0].sampleRate\n            : arguments[1];\n    }\n    /**\n     * Override the now method to point to the internal clock time\n     */\n    now() {\n        return this._currentTime;\n    }\n    /**\n     * Same as this.now()\n     */\n    get currentTime() {\n        return this._currentTime;\n    }\n    /**\n     * Render just the clock portion of the audio context.\n     */\n    _renderClock(asynchronous) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let index = 0;\n            while (this._duration - this._currentTime >= 0) {\n                // invoke all the callbacks on that time\n                this.emit(\"tick\");\n                // increment the clock in block-sized chunks\n                this._currentTime += 128 / this.sampleRate;\n                // yield once a second of audio\n                index++;\n                const yieldEvery = Math.floor(this.sampleRate / 128);\n                if (asynchronous && index % yieldEvery === 0) {\n                    yield new Promise((done) => setTimeout(done, 1));\n                }\n            }\n        });\n    }\n    /**\n     * Render the output of the OfflineContext\n     * @param asynchronous If the clock should be rendered asynchronously, which will not block the main thread, but be slightly slower.\n     */\n    render() {\n        return __awaiter(this, arguments, void 0, function* (asynchronous = true) {\n            yield this.workletsAreReady();\n            yield this._renderClock(asynchronous);\n            const buffer = yield this._context.startRendering();\n            return new ToneAudioBuffer(buffer);\n        });\n    }\n    /**\n     * Close the context\n     */\n    close() {\n        return Promise.resolve();\n    }\n}\n//# sourceMappingURL=OfflineContext.js.map","import { version } from \"../version.js\";\nimport { hasAudioContext, theWindow, } from \"./context/AudioContext.js\";\nimport { Context } from \"./context/Context.js\";\nimport { DummyContext } from \"./context/DummyContext.js\";\nimport { OfflineContext } from \"./context/OfflineContext.js\";\nimport { isAudioContext, isOfflineAudioContext, } from \"./util/AdvancedTypeCheck.js\";\n/**\n * This dummy context is used to avoid throwing immediate errors when importing in Node.js\n */\nconst dummyContext = new DummyContext();\n/**\n * The global audio context which is getable and assignable through\n * getContext and setContext\n */\nlet globalContext = dummyContext;\n/**\n * Returns the default system-wide {@link Context}\n * @category Core\n */\nexport function getContext() {\n    if (globalContext === dummyContext && hasAudioContext) {\n        setContext(new Context());\n    }\n    return globalContext;\n}\n/**\n * Set the default audio context\n * @param context\n * @param disposeOld Pass `true` if you don't need the old context to dispose it.\n * @category Core\n */\nexport function setContext(context, disposeOld = false) {\n    if (disposeOld) {\n        globalContext.dispose();\n    }\n    if (isAudioContext(context)) {\n        globalContext = new Context(context);\n    }\n    else if (isOfflineAudioContext(context)) {\n        globalContext = new OfflineContext(context);\n    }\n    else {\n        globalContext = context;\n    }\n}\n/**\n * Most browsers will not play _any_ audio until a user\n * clicks something (like a play button). Invoke this method\n * on a click or keypress event handler to start the audio context.\n * More about the Autoplay policy\n * [here](https://developers.google.com/web/updates/2017/09/autoplay-policy-changes#webaudio)\n * @example\n * document.querySelector(\"button\").addEventListener(\"click\", async () => {\n * \tawait Tone.start();\n * \tconsole.log(\"context started\");\n * });\n * @category Core\n */\nexport function start() {\n    return globalContext.resume();\n}\n/**\n * Log Tone.js + version in the console.\n */\nif (theWindow && !theWindow.TONE_SILENCE_LOGGING) {\n    let prefix = \"v\";\n    if (version === \"dev\") {\n        prefix = \"\";\n    }\n    const printString = ` * Tone.js ${prefix}${version} * `;\n    // eslint-disable-next-line no-console\n    console.log(`%c${printString}`, \"background: #000; color: #fff\");\n}\n//# sourceMappingURL=Global.js.map","/**\n * Equal power gain scale. Good for cross-fading.\n * @param  percent (0-1)\n */\nexport function equalPowerScale(percent) {\n    const piFactor = 0.5 * Math.PI;\n    return Math.sin(percent * piFactor);\n}\n/**\n * Convert decibels into gain.\n */\nexport function dbToGain(db) {\n    return Math.pow(10, db / 20);\n}\n/**\n * Convert gain to decibels.\n */\nexport function gainToDb(gain) {\n    return 20 * (Math.log(gain) / Math.LN10);\n}\n/**\n * Convert an interval (in semitones) to a frequency ratio.\n * @param interval the number of semitones above the base note\n * @example\n * Tone.intervalToFrequencyRatio(0); // 1\n * Tone.intervalToFrequencyRatio(12); // 2\n * Tone.intervalToFrequencyRatio(-12); // 0.5\n */\nexport function intervalToFrequencyRatio(interval) {\n    return Math.pow(2, interval / 12);\n}\n/**\n * The Global [concert tuning pitch](https://en.wikipedia.org/wiki/Concert_pitch) which is used\n * to generate all the other pitch values from notes. A4's values in Hertz.\n */\nlet A4 = 440;\nexport function getA4() {\n    return A4;\n}\nexport function setA4(freq) {\n    A4 = freq;\n}\n/**\n * Convert a frequency value to a MIDI note.\n * @param frequency The value to frequency value to convert.\n * @example\n * Tone.ftom(440); // returns 69\n */\nexport function ftom(frequency) {\n    return Math.round(ftomf(frequency));\n}\n/**\n * Convert a frequency to a floating point midi value\n */\nexport function ftomf(frequency) {\n    return 69 + 12 * Math.log2(frequency / A4);\n}\n/**\n * Convert a MIDI note to frequency value.\n * @param  midi The midi number to convert.\n * @return The corresponding frequency value\n * @example\n * Tone.mtof(69); // 440\n */\nexport function mtof(midi) {\n    return A4 * Math.pow(2, (midi - 69) / 12);\n}\n//# sourceMappingURL=Conversions.js.map","import { Tone } from \"../Tone.js\";\nimport { isDefined, isObject, isString, isUndef } from \"../util/TypeCheck.js\";\n/**\n * TimeBase is a flexible encoding of time which can be evaluated to and from a string.\n */\nexport class TimeBaseClass extends Tone {\n    /**\n     * @param context The context associated with the time value. Used to compute\n     * Transport and context-relative timing.\n     * @param  value  The time value as a number, string or object\n     * @param  units  Unit values\n     */\n    constructor(context, value, units) {\n        super();\n        /**\n         * The default units\n         */\n        this.defaultUnits = \"s\";\n        this._val = value;\n        this._units = units;\n        this.context = context;\n        this._expressions = this._getExpressions();\n    }\n    /**\n     * All of the time encoding expressions\n     */\n    _getExpressions() {\n        return {\n            hz: {\n                method: (value) => {\n                    return this._frequencyToUnits(parseFloat(value));\n                },\n                regexp: /^(\\d+(?:\\.\\d+)?)hz$/i,\n            },\n            i: {\n                method: (value) => {\n                    return this._ticksToUnits(parseInt(value, 10));\n                },\n                regexp: /^(\\d+)i$/i,\n            },\n            m: {\n                method: (value) => {\n                    return this._beatsToUnits(parseInt(value, 10) * this._getTimeSignature());\n                },\n                regexp: /^(\\d+)m$/i,\n            },\n            n: {\n                method: (value, dot) => {\n                    const numericValue = parseInt(value, 10);\n                    const scalar = dot === \".\" ? 1.5 : 1;\n                    if (numericValue === 1) {\n                        return (this._beatsToUnits(this._getTimeSignature()) *\n                            scalar);\n                    }\n                    else {\n                        return (this._beatsToUnits(4 / numericValue) *\n                            scalar);\n                    }\n                },\n                regexp: /^(\\d+)n(\\.?)$/i,\n            },\n            number: {\n                method: (value) => {\n                    return this._expressions[this.defaultUnits].method.call(this, value);\n                },\n                regexp: /^(\\d+(?:\\.\\d+)?)$/,\n            },\n            s: {\n                method: (value) => {\n                    return this._secondsToUnits(parseFloat(value));\n                },\n                regexp: /^(\\d+(?:\\.\\d+)?)s$/,\n            },\n            samples: {\n                method: (value) => {\n                    return (parseInt(value, 10) /\n                        this.context.sampleRate);\n                },\n                regexp: /^(\\d+)samples$/,\n            },\n            t: {\n                method: (value) => {\n                    const numericValue = parseInt(value, 10);\n                    return this._beatsToUnits(8 / (Math.floor(numericValue) * 3));\n                },\n                regexp: /^(\\d+)t$/i,\n            },\n            tr: {\n                method: (m, q, s) => {\n                    let total = 0;\n                    if (m && m !== \"0\") {\n                        total += this._beatsToUnits(this._getTimeSignature() * parseFloat(m));\n                    }\n                    if (q && q !== \"0\") {\n                        total += this._beatsToUnits(parseFloat(q));\n                    }\n                    if (s && s !== \"0\") {\n                        total += this._beatsToUnits(parseFloat(s) / 4);\n                    }\n                    return total;\n                },\n                regexp: /^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?$/,\n            },\n        };\n    }\n    //-------------------------------------\n    // \tVALUE OF\n    //-------------------------------------\n    /**\n     * Evaluate the time value. Returns the time in seconds.\n     */\n    valueOf() {\n        if (this._val instanceof TimeBaseClass) {\n            this.fromType(this._val);\n        }\n        if (isUndef(this._val)) {\n            return this._noArg();\n        }\n        else if (isString(this._val) && isUndef(this._units)) {\n            for (const units in this._expressions) {\n                if (this._expressions[units].regexp.test(this._val.trim())) {\n                    this._units = units;\n                    break;\n                }\n            }\n        }\n        else if (isObject(this._val)) {\n            let total = 0;\n            for (const typeName in this._val) {\n                if (isDefined(this._val[typeName])) {\n                    const quantity = this._val[typeName];\n                    const time = \n                    // @ts-ignore\n                    new this.constructor(this.context, typeName).valueOf() *\n                        quantity;\n                    total += time;\n                }\n            }\n            return total;\n        }\n        if (isDefined(this._units)) {\n            const expr = this._expressions[this._units];\n            const matching = this._val.toString().trim().match(expr.regexp);\n            if (matching) {\n                return expr.method.apply(this, matching.slice(1));\n            }\n            else {\n                return expr.method.call(this, this._val);\n            }\n        }\n        else if (isString(this._val)) {\n            return parseFloat(this._val);\n        }\n        else {\n            return this._val;\n        }\n    }\n    //-------------------------------------\n    // \tUNIT CONVERSIONS\n    //-------------------------------------\n    /**\n     * Returns the value of a frequency in the current units\n     */\n    _frequencyToUnits(freq) {\n        return (1 / freq);\n    }\n    /**\n     * Return the value of the beats in the current units\n     */\n    _beatsToUnits(beats) {\n        return ((60 / this._getBpm()) * beats);\n    }\n    /**\n     * Returns the value of a second in the current units\n     */\n    _secondsToUnits(seconds) {\n        return seconds;\n    }\n    /**\n     * Returns the value of a tick in the current time units\n     */\n    _ticksToUnits(ticks) {\n        return ((ticks * this._beatsToUnits(1)) / this._getPPQ());\n    }\n    /**\n     * With no arguments, return 'now'\n     */\n    _noArg() {\n        return this._now();\n    }\n    //-------------------------------------\n    // \tTEMPO CONVERSIONS\n    //-------------------------------------\n    /**\n     * Return the bpm\n     */\n    _getBpm() {\n        return this.context.transport.bpm.value;\n    }\n    /**\n     * Return the timeSignature\n     */\n    _getTimeSignature() {\n        return this.context.transport.timeSignature;\n    }\n    /**\n     * Return the PPQ or 192 if Transport is not available\n     */\n    _getPPQ() {\n        return this.context.transport.PPQ;\n    }\n    //-------------------------------------\n    // \tCONVERSION INTERFACE\n    //-------------------------------------\n    /**\n     * Coerce a time type into this units type.\n     * @param type Any time type units\n     */\n    fromType(type) {\n        this._units = undefined;\n        switch (this.defaultUnits) {\n            case \"s\":\n                this._val = type.toSeconds();\n                break;\n            case \"i\":\n                this._val = type.toTicks();\n                break;\n            case \"hz\":\n                this._val = type.toFrequency();\n                break;\n            case \"midi\":\n                this._val = type.toMidi();\n                break;\n        }\n        return this;\n    }\n    /**\n     * Return the value in hertz\n     */\n    toFrequency() {\n        return 1 / this.toSeconds();\n    }\n    /**\n     * Return the time in samples\n     */\n    toSamples() {\n        return this.toSeconds() * this.context.sampleRate;\n    }\n    /**\n     * Return the time in milliseconds.\n     */\n    toMilliseconds() {\n        return this.toSeconds() * 1000;\n    }\n}\n//# sourceMappingURL=TimeBase.js.map","import { getContext } from \"../Global.js\";\nimport { ftom } from \"./Conversions.js\";\nimport { TimeBaseClass, } from \"./TimeBase.js\";\n/**\n * TimeClass is a primitive type for encoding and decoding Time values.\n * TimeClass can be passed into the parameter of any method which takes time as an argument.\n * @param  val    The time value.\n * @param  units  The units of the value.\n * @example\n * const time = Tone.Time(\"4n\"); // a quarter note\n * @category Unit\n */\nexport class TimeClass extends TimeBaseClass {\n    constructor() {\n        super(...arguments);\n        this.name = \"TimeClass\";\n    }\n    _getExpressions() {\n        return Object.assign(super._getExpressions(), {\n            now: {\n                method: (capture) => {\n                    return (this._now() +\n                        new this.constructor(this.context, capture).valueOf());\n                },\n                regexp: /^\\+(.+)/,\n            },\n            quantize: {\n                method: (capture) => {\n                    const quantTo = new TimeClass(this.context, capture).valueOf();\n                    return this._secondsToUnits(this.context.transport.nextSubdivision(quantTo));\n                },\n                regexp: /^@(.+)/,\n            },\n        });\n    }\n    /**\n     * Quantize the time by the given subdivision. Optionally add a\n     * percentage which will move the time value towards the ideal\n     * quantized value by that percentage.\n     * @param  subdiv    The subdivision to quantize to\n     * @param  percent  Move the time value towards the quantized value by a percentage.\n     * @example\n     * Tone.Time(21).quantize(2); // returns 22\n     * Tone.Time(0.6).quantize(\"4n\", 0.5); // returns 0.55\n     */\n    quantize(subdiv, percent = 1) {\n        const subdivision = new this.constructor(this.context, subdiv).valueOf();\n        const value = this.valueOf();\n        const multiple = Math.round(value / subdivision);\n        const ideal = multiple * subdivision;\n        const diff = ideal - value;\n        return (value + diff * percent);\n    }\n    //-------------------------------------\n    // CONVERSIONS\n    //-------------------------------------\n    /**\n     * Convert a Time to Notation. The notation values are will be the\n     * closest representation between 1m to 128th note.\n     * @return {Notation}\n     * @example\n     * // if the Transport is at 120bpm:\n     * Tone.Time(2).toNotation(); // returns \"1m\"\n     */\n    toNotation() {\n        const time = this.toSeconds();\n        const testNotations = [\"1m\"];\n        for (let power = 1; power < 9; power++) {\n            const subdiv = Math.pow(2, power);\n            testNotations.push((subdiv + \"n.\"));\n            testNotations.push((subdiv + \"n\"));\n            testNotations.push((subdiv + \"t\"));\n        }\n        testNotations.push(\"0\");\n        // find the closets notation representation\n        let closest = testNotations[0];\n        let closestSeconds = new TimeClass(this.context, testNotations[0]).toSeconds();\n        testNotations.forEach((notation) => {\n            const notationSeconds = new TimeClass(this.context, notation).toSeconds();\n            if (Math.abs(notationSeconds - time) <\n                Math.abs(closestSeconds - time)) {\n                closest = notation;\n                closestSeconds = notationSeconds;\n            }\n        });\n        return closest;\n    }\n    /**\n     * Return the time encoded as Bars:Beats:Sixteenths.\n     */\n    toBarsBeatsSixteenths() {\n        const quarterTime = this._beatsToUnits(1);\n        let quarters = this.valueOf() / quarterTime;\n        quarters = parseFloat(quarters.toFixed(4));\n        const measures = Math.floor(quarters / this._getTimeSignature());\n        let sixteenths = (quarters % 1) * 4;\n        quarters = Math.floor(quarters) % this._getTimeSignature();\n        const sixteenthString = sixteenths.toString();\n        if (sixteenthString.length > 3) {\n            // the additional parseFloat removes insignificant trailing zeroes\n            sixteenths = parseFloat(parseFloat(sixteenthString).toFixed(3));\n        }\n        const progress = [measures, quarters, sixteenths];\n        return progress.join(\":\");\n    }\n    /**\n     * Return the time in ticks.\n     */\n    toTicks() {\n        const quarterTime = this._beatsToUnits(1);\n        const quarters = this.valueOf() / quarterTime;\n        return quarters * this._getPPQ();\n    }\n    /**\n     * Return the time in seconds.\n     */\n    toSeconds() {\n        return this.valueOf();\n    }\n    /**\n     * Return the value as a midi note.\n     */\n    toMidi() {\n        return ftom(this.toFrequency());\n    }\n    _now() {\n        return this.context.now();\n    }\n}\n/**\n * Create a TimeClass from a time string or number. The time is computed against the\n * global Tone.Context. To use a specific context, use {@link TimeClass}\n * @param value A value which represents time\n * @param units The value's units if they can't be inferred by the value.\n * @category Unit\n * @example\n * const time = Tone.Time(\"4n\").toSeconds();\n * console.log(time);\n * @example\n * const note = Tone.Time(1).toNotation();\n * console.log(note);\n * @example\n * const freq = Tone.Time(0.5).toFrequency();\n * console.log(freq);\n */\nexport function Time(value, units) {\n    return new TimeClass(getContext(), value, units);\n}\n//# sourceMappingURL=Time.js.map","/* eslint-disable key-spacing */\nimport { getContext } from \"../Global.js\";\nimport { intervalToFrequencyRatio, mtof } from \"./Conversions.js\";\nimport { ftom, getA4, setA4 } from \"./Conversions.js\";\nimport { TimeClass } from \"./Time.js\";\n/**\n * Frequency is a primitive type for encoding Frequency values.\n * Eventually all time values are evaluated to hertz using the `valueOf` method.\n * @example\n * Tone.Frequency(\"C3\"); // 261\n * Tone.Frequency(38, \"midi\");\n * Tone.Frequency(\"C3\").transpose(4);\n * @category Unit\n */\nexport class FrequencyClass extends TimeClass {\n    constructor() {\n        super(...arguments);\n        this.name = \"Frequency\";\n        this.defaultUnits = \"hz\";\n    }\n    /**\n     * The [concert tuning pitch](https://en.wikipedia.org/wiki/Concert_pitch) which is used\n     * to generate all the other pitch values from notes. A4's values in Hertz.\n     */\n    static get A4() {\n        return getA4();\n    }\n    static set A4(freq) {\n        setA4(freq);\n    }\n    //-------------------------------------\n    // \tAUGMENT BASE EXPRESSIONS\n    //-------------------------------------\n    _getExpressions() {\n        return Object.assign({}, super._getExpressions(), {\n            midi: {\n                regexp: /^(\\d+(?:\\.\\d+)?midi)/,\n                method(value) {\n                    if (this.defaultUnits === \"midi\") {\n                        return value;\n                    }\n                    else {\n                        return FrequencyClass.mtof(value);\n                    }\n                },\n            },\n            note: {\n                regexp: /^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,\n                method(pitch, octave) {\n                    const index = noteToScaleIndex[pitch.toLowerCase()];\n                    const noteNumber = index + (parseInt(octave, 10) + 1) * 12;\n                    if (this.defaultUnits === \"midi\") {\n                        return noteNumber;\n                    }\n                    else {\n                        return FrequencyClass.mtof(noteNumber);\n                    }\n                },\n            },\n            tr: {\n                regexp: /^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?/,\n                method(m, q, s) {\n                    let total = 1;\n                    if (m && m !== \"0\") {\n                        total *= this._beatsToUnits(this._getTimeSignature() * parseFloat(m));\n                    }\n                    if (q && q !== \"0\") {\n                        total *= this._beatsToUnits(parseFloat(q));\n                    }\n                    if (s && s !== \"0\") {\n                        total *= this._beatsToUnits(parseFloat(s) / 4);\n                    }\n                    return total;\n                },\n            },\n        });\n    }\n    //-------------------------------------\n    // \tEXPRESSIONS\n    //-------------------------------------\n    /**\n     * Transposes the frequency by the given number of semitones.\n     * @return  A new transposed frequency\n     * @example\n     * Tone.Frequency(\"A4\").transpose(3); // \"C5\"\n     */\n    transpose(interval) {\n        return new FrequencyClass(this.context, this.valueOf() * intervalToFrequencyRatio(interval));\n    }\n    /**\n     * Takes an array of semitone intervals and returns\n     * an array of frequencies transposed by those intervals.\n     * @return  Returns an array of Frequencies\n     * @example\n     * Tone.Frequency(\"A4\").harmonize([0, 3, 7]); // [\"A4\", \"C5\", \"E5\"]\n     */\n    harmonize(intervals) {\n        return intervals.map((interval) => {\n            return this.transpose(interval);\n        });\n    }\n    //-------------------------------------\n    // \tUNIT CONVERSIONS\n    //-------------------------------------\n    /**\n     * Return the value of the frequency as a MIDI note\n     * @example\n     * Tone.Frequency(\"C4\").toMidi(); // 60\n     */\n    toMidi() {\n        return ftom(this.valueOf());\n    }\n    /**\n     * Return the value of the frequency in Scientific Pitch Notation\n     * @example\n     * Tone.Frequency(69, \"midi\").toNote(); // \"A4\"\n     */\n    toNote() {\n        const freq = this.toFrequency();\n        const log = Math.log2(freq / FrequencyClass.A4);\n        let noteNumber = Math.round(12 * log) + 57;\n        const octave = Math.floor(noteNumber / 12);\n        if (octave < 0) {\n            noteNumber += -12 * octave;\n        }\n        const noteName = scaleIndexToNote[noteNumber % 12];\n        return (noteName + octave.toString());\n    }\n    /**\n     * Return the duration of one cycle in seconds.\n     */\n    toSeconds() {\n        return 1 / super.toSeconds();\n    }\n    /**\n     * Return the duration of one cycle in ticks\n     */\n    toTicks() {\n        const quarterTime = this._beatsToUnits(1);\n        const quarters = this.valueOf() / quarterTime;\n        return Math.floor(quarters * this._getPPQ());\n    }\n    //-------------------------------------\n    // \tUNIT CONVERSIONS HELPERS\n    //-------------------------------------\n    /**\n     * With no arguments, return 0\n     */\n    _noArg() {\n        return 0;\n    }\n    /**\n     * Returns the value of a frequency in the current units\n     */\n    _frequencyToUnits(freq) {\n        return freq;\n    }\n    /**\n     * Returns the value of a tick in the current time units\n     */\n    _ticksToUnits(ticks) {\n        return (1 / ((ticks * 60) / (this._getBpm() * this._getPPQ())));\n    }\n    /**\n     * Return the value of the beats in the current units\n     */\n    _beatsToUnits(beats) {\n        return (1 / super._beatsToUnits(beats));\n    }\n    /**\n     * Returns the value of a second in the current units\n     */\n    _secondsToUnits(seconds) {\n        return (1 / seconds);\n    }\n    /**\n     * Convert a MIDI note to frequency value.\n     * @param  midi The midi number to convert.\n     * @return The corresponding frequency value\n     */\n    static mtof(midi) {\n        return mtof(midi);\n    }\n    /**\n     * Convert a frequency value to a MIDI note.\n     * @param frequency The value to frequency value to convert.\n     */\n    static ftom(frequency) {\n        return ftom(frequency);\n    }\n}\n//-------------------------------------\n// \tFREQUENCY CONVERSIONS\n//-------------------------------------\n/**\n * Note to scale index.\n * @hidden\n */\nconst noteToScaleIndex = {\n    cbbb: -3,\n    cbb: -2,\n    cb: -1,\n    c: 0,\n    \"c#\": 1,\n    cx: 2,\n    \"c##\": 2,\n    \"c###\": 3,\n    \"cx#\": 3,\n    \"c#x\": 3,\n    dbbb: -1,\n    dbb: 0,\n    db: 1,\n    d: 2,\n    \"d#\": 3,\n    dx: 4,\n    \"d##\": 4,\n    \"d###\": 5,\n    \"dx#\": 5,\n    \"d#x\": 5,\n    ebbb: 1,\n    ebb: 2,\n    eb: 3,\n    e: 4,\n    \"e#\": 5,\n    ex: 6,\n    \"e##\": 6,\n    \"e###\": 7,\n    \"ex#\": 7,\n    \"e#x\": 7,\n    fbbb: 2,\n    fbb: 3,\n    fb: 4,\n    f: 5,\n    \"f#\": 6,\n    fx: 7,\n    \"f##\": 7,\n    \"f###\": 8,\n    \"fx#\": 8,\n    \"f#x\": 8,\n    gbbb: 4,\n    gbb: 5,\n    gb: 6,\n    g: 7,\n    \"g#\": 8,\n    gx: 9,\n    \"g##\": 9,\n    \"g###\": 10,\n    \"gx#\": 10,\n    \"g#x\": 10,\n    abbb: 6,\n    abb: 7,\n    ab: 8,\n    a: 9,\n    \"a#\": 10,\n    ax: 11,\n    \"a##\": 11,\n    \"a###\": 12,\n    \"ax#\": 12,\n    \"a#x\": 12,\n    bbbb: 8,\n    bbb: 9,\n    bb: 10,\n    b: 11,\n    \"b#\": 12,\n    bx: 13,\n    \"b##\": 13,\n    \"b###\": 14,\n    \"bx#\": 14,\n    \"b#x\": 14,\n};\n/**\n * scale index to note (sharps)\n * @hidden\n */\nconst scaleIndexToNote = [\n    \"C\",\n    \"C#\",\n    \"D\",\n    \"D#\",\n    \"E\",\n    \"F\",\n    \"F#\",\n    \"G\",\n    \"G#\",\n    \"A\",\n    \"A#\",\n    \"B\",\n];\n/**\n * Convert a value into a FrequencyClass object.\n * @category Unit\n * @example\n * const midi = Tone.Frequency(\"C3\").toMidi();\n * console.log(midi);\n * @example\n * const hertz = Tone.Frequency(38, \"midi\").toFrequency();\n * console.log(hertz);\n */\nexport function Frequency(value, units) {\n    return new FrequencyClass(getContext(), value, units);\n}\n//# sourceMappingURL=Frequency.js.map","import { getContext } from \"../Global.js\";\nimport { TimeClass } from \"./Time.js\";\n/**\n * TransportTime is a time along the Transport's\n * timeline. It is similar to Tone.Time, but instead of evaluating\n * against the AudioContext's clock, it is evaluated against\n * the Transport's position. See [TransportTime wiki](https://github.com/Tonejs/Tone.js/wiki/TransportTime).\n * @category Unit\n */\nexport class TransportTimeClass extends TimeClass {\n    constructor() {\n        super(...arguments);\n        this.name = \"TransportTime\";\n    }\n    /**\n     * Return the current time in whichever context is relevant\n     */\n    _now() {\n        return this.context.transport.seconds;\n    }\n}\n/**\n * TransportTime is a time along the Transport's\n * timeline. It is similar to Tone.Time, but instead of evaluating\n * against the AudioContext's clock, it is evaluated against\n * the Transport's position. See [TransportTime wiki](https://github.com/Tonejs/Tone.js/wiki/TransportTime).\n * @category Unit\n */\nexport function TransportTime(value, units) {\n    return new TransportTimeClass(getContext(), value, units);\n}\n//# sourceMappingURL=TransportTime.js.map","import { getContext } from \"../Global.js\";\nimport { Tone } from \"../Tone.js\";\nimport { FrequencyClass } from \"../type/Frequency.js\";\nimport { TimeClass } from \"../type/Time.js\";\nimport { TransportTimeClass } from \"../type/TransportTime.js\";\nimport { assertUsedScheduleTime } from \"../util/Debug.js\";\nimport { getDefaultsFromInstance, optionsFromArguments, } from \"../util/Defaults.js\";\nimport { isArray, isBoolean, isDefined, isNumber, isString, isUndef, } from \"../util/TypeCheck.js\";\n/**\n * The Base class for all nodes that have an AudioContext.\n */\nexport class ToneWithContext extends Tone {\n    constructor() {\n        super();\n        const options = optionsFromArguments(ToneWithContext.getDefaults(), arguments, [\"context\"]);\n        if (this.defaultContext) {\n            this.context = this.defaultContext;\n        }\n        else {\n            this.context = options.context;\n        }\n    }\n    static getDefaults() {\n        return {\n            context: getContext(),\n        };\n    }\n    /**\n     * Return the current time of the Context clock plus the lookAhead.\n     * @example\n     * setInterval(() => {\n     * \tconsole.log(Tone.now());\n     * }, 100);\n     */\n    now() {\n        return this.context.currentTime + this.context.lookAhead;\n    }\n    /**\n     * Return the current time of the Context clock without any lookAhead.\n     * @example\n     * setInterval(() => {\n     * \tconsole.log(Tone.immediate());\n     * }, 100);\n     */\n    immediate() {\n        return this.context.currentTime;\n    }\n    /**\n     * The duration in seconds of one sample.\n     */\n    get sampleTime() {\n        return 1 / this.context.sampleRate;\n    }\n    /**\n     * The number of seconds of 1 processing block (128 samples)\n     * @example\n     * console.log(Tone.Destination.blockTime);\n     */\n    get blockTime() {\n        return 128 / this.context.sampleRate;\n    }\n    /**\n     * Convert the incoming time to seconds.\n     * This is calculated against the current {@link TransportClass} bpm\n     * @example\n     * const gain = new Tone.Gain();\n     * setInterval(() => console.log(gain.toSeconds(\"4n\")), 100);\n     * // ramp the tempo to 60 bpm over 30 seconds\n     * Tone.getTransport().bpm.rampTo(60, 30);\n     */\n    toSeconds(time) {\n        assertUsedScheduleTime(time);\n        return new TimeClass(this.context, time).toSeconds();\n    }\n    /**\n     * Convert the input to a frequency number\n     * @example\n     * const gain = new Tone.Gain();\n     * console.log(gain.toFrequency(\"4n\"));\n     */\n    toFrequency(freq) {\n        return new FrequencyClass(this.context, freq).toFrequency();\n    }\n    /**\n     * Convert the input time into ticks\n     * @example\n     * const gain = new Tone.Gain();\n     * console.log(gain.toTicks(\"4n\"));\n     */\n    toTicks(time) {\n        return new TransportTimeClass(this.context, time).toTicks();\n    }\n    //-------------------------------------\n    // \tGET/SET\n    //-------------------------------------\n    /**\n     * Get a subset of the properties which are in the partial props\n     */\n    _getPartialProperties(props) {\n        const options = this.get();\n        // remove attributes from the prop that are not in the partial\n        Object.keys(options).forEach((name) => {\n            if (isUndef(props[name])) {\n                delete options[name];\n            }\n        });\n        return options;\n    }\n    /**\n     * Get the object's attributes.\n     * @example\n     * const osc = new Tone.Oscillator();\n     * console.log(osc.get());\n     */\n    get() {\n        const defaults = getDefaultsFromInstance(this);\n        Object.keys(defaults).forEach((attribute) => {\n            if (Reflect.has(this, attribute)) {\n                const member = this[attribute];\n                if (isDefined(member) &&\n                    isDefined(member.value) &&\n                    isDefined(member.setValueAtTime)) {\n                    defaults[attribute] = member.value;\n                }\n                else if (member instanceof ToneWithContext) {\n                    defaults[attribute] = member._getPartialProperties(defaults[attribute]);\n                    // otherwise make sure it's a serializable type\n                }\n                else if (isArray(member) ||\n                    isNumber(member) ||\n                    isString(member) ||\n                    isBoolean(member)) {\n                    defaults[attribute] = member;\n                }\n                else {\n                    // remove all undefined and unserializable attributes\n                    delete defaults[attribute];\n                }\n            }\n        });\n        return defaults;\n    }\n    /**\n     * Set multiple properties at once with an object.\n     * @example\n     * const filter = new Tone.Filter().toDestination();\n     * // set values using an object\n     * filter.set({\n     * \tfrequency: \"C6\",\n     * \ttype: \"highpass\"\n     * });\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/berklee/Analogsynth_octaves_highmid.mp3\").connect(filter);\n     * player.autostart = true;\n     */\n    set(props) {\n        Object.keys(props).forEach((attribute) => {\n            if (Reflect.has(this, attribute) && isDefined(this[attribute])) {\n                if (this[attribute] &&\n                    isDefined(this[attribute].value) &&\n                    isDefined(this[attribute].setValueAtTime)) {\n                    // small optimization\n                    if (this[attribute].value !== props[attribute]) {\n                        this[attribute].value = props[attribute];\n                    }\n                }\n                else if (this[attribute] instanceof ToneWithContext) {\n                    this[attribute].set(props[attribute]);\n                }\n                else {\n                    this[attribute] = props[attribute];\n                }\n            }\n        });\n        return this;\n    }\n}\n//# sourceMappingURL=ToneWithContext.js.map","import { Timeline } from \"./Timeline.js\";\nimport { assertRange } from \"./Debug.js\";\n/**\n * A Timeline State. Provides the methods: `setStateAtTime(\"state\", time)` and `getValueAtTime(time)`\n * @param initial The initial state of the StateTimeline.  Defaults to `undefined`\n * @internal\n */\nexport class StateTimeline extends Timeline {\n    constructor(initial = \"stopped\") {\n        super();\n        this.name = \"StateTimeline\";\n        this._initial = initial;\n        this.setStateAtTime(this._initial, 0);\n    }\n    /**\n     * Returns the scheduled state scheduled before or at\n     * the given time.\n     * @param  time  The time to query.\n     * @return  The name of the state input in setStateAtTime.\n     */\n    getValueAtTime(time) {\n        const event = this.get(time);\n        if (event !== null) {\n            return event.state;\n        }\n        else {\n            return this._initial;\n        }\n    }\n    /**\n     * Add a state to the timeline.\n     * @param  state The name of the state to set.\n     * @param  time  The time to query.\n     * @param options Any additional options that are needed in the timeline.\n     */\n    setStateAtTime(state, time, options) {\n        assertRange(time, 0);\n        this.add(Object.assign({}, options, {\n            state,\n            time,\n        }));\n        return this;\n    }\n    /**\n     * Return the event before the time with the given state\n     * @param  state The state to look for\n     * @param  time  When to check before\n     * @return  The event with the given state before the time\n     */\n    getLastState(state, time) {\n        // time = this.toSeconds(time);\n        const index = this._search(time);\n        for (let i = index; i >= 0; i--) {\n            const event = this._timeline[i];\n            if (event.state === state) {\n                return event;\n            }\n        }\n    }\n    /**\n     * Return the event after the time with the given state\n     * @param  state The state to look for\n     * @param  time  When to check from\n     * @return  The event with the given state after the time\n     */\n    getNextState(state, time) {\n        // time = this.toSeconds(time);\n        const index = this._search(time);\n        if (index !== -1) {\n            for (let i = index; i < this._timeline.length; i++) {\n                const event = this._timeline[i];\n                if (event.state === state) {\n                    return event;\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=StateTimeline.js.map","import { dbToGain, gainToDb } from \"../type/Conversions.js\";\nimport { isAudioParam } from \"../util/AdvancedTypeCheck.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { Timeline } from \"../util/Timeline.js\";\nimport { isDefined } from \"../util/TypeCheck.js\";\nimport { ToneWithContext } from \"./ToneWithContext.js\";\nimport { EQ } from \"../util/Math.js\";\nimport { assert, assertRange } from \"../util/Debug.js\";\n/**\n * Param wraps the native Web Audio's AudioParam to provide\n * additional unit conversion functionality. It also\n * serves as a base-class for classes which have a single,\n * automatable parameter.\n * @category Core\n */\nexport class Param extends ToneWithContext {\n    constructor() {\n        const options = optionsFromArguments(Param.getDefaults(), arguments, [\n            \"param\",\n            \"units\",\n            \"convert\",\n        ]);\n        super(options);\n        this.name = \"Param\";\n        this.overridden = false;\n        /**\n         * The minimum output value\n         */\n        this._minOutput = 1e-7;\n        assert(isDefined(options.param) &&\n            (isAudioParam(options.param) || options.param instanceof Param), \"param must be an AudioParam\");\n        while (!isAudioParam(options.param)) {\n            options.param = options.param._param;\n        }\n        this._swappable = isDefined(options.swappable)\n            ? options.swappable\n            : false;\n        if (this._swappable) {\n            this.input = this.context.createGain();\n            // initialize\n            this._param = options.param;\n            this.input.connect(this._param);\n        }\n        else {\n            this._param = this.input = options.param;\n        }\n        this._events = new Timeline(1000);\n        this._initialValue = this._param.defaultValue;\n        this.units = options.units;\n        this.convert = options.convert;\n        this._minValue = options.minValue;\n        this._maxValue = options.maxValue;\n        // if the value is defined, set it immediately\n        if (isDefined(options.value) &&\n            options.value !== this._toType(this._initialValue)) {\n            this.setValueAtTime(options.value, 0);\n        }\n    }\n    static getDefaults() {\n        return Object.assign(ToneWithContext.getDefaults(), {\n            convert: true,\n            units: \"number\",\n        });\n    }\n    get value() {\n        const now = this.now();\n        return this.getValueAtTime(now);\n    }\n    set value(value) {\n        this.cancelScheduledValues(this.now());\n        this.setValueAtTime(value, this.now());\n    }\n    get minValue() {\n        // if it's not the default minValue, return it\n        if (isDefined(this._minValue)) {\n            return this._minValue;\n        }\n        else if (this.units === \"time\" ||\n            this.units === \"frequency\" ||\n            this.units === \"normalRange\" ||\n            this.units === \"positive\" ||\n            this.units === \"transportTime\" ||\n            this.units === \"ticks\" ||\n            this.units === \"bpm\" ||\n            this.units === \"hertz\" ||\n            this.units === \"samples\") {\n            return 0;\n        }\n        else if (this.units === \"audioRange\") {\n            return -1;\n        }\n        else if (this.units === \"decibels\") {\n            return -Infinity;\n        }\n        else {\n            return this._param.minValue;\n        }\n    }\n    get maxValue() {\n        if (isDefined(this._maxValue)) {\n            return this._maxValue;\n        }\n        else if (this.units === \"normalRange\" ||\n            this.units === \"audioRange\") {\n            return 1;\n        }\n        else {\n            return this._param.maxValue;\n        }\n    }\n    /**\n     * Type guard based on the unit name\n     */\n    _is(arg, type) {\n        return this.units === type;\n    }\n    /**\n     * Make sure the value is always in the defined range\n     */\n    _assertRange(value) {\n        if (isDefined(this.maxValue) && isDefined(this.minValue)) {\n            assertRange(value, this._fromType(this.minValue), this._fromType(this.maxValue));\n        }\n        return value;\n    }\n    /**\n     * Convert the given value from the type specified by Param.units\n     * into the destination value (such as Gain or Frequency).\n     */\n    _fromType(val) {\n        if (this.convert && !this.overridden) {\n            if (this._is(val, \"time\")) {\n                return this.toSeconds(val);\n            }\n            else if (this._is(val, \"decibels\")) {\n                return dbToGain(val);\n            }\n            else if (this._is(val, \"frequency\")) {\n                return this.toFrequency(val);\n            }\n            else {\n                return val;\n            }\n        }\n        else if (this.overridden) {\n            // if it's overridden, should only schedule 0s\n            return 0;\n        }\n        else {\n            return val;\n        }\n    }\n    /**\n     * Convert the parameters value into the units specified by Param.units.\n     */\n    _toType(val) {\n        if (this.convert && this.units === \"decibels\") {\n            return gainToDb(val);\n        }\n        else {\n            return val;\n        }\n    }\n    //-------------------------------------\n    // ABSTRACT PARAM INTERFACE\n    // all docs are generated from ParamInterface.ts\n    //-------------------------------------\n    setValueAtTime(value, time) {\n        const computedTime = this.toSeconds(time);\n        const numericValue = this._fromType(value);\n        assert(isFinite(numericValue) && isFinite(computedTime), `Invalid argument(s) to setValueAtTime: ${JSON.stringify(value)}, ${JSON.stringify(time)}`);\n        this._assertRange(numericValue);\n        this.log(this.units, \"setValueAtTime\", value, computedTime);\n        this._events.add({\n            time: computedTime,\n            type: \"setValueAtTime\",\n            value: numericValue,\n        });\n        this._param.setValueAtTime(numericValue, computedTime);\n        return this;\n    }\n    getValueAtTime(time) {\n        const computedTime = Math.max(this.toSeconds(time), 0);\n        const after = this._events.getAfter(computedTime);\n        const before = this._events.get(computedTime);\n        let value = this._initialValue;\n        // if it was set by\n        if (before === null) {\n            value = this._initialValue;\n        }\n        else if (before.type === \"setTargetAtTime\" &&\n            (after === null || after.type === \"setValueAtTime\")) {\n            const previous = this._events.getBefore(before.time);\n            let previousVal;\n            if (previous === null) {\n                previousVal = this._initialValue;\n            }\n            else {\n                previousVal = previous.value;\n            }\n            if (before.type === \"setTargetAtTime\") {\n                value = this._exponentialApproach(before.time, previousVal, before.value, before.constant, computedTime);\n            }\n        }\n        else if (after === null) {\n            value = before.value;\n        }\n        else if (after.type === \"linearRampToValueAtTime\" ||\n            after.type === \"exponentialRampToValueAtTime\") {\n            let beforeValue = before.value;\n            if (before.type === \"setTargetAtTime\") {\n                const previous = this._events.getBefore(before.time);\n                if (previous === null) {\n                    beforeValue = this._initialValue;\n                }\n                else {\n                    beforeValue = previous.value;\n                }\n            }\n            if (after.type === \"linearRampToValueAtTime\") {\n                value = this._linearInterpolate(before.time, beforeValue, after.time, after.value, computedTime);\n            }\n            else {\n                value = this._exponentialInterpolate(before.time, beforeValue, after.time, after.value, computedTime);\n            }\n        }\n        else {\n            value = before.value;\n        }\n        return this._toType(value);\n    }\n    setRampPoint(time) {\n        time = this.toSeconds(time);\n        let currentVal = this.getValueAtTime(time);\n        this.cancelAndHoldAtTime(time);\n        if (this._fromType(currentVal) === 0) {\n            currentVal = this._toType(this._minOutput);\n        }\n        this.setValueAtTime(currentVal, time);\n        return this;\n    }\n    linearRampToValueAtTime(value, endTime) {\n        const numericValue = this._fromType(value);\n        const computedTime = this.toSeconds(endTime);\n        assert(isFinite(numericValue) && isFinite(computedTime), `Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(value)}, ${JSON.stringify(endTime)}`);\n        this._assertRange(numericValue);\n        this._events.add({\n            time: computedTime,\n            type: \"linearRampToValueAtTime\",\n            value: numericValue,\n        });\n        this.log(this.units, \"linearRampToValueAtTime\", value, computedTime);\n        this._param.linearRampToValueAtTime(numericValue, computedTime);\n        return this;\n    }\n    exponentialRampToValueAtTime(value, endTime) {\n        let numericValue = this._fromType(value);\n        // the value can't be 0\n        numericValue = EQ(numericValue, 0) ? this._minOutput : numericValue;\n        this._assertRange(numericValue);\n        const computedTime = this.toSeconds(endTime);\n        assert(isFinite(numericValue) && isFinite(computedTime), `Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(value)}, ${JSON.stringify(endTime)}`);\n        // store the event\n        this._events.add({\n            time: computedTime,\n            type: \"exponentialRampToValueAtTime\",\n            value: numericValue,\n        });\n        this.log(this.units, \"exponentialRampToValueAtTime\", value, computedTime);\n        this._param.exponentialRampToValueAtTime(numericValue, computedTime);\n        return this;\n    }\n    exponentialRampTo(value, rampTime, startTime) {\n        startTime = this.toSeconds(startTime);\n        this.setRampPoint(startTime);\n        this.exponentialRampToValueAtTime(value, startTime + this.toSeconds(rampTime));\n        return this;\n    }\n    linearRampTo(value, rampTime, startTime) {\n        startTime = this.toSeconds(startTime);\n        this.setRampPoint(startTime);\n        this.linearRampToValueAtTime(value, startTime + this.toSeconds(rampTime));\n        return this;\n    }\n    targetRampTo(value, rampTime, startTime) {\n        startTime = this.toSeconds(startTime);\n        this.setRampPoint(startTime);\n        this.exponentialApproachValueAtTime(value, startTime, rampTime);\n        return this;\n    }\n    exponentialApproachValueAtTime(value, time, rampTime) {\n        time = this.toSeconds(time);\n        rampTime = this.toSeconds(rampTime);\n        const timeConstant = Math.log(rampTime + 1) / Math.log(200);\n        this.setTargetAtTime(value, time, timeConstant);\n        // at 90% start a linear ramp to the final value\n        this.cancelAndHoldAtTime(time + rampTime * 0.9);\n        this.linearRampToValueAtTime(value, time + rampTime);\n        return this;\n    }\n    setTargetAtTime(value, startTime, timeConstant) {\n        const numericValue = this._fromType(value);\n        // The value will never be able to approach without timeConstant > 0.\n        assert(isFinite(timeConstant) && timeConstant > 0, \"timeConstant must be a number greater than 0\");\n        const computedTime = this.toSeconds(startTime);\n        this._assertRange(numericValue);\n        assert(isFinite(numericValue) && isFinite(computedTime), `Invalid argument(s) to setTargetAtTime: ${JSON.stringify(value)}, ${JSON.stringify(startTime)}`);\n        this._events.add({\n            constant: timeConstant,\n            time: computedTime,\n            type: \"setTargetAtTime\",\n            value: numericValue,\n        });\n        this.log(this.units, \"setTargetAtTime\", value, computedTime, timeConstant);\n        this._param.setTargetAtTime(numericValue, computedTime, timeConstant);\n        return this;\n    }\n    setValueCurveAtTime(values, startTime, duration, scaling = 1) {\n        duration = this.toSeconds(duration);\n        startTime = this.toSeconds(startTime);\n        const startingValue = this._fromType(values[0]) * scaling;\n        this.setValueAtTime(this._toType(startingValue), startTime);\n        const segTime = duration / (values.length - 1);\n        for (let i = 1; i < values.length; i++) {\n            const numericValue = this._fromType(values[i]) * scaling;\n            this.linearRampToValueAtTime(this._toType(numericValue), startTime + i * segTime);\n        }\n        return this;\n    }\n    cancelScheduledValues(time) {\n        const computedTime = this.toSeconds(time);\n        assert(isFinite(computedTime), `Invalid argument to cancelScheduledValues: ${JSON.stringify(time)}`);\n        this._events.cancel(computedTime);\n        this._param.cancelScheduledValues(computedTime);\n        this.log(this.units, \"cancelScheduledValues\", computedTime);\n        return this;\n    }\n    cancelAndHoldAtTime(time) {\n        const computedTime = this.toSeconds(time);\n        const valueAtTime = this._fromType(this.getValueAtTime(computedTime));\n        // remove the schedule events\n        assert(isFinite(computedTime), `Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(time)}`);\n        this.log(this.units, \"cancelAndHoldAtTime\", computedTime, \"value=\" + valueAtTime);\n        // if there is an event at the given computedTime\n        // and that even is not a \"set\"\n        const before = this._events.get(computedTime);\n        const after = this._events.getAfter(computedTime);\n        if (before && EQ(before.time, computedTime)) {\n            // remove everything after\n            if (after) {\n                this._param.cancelScheduledValues(after.time);\n                this._events.cancel(after.time);\n            }\n            else {\n                this._param.cancelAndHoldAtTime(computedTime);\n                this._events.cancel(computedTime + this.sampleTime);\n            }\n        }\n        else if (after) {\n            this._param.cancelScheduledValues(after.time);\n            // cancel the next event(s)\n            this._events.cancel(after.time);\n            if (after.type === \"linearRampToValueAtTime\") {\n                this.linearRampToValueAtTime(this._toType(valueAtTime), computedTime);\n            }\n            else if (after.type === \"exponentialRampToValueAtTime\") {\n                this.exponentialRampToValueAtTime(this._toType(valueAtTime), computedTime);\n            }\n        }\n        // set the value at the given time\n        this._events.add({\n            time: computedTime,\n            type: \"setValueAtTime\",\n            value: valueAtTime,\n        });\n        this._param.setValueAtTime(valueAtTime, computedTime);\n        return this;\n    }\n    rampTo(value, rampTime = 0.1, startTime) {\n        if (this.units === \"frequency\" ||\n            this.units === \"bpm\" ||\n            this.units === \"decibels\") {\n            this.exponentialRampTo(value, rampTime, startTime);\n        }\n        else {\n            this.linearRampTo(value, rampTime, startTime);\n        }\n        return this;\n    }\n    /**\n     * Apply all of the previously scheduled events to the passed in Param or AudioParam.\n     * The applied values will start at the context's current time and schedule\n     * all of the events which are scheduled on this Param onto the passed in param.\n     */\n    apply(param) {\n        const now = this.context.currentTime;\n        // set the param's value at the current time and schedule everything else\n        param.setValueAtTime(this.getValueAtTime(now), now);\n        // if the previous event was a curve, then set the rest of it\n        const previousEvent = this._events.get(now);\n        if (previousEvent && previousEvent.type === \"setTargetAtTime\") {\n            // approx it until the next event with linear ramps\n            const nextEvent = this._events.getAfter(previousEvent.time);\n            // or for 2 seconds if there is no event\n            const endTime = nextEvent ? nextEvent.time : now + 2;\n            const subdivisions = (endTime - now) / 10;\n            for (let i = now; i < endTime; i += subdivisions) {\n                param.linearRampToValueAtTime(this.getValueAtTime(i), i);\n            }\n        }\n        this._events.forEachAfter(this.context.currentTime, (event) => {\n            if (event.type === \"cancelScheduledValues\") {\n                param.cancelScheduledValues(event.time);\n            }\n            else if (event.type === \"setTargetAtTime\") {\n                param.setTargetAtTime(event.value, event.time, event.constant);\n            }\n            else {\n                param[event.type](event.value, event.time);\n            }\n        });\n        return this;\n    }\n    /**\n     * Replace the Param's internal AudioParam. Will apply scheduled curves\n     * onto the parameter and replace the connections.\n     */\n    setParam(param) {\n        assert(this._swappable, \"The Param must be assigned as 'swappable' in the constructor\");\n        const input = this.input;\n        input.disconnect(this._param);\n        this.apply(param);\n        this._param = param;\n        input.connect(this._param);\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._events.dispose();\n        return this;\n    }\n    get defaultValue() {\n        return this._toType(this._param.defaultValue);\n    }\n    //-------------------------------------\n    // \tAUTOMATION CURVE CALCULATIONS\n    // \tMIT License, copyright (c) 2014 Jordan Santell\n    //-------------------------------------\n    // Calculates the the value along the curve produced by setTargetAtTime\n    _exponentialApproach(t0, v0, v1, timeConstant, t) {\n        return v1 + (v0 - v1) * Math.exp(-(t - t0) / timeConstant);\n    }\n    // Calculates the the value along the curve produced by linearRampToValueAtTime\n    _linearInterpolate(t0, v0, t1, v1, t) {\n        return v0 + (v1 - v0) * ((t - t0) / (t1 - t0));\n    }\n    // Calculates the the value along the curve produced by exponentialRampToValueAtTime\n    _exponentialInterpolate(t0, v0, t1, v1, t) {\n        return v0 * Math.pow(v1 / v0, (t - t0) / (t1 - t0));\n    }\n}\n//# sourceMappingURL=Param.js.map","import { isAudioNode, isAudioParam } from \"../util/AdvancedTypeCheck.js\";\nimport { isDefined } from \"../util/TypeCheck.js\";\nimport { Param } from \"./Param.js\";\nimport { ToneWithContext } from \"./ToneWithContext.js\";\nimport { assert, warn } from \"../util/Debug.js\";\n/**\n * ToneAudioNode is the base class for classes which process audio.\n * @category Core\n */\nexport class ToneAudioNode extends ToneWithContext {\n    constructor() {\n        super(...arguments);\n        /**\n         * List all of the node that must be set to match the ChannelProperties\n         */\n        this._internalChannels = [];\n    }\n    /**\n     * The number of inputs feeding into the AudioNode.\n     * For source nodes, this will be 0.\n     * @example\n     * const node = new Tone.Gain();\n     * console.log(node.numberOfInputs);\n     */\n    get numberOfInputs() {\n        if (isDefined(this.input)) {\n            if (isAudioParam(this.input) || this.input instanceof Param) {\n                return 1;\n            }\n            else {\n                return this.input.numberOfInputs;\n            }\n        }\n        else {\n            return 0;\n        }\n    }\n    /**\n     * The number of outputs of the AudioNode.\n     * @example\n     * const node = new Tone.Gain();\n     * console.log(node.numberOfOutputs);\n     */\n    get numberOfOutputs() {\n        if (isDefined(this.output)) {\n            return this.output.numberOfOutputs;\n        }\n        else {\n            return 0;\n        }\n    }\n    //-------------------------------------\n    // AUDIO PROPERTIES\n    //-------------------------------------\n    /**\n     * Used to decide which nodes to get/set properties on\n     */\n    _isAudioNode(node) {\n        return (isDefined(node) &&\n            (node instanceof ToneAudioNode || isAudioNode(node)));\n    }\n    /**\n     * Get all of the audio nodes (either internal or input/output) which together\n     * make up how the class node responds to channel input/output\n     */\n    _getInternalNodes() {\n        const nodeList = this._internalChannels.slice(0);\n        if (this._isAudioNode(this.input)) {\n            nodeList.push(this.input);\n        }\n        if (this._isAudioNode(this.output)) {\n            if (this.input !== this.output) {\n                nodeList.push(this.output);\n            }\n        }\n        return nodeList;\n    }\n    /**\n     * Set the audio options for this node such as channelInterpretation\n     * channelCount, etc.\n     * @param options\n     */\n    _setChannelProperties(options) {\n        const nodeList = this._getInternalNodes();\n        nodeList.forEach((node) => {\n            node.channelCount = options.channelCount;\n            node.channelCountMode = options.channelCountMode;\n            node.channelInterpretation = options.channelInterpretation;\n        });\n    }\n    /**\n     * Get the current audio options for this node such as channelInterpretation\n     * channelCount, etc.\n     */\n    _getChannelProperties() {\n        const nodeList = this._getInternalNodes();\n        assert(nodeList.length > 0, \"ToneAudioNode does not have any internal nodes\");\n        // use the first node to get properties\n        // they should all be the same\n        const node = nodeList[0];\n        return {\n            channelCount: node.channelCount,\n            channelCountMode: node.channelCountMode,\n            channelInterpretation: node.channelInterpretation,\n        };\n    }\n    /**\n     * channelCount is the number of channels used when up-mixing and down-mixing\n     * connections to any inputs to the node. The default value is 2 except for\n     * specific nodes where its value is specially determined.\n     */\n    get channelCount() {\n        return this._getChannelProperties().channelCount;\n    }\n    set channelCount(channelCount) {\n        const props = this._getChannelProperties();\n        // merge it with the other properties\n        this._setChannelProperties(Object.assign(props, { channelCount }));\n    }\n    /**\n     * channelCountMode determines how channels will be counted when up-mixing and\n     * down-mixing connections to any inputs to the node.\n     * The default value is \"max\". This attribute has no effect for nodes with no inputs.\n     * * \"max\" - computedNumberOfChannels is the maximum of the number of channels of all connections to an input. In this mode channelCount is ignored.\n     * * \"clamped-max\" - computedNumberOfChannels is determined as for \"max\" and then clamped to a maximum value of the given channelCount.\n     * * \"explicit\" - computedNumberOfChannels is the exact value as specified by the channelCount.\n     */\n    get channelCountMode() {\n        return this._getChannelProperties().channelCountMode;\n    }\n    set channelCountMode(channelCountMode) {\n        const props = this._getChannelProperties();\n        // merge it with the other properties\n        this._setChannelProperties(Object.assign(props, { channelCountMode }));\n    }\n    /**\n     * channelInterpretation determines how individual channels will be treated\n     * when up-mixing and down-mixing connections to any inputs to the node.\n     * The default value is \"speakers\".\n     */\n    get channelInterpretation() {\n        return this._getChannelProperties().channelInterpretation;\n    }\n    set channelInterpretation(channelInterpretation) {\n        const props = this._getChannelProperties();\n        // merge it with the other properties\n        this._setChannelProperties(Object.assign(props, { channelInterpretation }));\n    }\n    //-------------------------------------\n    // CONNECTIONS\n    //-------------------------------------\n    /**\n     * connect the output of a ToneAudioNode to an AudioParam, AudioNode, or ToneAudioNode\n     * @param destination The output to connect to\n     * @param outputNum The output to connect from\n     * @param inputNum The input to connect to\n     */\n    connect(destination, outputNum = 0, inputNum = 0) {\n        connect(this, destination, outputNum, inputNum);\n        return this;\n    }\n    /**\n     * Connect the output to the context's destination node.\n     * @example\n     * const osc = new Tone.Oscillator(\"C2\").start();\n     * osc.toDestination();\n     */\n    toDestination() {\n        this.connect(this.context.destination);\n        return this;\n    }\n    /**\n     * Connect the output to the context's destination node.\n     * @see {@link toDestination}\n     * @deprecated\n     */\n    toMaster() {\n        warn(\"toMaster() has been renamed toDestination()\");\n        return this.toDestination();\n    }\n    /**\n     * disconnect the output\n     */\n    disconnect(destination, outputNum = 0, inputNum = 0) {\n        disconnect(this, destination, outputNum, inputNum);\n        return this;\n    }\n    /**\n     * Connect the output of this node to the rest of the nodes in series.\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/drum-samples/handdrum-loop.mp3\");\n     * player.autostart = true;\n     * const filter = new Tone.AutoFilter(4).start();\n     * const distortion = new Tone.Distortion(0.5);\n     * // connect the player to the filter, distortion and then to the master output\n     * player.chain(filter, distortion, Tone.Destination);\n     */\n    chain(...nodes) {\n        connectSeries(this, ...nodes);\n        return this;\n    }\n    /**\n     * connect the output of this node to the rest of the nodes in parallel.\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/drum-samples/conga-rhythm.mp3\");\n     * player.autostart = true;\n     * const pitchShift = new Tone.PitchShift(4).toDestination();\n     * const filter = new Tone.Filter(\"G5\").toDestination();\n     * // connect a node to the pitch shift and filter in parallel\n     * player.fan(pitchShift, filter);\n     */\n    fan(...nodes) {\n        nodes.forEach((node) => this.connect(node));\n        return this;\n    }\n    /**\n     * Dispose and disconnect\n     */\n    dispose() {\n        super.dispose();\n        if (isDefined(this.input)) {\n            if (this.input instanceof ToneAudioNode) {\n                this.input.dispose();\n            }\n            else if (isAudioNode(this.input)) {\n                this.input.disconnect();\n            }\n        }\n        if (isDefined(this.output)) {\n            if (this.output instanceof ToneAudioNode) {\n                this.output.dispose();\n            }\n            else if (isAudioNode(this.output)) {\n                this.output.disconnect();\n            }\n        }\n        this._internalChannels = [];\n        return this;\n    }\n}\n//-------------------------------------\n// CONNECTIONS\n//-------------------------------------\n/**\n * connect together all of the arguments in series\n * @param nodes\n */\nexport function connectSeries(...nodes) {\n    const first = nodes.shift();\n    nodes.reduce((prev, current) => {\n        if (prev instanceof ToneAudioNode) {\n            prev.connect(current);\n        }\n        else if (isAudioNode(prev)) {\n            connect(prev, current);\n        }\n        return current;\n    }, first);\n}\n/**\n * Connect two nodes together so that signal flows from the\n * first node to the second. Optionally specify the input and output channels.\n * @param srcNode The source node\n * @param dstNode The destination node\n * @param outputNumber The output channel of the srcNode\n * @param inputNumber The input channel of the dstNode\n */\nexport function connect(srcNode, dstNode, outputNumber = 0, inputNumber = 0) {\n    assert(isDefined(srcNode), \"Cannot connect from undefined node\");\n    assert(isDefined(dstNode), \"Cannot connect to undefined node\");\n    if (dstNode instanceof ToneAudioNode || isAudioNode(dstNode)) {\n        assert(dstNode.numberOfInputs > 0, \"Cannot connect to node with no inputs\");\n    }\n    assert(srcNode.numberOfOutputs > 0, \"Cannot connect from node with no outputs\");\n    // resolve the input of the dstNode\n    while (dstNode instanceof ToneAudioNode || dstNode instanceof Param) {\n        if (isDefined(dstNode.input)) {\n            dstNode = dstNode.input;\n        }\n    }\n    while (srcNode instanceof ToneAudioNode) {\n        if (isDefined(srcNode.output)) {\n            srcNode = srcNode.output;\n        }\n    }\n    // make the connection\n    if (isAudioParam(dstNode)) {\n        srcNode.connect(dstNode, outputNumber);\n    }\n    else {\n        srcNode.connect(dstNode, outputNumber, inputNumber);\n    }\n}\n/**\n * Disconnect a node from all nodes or optionally include a destination node and input/output channels.\n * @param srcNode The source node\n * @param dstNode The destination node\n * @param outputNumber The output channel of the srcNode\n * @param inputNumber The input channel of the dstNode\n */\nexport function disconnect(srcNode, dstNode, outputNumber = 0, inputNumber = 0) {\n    // resolve the destination node\n    if (isDefined(dstNode)) {\n        while (dstNode instanceof ToneAudioNode) {\n            dstNode = dstNode.input;\n        }\n    }\n    // resolve the src node\n    while (!isAudioNode(srcNode)) {\n        if (isDefined(srcNode.output)) {\n            srcNode = srcNode.output;\n        }\n    }\n    if (isAudioParam(dstNode)) {\n        srcNode.disconnect(dstNode, outputNumber);\n    }\n    else if (isAudioNode(dstNode)) {\n        srcNode.disconnect(dstNode, outputNumber, inputNumber);\n    }\n    else {\n        srcNode.disconnect();\n    }\n}\n/**\n * Connect the output of one or more source nodes to a single destination node\n * @param nodes One or more source nodes followed by one destination node\n * @example\n * const player = new Tone.Player(\"https://tonejs.github.io/audio/drum-samples/conga-rhythm.mp3\");\n * const player1 = new Tone.Player(\"https://tonejs.github.io/audio/drum-samples/conga-rhythm.mp3\");\n * const filter = new Tone.Filter(\"G5\").toDestination();\n * // connect nodes to a common destination\n * Tone.fanIn(player, player1, filter);\n */\nexport function fanIn(...nodes) {\n    const dstNode = nodes.pop();\n    if (isDefined(dstNode)) {\n        nodes.forEach((node) => connect(node, dstNode));\n    }\n}\n//# sourceMappingURL=ToneAudioNode.js.map","import { Param } from \"../context/Param.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { readOnly } from \"../util/Interface.js\";\nimport { ToneAudioNode } from \"./ToneAudioNode.js\";\n/**\n * A thin wrapper around the Native Web Audio GainNode.\n * The GainNode is a basic building block of the Web Audio\n * API and is useful for routing audio and adjusting gains.\n * @category Core\n * @example\n * return Tone.Offline(() => {\n * \tconst gainNode = new Tone.Gain(0).toDestination();\n * \tconst osc = new Tone.Oscillator(30).connect(gainNode).start();\n * \tgainNode.gain.rampTo(1, 0.1);\n * \tgainNode.gain.rampTo(0, 0.4, 0.2);\n * }, 0.7, 1);\n */\nexport class Gain extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Gain.getDefaults(), arguments, [\n            \"gain\",\n            \"units\",\n        ]);\n        super(options);\n        this.name = \"Gain\";\n        /**\n         * The wrapped GainNode.\n         */\n        this._gainNode = this.context.createGain();\n        // input = output\n        this.input = this._gainNode;\n        this.output = this._gainNode;\n        this.gain = new Param({\n            context: this.context,\n            convert: options.convert,\n            param: this._gainNode.gain,\n            units: options.units,\n            value: options.gain,\n            minValue: options.minValue,\n            maxValue: options.maxValue,\n        });\n        readOnly(this, \"gain\");\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            convert: true,\n            gain: 1,\n            units: \"gain\",\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._gainNode.disconnect();\n        this.gain.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Gain.js.map","import { Gain } from \"../core/context/Gain.js\";\nimport { ToneAudioNode, } from \"../core/context/ToneAudioNode.js\";\nimport { noOp } from \"../core/util/Interface.js\";\nimport { assert } from \"../core/util/Debug.js\";\n/**\n * Base class for fire-and-forget nodes\n */\nexport class OneShotSource extends ToneAudioNode {\n    constructor(options) {\n        super(options);\n        /**\n         * The callback to invoke after the\n         * source is done playing.\n         */\n        this.onended = noOp;\n        /**\n         * The start time\n         */\n        this._startTime = -1;\n        /**\n         * The stop time\n         */\n        this._stopTime = -1;\n        /**\n         * The id of the timeout\n         */\n        this._timeout = -1;\n        /**\n         * The public output node\n         */\n        this.output = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        /**\n         * The output gain node.\n         */\n        this._gainNode = this.output;\n        /**\n         * Get the playback state at the given time\n         */\n        this.getStateAtTime = function (time) {\n            const computedTime = this.toSeconds(time);\n            if (this._startTime !== -1 &&\n                computedTime >= this._startTime &&\n                (this._stopTime === -1 || computedTime <= this._stopTime)) {\n                return \"started\";\n            }\n            else {\n                return \"stopped\";\n            }\n        };\n        this._fadeIn = options.fadeIn;\n        this._fadeOut = options.fadeOut;\n        this._curve = options.curve;\n        this.onended = options.onended;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            curve: \"linear\",\n            fadeIn: 0,\n            fadeOut: 0,\n            onended: noOp,\n        });\n    }\n    /**\n     * Start the source at the given time\n     * @param  time When to start the source\n     */\n    _startGain(time, gain = 1) {\n        assert(this._startTime === -1, \"Source cannot be started more than once\");\n        // apply a fade in envelope\n        const fadeInTime = this.toSeconds(this._fadeIn);\n        // record the start time\n        this._startTime = time + fadeInTime;\n        this._startTime = Math.max(this._startTime, this.context.currentTime);\n        // schedule the envelope\n        if (fadeInTime > 0) {\n            this._gainNode.gain.setValueAtTime(0, time);\n            if (this._curve === \"linear\") {\n                this._gainNode.gain.linearRampToValueAtTime(gain, time + fadeInTime);\n            }\n            else {\n                this._gainNode.gain.exponentialApproachValueAtTime(gain, time, fadeInTime);\n            }\n        }\n        else {\n            this._gainNode.gain.setValueAtTime(gain, time);\n        }\n        return this;\n    }\n    /**\n     * Stop the source node at the given time.\n     * @param time When to stop the source\n     */\n    stop(time) {\n        this.log(\"stop\", time);\n        this._stopGain(this.toSeconds(time));\n        return this;\n    }\n    /**\n     * Stop the source at the given time\n     * @param  time When to stop the source\n     */\n    _stopGain(time) {\n        assert(this._startTime !== -1, \"'start' must be called before 'stop'\");\n        // cancel the previous stop\n        this.cancelStop();\n        // the fadeOut time\n        const fadeOutTime = this.toSeconds(this._fadeOut);\n        // schedule the stop callback\n        this._stopTime = this.toSeconds(time) + fadeOutTime;\n        this._stopTime = Math.max(this._stopTime, this.now());\n        if (fadeOutTime > 0) {\n            // start the fade out curve at the given time\n            if (this._curve === \"linear\") {\n                this._gainNode.gain.linearRampTo(0, fadeOutTime, time);\n            }\n            else {\n                this._gainNode.gain.targetRampTo(0, fadeOutTime, time);\n            }\n        }\n        else {\n            // stop any ongoing ramps, and set the value to 0\n            this._gainNode.gain.cancelAndHoldAtTime(time);\n            this._gainNode.gain.setValueAtTime(0, time);\n        }\n        this.context.clearTimeout(this._timeout);\n        this._timeout = this.context.setTimeout(() => {\n            // allow additional time for the exponential curve to fully decay\n            const additionalTail = this._curve === \"exponential\" ? fadeOutTime * 2 : 0;\n            this._stopSource(this.now() + additionalTail);\n            this._onended();\n        }, this._stopTime - this.context.currentTime);\n        return this;\n    }\n    /**\n     * Invoke the onended callback\n     */\n    _onended() {\n        if (this.onended === noOp) {\n            return;\n        }\n        this.onended(this);\n        // overwrite onended to make sure it only is called once\n        this.onended = noOp;\n        // dispose when it's ended to free up for garbage collection only in the online context\n        if (!this.context.isOffline) {\n            const disposeCallback = () => this.dispose();\n            if (typeof requestIdleCallback !== \"undefined\") {\n                requestIdleCallback(disposeCallback);\n            }\n            else {\n                setTimeout(disposeCallback, 10);\n            }\n        }\n    }\n    /**\n     * Get the playback state at the current time\n     */\n    get state() {\n        return this.getStateAtTime(this.now());\n    }\n    /**\n     * Cancel a scheduled stop event\n     */\n    cancelStop() {\n        this.log(\"cancelStop\");\n        assert(this._startTime !== -1, \"Source is not started\");\n        // cancel the stop envelope\n        this._gainNode.gain.cancelScheduledValues(this._startTime + this.sampleTime);\n        this.context.clearTimeout(this._timeout);\n        this._stopTime = -1;\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._gainNode.dispose();\n        this.onended = noOp;\n        return this;\n    }\n}\n//# sourceMappingURL=OneShotSource.js.map","import { connect } from \"../core/context/ToneAudioNode.js\";\nimport { Param } from \"../core/context/Param.js\";\nimport { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { OneShotSource, } from \"../source/OneShotSource.js\";\n/**\n * Wrapper around the native fire-and-forget ConstantSource.\n * Adds the ability to reschedule the stop method.\n * @category Signal\n */\nexport class ToneConstantSource extends OneShotSource {\n    constructor() {\n        const options = optionsFromArguments(ToneConstantSource.getDefaults(), arguments, [\"offset\"]);\n        super(options);\n        this.name = \"ToneConstantSource\";\n        /**\n         * The signal generator\n         */\n        this._source = this.context.createConstantSource();\n        connect(this._source, this._gainNode);\n        this.offset = new Param({\n            context: this.context,\n            convert: options.convert,\n            param: this._source.offset,\n            units: options.units,\n            value: options.offset,\n            minValue: options.minValue,\n            maxValue: options.maxValue,\n        });\n    }\n    static getDefaults() {\n        return Object.assign(OneShotSource.getDefaults(), {\n            convert: true,\n            offset: 1,\n            units: \"number\",\n        });\n    }\n    /**\n     * Start the source node at the given time\n     * @param  time When to start the source\n     */\n    start(time) {\n        const computedTime = this.toSeconds(time);\n        this.log(\"start\", computedTime);\n        this._startGain(computedTime);\n        this._source.start(computedTime);\n        return this;\n    }\n    _stopSource(time) {\n        this._source.stop(time);\n    }\n    dispose() {\n        super.dispose();\n        if (this.state === \"started\") {\n            this.stop();\n        }\n        this._source.disconnect();\n        this.offset.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=ToneConstantSource.js.map","import { Param } from \"../core/context/Param.js\";\nimport { ToneAudioNode, } from \"../core/context/ToneAudioNode.js\";\nimport { connect } from \"../core/context/ToneAudioNode.js\";\nimport { isAudioParam } from \"../core/util/AdvancedTypeCheck.js\";\nimport { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { ToneConstantSource } from \"./ToneConstantSource.js\";\n/**\n * A signal is an audio-rate value. Tone.Signal is a core component of the library.\n * Unlike a number, Signals can be scheduled with sample-level accuracy. Tone.Signal\n * has all of the methods available to native Web Audio\n * [AudioParam](http://webaudio.github.io/web-audio-api/#the-audioparam-interface)\n * as well as additional conveniences. Read more about working with signals\n * [here](https://github.com/Tonejs/Tone.js/wiki/Signals).\n *\n * @example\n * const osc = new Tone.Oscillator().toDestination().start();\n * // a scheduleable signal which can be connected to control an AudioParam or another Signal\n * const signal = new Tone.Signal({\n * \tvalue: \"C4\",\n * \tunits: \"frequency\"\n * }).connect(osc.frequency);\n * // the scheduled ramp controls the connected signal\n * signal.rampTo(\"C2\", 4, \"+0.5\");\n * @category Signal\n */\nexport class Signal extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Signal.getDefaults(), arguments, [\n            \"value\",\n            \"units\",\n        ]);\n        super(options);\n        this.name = \"Signal\";\n        /**\n         * Indicates if the value should be overridden on connection.\n         */\n        this.override = true;\n        this.output = this._constantSource = new ToneConstantSource({\n            context: this.context,\n            convert: options.convert,\n            offset: options.value,\n            units: options.units,\n            minValue: options.minValue,\n            maxValue: options.maxValue,\n        });\n        this._constantSource.start(0);\n        this.input = this._param = this._constantSource.offset;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            convert: true,\n            units: \"number\",\n            value: 0,\n        });\n    }\n    connect(destination, outputNum = 0, inputNum = 0) {\n        // start it only when connected to something\n        connectSignal(this, destination, outputNum, inputNum);\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._param.dispose();\n        this._constantSource.dispose();\n        return this;\n    }\n    //-------------------------------------\n    // ABSTRACT PARAM INTERFACE\n    // just a proxy for the ConstantSourceNode's offset AudioParam\n    // all docs are generated from AbstractParam.ts\n    //-------------------------------------\n    setValueAtTime(value, time) {\n        this._param.setValueAtTime(value, time);\n        return this;\n    }\n    getValueAtTime(time) {\n        return this._param.getValueAtTime(time);\n    }\n    setRampPoint(time) {\n        this._param.setRampPoint(time);\n        return this;\n    }\n    linearRampToValueAtTime(value, time) {\n        this._param.linearRampToValueAtTime(value, time);\n        return this;\n    }\n    exponentialRampToValueAtTime(value, time) {\n        this._param.exponentialRampToValueAtTime(value, time);\n        return this;\n    }\n    exponentialRampTo(value, rampTime, startTime) {\n        this._param.exponentialRampTo(value, rampTime, startTime);\n        return this;\n    }\n    linearRampTo(value, rampTime, startTime) {\n        this._param.linearRampTo(value, rampTime, startTime);\n        return this;\n    }\n    targetRampTo(value, rampTime, startTime) {\n        this._param.targetRampTo(value, rampTime, startTime);\n        return this;\n    }\n    exponentialApproachValueAtTime(value, time, rampTime) {\n        this._param.exponentialApproachValueAtTime(value, time, rampTime);\n        return this;\n    }\n    setTargetAtTime(value, startTime, timeConstant) {\n        this._param.setTargetAtTime(value, startTime, timeConstant);\n        return this;\n    }\n    setValueCurveAtTime(values, startTime, duration, scaling) {\n        this._param.setValueCurveAtTime(values, startTime, duration, scaling);\n        return this;\n    }\n    cancelScheduledValues(time) {\n        this._param.cancelScheduledValues(time);\n        return this;\n    }\n    cancelAndHoldAtTime(time) {\n        this._param.cancelAndHoldAtTime(time);\n        return this;\n    }\n    rampTo(value, rampTime, startTime) {\n        this._param.rampTo(value, rampTime, startTime);\n        return this;\n    }\n    get value() {\n        return this._param.value;\n    }\n    set value(value) {\n        this._param.value = value;\n    }\n    get convert() {\n        return this._param.convert;\n    }\n    set convert(convert) {\n        this._param.convert = convert;\n    }\n    get units() {\n        return this._param.units;\n    }\n    get overridden() {\n        return this._param.overridden;\n    }\n    set overridden(overridden) {\n        this._param.overridden = overridden;\n    }\n    get maxValue() {\n        return this._param.maxValue;\n    }\n    get minValue() {\n        return this._param.minValue;\n    }\n    /**\n     * @see {@link Param.apply}.\n     */\n    apply(param) {\n        this._param.apply(param);\n        return this;\n    }\n}\n/**\n * When connecting from a signal, it's necessary to zero out the node destination\n * node if that node is also a signal. If the destination is not 0, then the values\n * will be summed. This method insures that the output of the destination signal will\n * be the same as the source signal, making the destination signal a pass through node.\n * @param signal The output signal to connect from\n * @param destination the destination to connect to\n * @param outputNum the optional output number\n * @param inputNum the input number\n */\nexport function connectSignal(signal, destination, outputNum, inputNum) {\n    if (destination instanceof Param ||\n        isAudioParam(destination) ||\n        (destination instanceof Signal && destination.override)) {\n        // cancel changes\n        destination.cancelScheduledValues(0);\n        // reset the value\n        destination.setValueAtTime(0, 0);\n        // mark the value as overridden\n        if (destination instanceof Signal) {\n            destination.overridden = true;\n        }\n    }\n    connect(signal, destination, outputNum, inputNum);\n}\n//# sourceMappingURL=Signal.js.map","import { Param } from \"../context/Param.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { Timeline } from \"../util/Timeline.js\";\nimport { isUndef } from \"../util/TypeCheck.js\";\n/**\n * A Param class just for computing ticks. Similar to the {@link Param} class,\n * but offers conversion to BPM values as well as ability to compute tick\n * duration and elapsed ticks\n */\nexport class TickParam extends Param {\n    constructor() {\n        const options = optionsFromArguments(TickParam.getDefaults(), arguments, [\"value\"]);\n        super(options);\n        this.name = \"TickParam\";\n        /**\n         * The timeline which tracks all of the automations.\n         */\n        this._events = new Timeline(Infinity);\n        /**\n         * The internal holder for the multiplier value\n         */\n        this._multiplier = 1;\n        // set the multiplier\n        this._multiplier = options.multiplier;\n        // clear the ticks from the beginning\n        this._events.cancel(0);\n        // set an initial event\n        this._events.add({\n            ticks: 0,\n            time: 0,\n            type: \"setValueAtTime\",\n            value: this._fromType(options.value),\n        });\n        this.setValueAtTime(options.value, 0);\n    }\n    static getDefaults() {\n        return Object.assign(Param.getDefaults(), {\n            multiplier: 1,\n            units: \"hertz\",\n            value: 1,\n        });\n    }\n    setTargetAtTime(value, time, constant) {\n        // approximate it with multiple linear ramps\n        time = this.toSeconds(time);\n        this.setRampPoint(time);\n        const computedValue = this._fromType(value);\n        // start from previously scheduled value\n        const prevEvent = this._events.get(time);\n        const segments = Math.round(Math.max(1 / constant, 1));\n        for (let i = 0; i <= segments; i++) {\n            const segTime = constant * i + time;\n            const rampVal = this._exponentialApproach(prevEvent.time, prevEvent.value, computedValue, constant, segTime);\n            this.linearRampToValueAtTime(this._toType(rampVal), segTime);\n        }\n        return this;\n    }\n    setValueAtTime(value, time) {\n        const computedTime = this.toSeconds(time);\n        super.setValueAtTime(value, time);\n        const event = this._events.get(computedTime);\n        const previousEvent = this._events.previousEvent(event);\n        const ticksUntilTime = this._getTicksUntilEvent(previousEvent, computedTime);\n        event.ticks = Math.max(ticksUntilTime, 0);\n        return this;\n    }\n    linearRampToValueAtTime(value, time) {\n        const computedTime = this.toSeconds(time);\n        super.linearRampToValueAtTime(value, time);\n        const event = this._events.get(computedTime);\n        const previousEvent = this._events.previousEvent(event);\n        const ticksUntilTime = this._getTicksUntilEvent(previousEvent, computedTime);\n        event.ticks = Math.max(ticksUntilTime, 0);\n        return this;\n    }\n    exponentialRampToValueAtTime(value, time) {\n        // aproximate it with multiple linear ramps\n        time = this.toSeconds(time);\n        const computedVal = this._fromType(value);\n        // start from previously scheduled value\n        const prevEvent = this._events.get(time);\n        // approx 10 segments per second\n        const segments = Math.round(Math.max((time - prevEvent.time) * 10, 1));\n        const segmentDur = (time - prevEvent.time) / segments;\n        for (let i = 0; i <= segments; i++) {\n            const segTime = segmentDur * i + prevEvent.time;\n            const rampVal = this._exponentialInterpolate(prevEvent.time, prevEvent.value, time, computedVal, segTime);\n            this.linearRampToValueAtTime(this._toType(rampVal), segTime);\n        }\n        return this;\n    }\n    /**\n     * Returns the tick value at the time. Takes into account\n     * any automation curves scheduled on the signal.\n     * @param  event The time to get the tick count at\n     * @return The number of ticks which have elapsed at the time given any automations.\n     */\n    _getTicksUntilEvent(event, time) {\n        if (event === null) {\n            event = {\n                ticks: 0,\n                time: 0,\n                type: \"setValueAtTime\",\n                value: 0,\n            };\n        }\n        else if (isUndef(event.ticks)) {\n            const previousEvent = this._events.previousEvent(event);\n            event.ticks = this._getTicksUntilEvent(previousEvent, event.time);\n        }\n        const val0 = this._fromType(this.getValueAtTime(event.time));\n        let val1 = this._fromType(this.getValueAtTime(time));\n        // if it's right on the line, take the previous value\n        const onTheLineEvent = this._events.get(time);\n        if (onTheLineEvent &&\n            onTheLineEvent.time === time &&\n            onTheLineEvent.type === \"setValueAtTime\") {\n            val1 = this._fromType(this.getValueAtTime(time - this.sampleTime));\n        }\n        return 0.5 * (time - event.time) * (val0 + val1) + event.ticks;\n    }\n    /**\n     * Returns the tick value at the time. Takes into account\n     * any automation curves scheduled on the signal.\n     * @param  time The time to get the tick count at\n     * @return The number of ticks which have elapsed at the time given any automations.\n     */\n    getTicksAtTime(time) {\n        const computedTime = this.toSeconds(time);\n        const event = this._events.get(computedTime);\n        return Math.max(this._getTicksUntilEvent(event, computedTime), 0);\n    }\n    /**\n     * Return the elapsed time of the number of ticks from the given time\n     * @param ticks The number of ticks to calculate\n     * @param  time The time to get the next tick from\n     * @return The duration of the number of ticks from the given time in seconds\n     */\n    getDurationOfTicks(ticks, time) {\n        const computedTime = this.toSeconds(time);\n        const currentTick = this.getTicksAtTime(time);\n        return this.getTimeOfTick(currentTick + ticks) - computedTime;\n    }\n    /**\n     * Given a tick, returns the time that tick occurs at.\n     * @return The time that the tick occurs.\n     */\n    getTimeOfTick(tick) {\n        const before = this._events.get(tick, \"ticks\");\n        const after = this._events.getAfter(tick, \"ticks\");\n        if (before && before.ticks === tick) {\n            return before.time;\n        }\n        else if (before &&\n            after &&\n            after.type === \"linearRampToValueAtTime\" &&\n            before.value !== after.value) {\n            const val0 = this._fromType(this.getValueAtTime(before.time));\n            const val1 = this._fromType(this.getValueAtTime(after.time));\n            const delta = (val1 - val0) / (after.time - before.time);\n            const k = Math.sqrt(Math.pow(val0, 2) - 2 * delta * (before.ticks - tick));\n            const sol1 = (-val0 + k) / delta;\n            const sol2 = (-val0 - k) / delta;\n            return (sol1 > 0 ? sol1 : sol2) + before.time;\n        }\n        else if (before) {\n            if (before.value === 0) {\n                return Infinity;\n            }\n            else {\n                return before.time + (tick - before.ticks) / before.value;\n            }\n        }\n        else {\n            return tick / this._initialValue;\n        }\n    }\n    /**\n     * Convert some number of ticks their the duration in seconds accounting\n     * for any automation curves starting at the given time.\n     * @param  ticks The number of ticks to convert to seconds.\n     * @param  when  When along the automation timeline to convert the ticks.\n     * @return The duration in seconds of the ticks.\n     */\n    ticksToTime(ticks, when) {\n        return this.getDurationOfTicks(ticks, when);\n    }\n    /**\n     * The inverse of {@link ticksToTime}. Convert a duration in\n     * seconds to the corresponding number of ticks accounting for any\n     * automation curves starting at the given time.\n     * @param  duration The time interval to convert to ticks.\n     * @param  when When along the automation timeline to convert the ticks.\n     * @return The duration in ticks.\n     */\n    timeToTicks(duration, when) {\n        const computedTime = this.toSeconds(when);\n        const computedDuration = this.toSeconds(duration);\n        const startTicks = this.getTicksAtTime(computedTime);\n        const endTicks = this.getTicksAtTime(computedTime + computedDuration);\n        return endTicks - startTicks;\n    }\n    /**\n     * Convert from the type when the unit value is BPM\n     */\n    _fromType(val) {\n        if (this.units === \"bpm\" && this.multiplier) {\n            return 1 / (60 / val / this.multiplier);\n        }\n        else {\n            return super._fromType(val);\n        }\n    }\n    /**\n     * Special case of type conversion where the units === \"bpm\"\n     */\n    _toType(val) {\n        if (this.units === \"bpm\" && this.multiplier) {\n            return ((val / this.multiplier) * 60);\n        }\n        else {\n            return super._toType(val);\n        }\n    }\n    /**\n     * A multiplier on the bpm value. Useful for setting a PPQ relative to the base frequency value.\n     */\n    get multiplier() {\n        return this._multiplier;\n    }\n    set multiplier(m) {\n        // get and reset the current value with the new multiplier\n        // might be necessary to clear all the previous values\n        const currentVal = this.value;\n        this._multiplier = m;\n        this.cancelScheduledValues(0);\n        this.setValueAtTime(currentVal, 0);\n    }\n}\n//# sourceMappingURL=TickParam.js.map","import { Signal } from \"../../signal/Signal.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { TickParam } from \"./TickParam.js\";\n/**\n * TickSignal extends Tone.Signal, but adds the capability\n * to calculate the number of elapsed ticks. exponential and target curves\n * are approximated with multiple linear ramps.\n *\n * Thank you Bruno Dias, H. Sofia Pinto, and David M. Matos,\n * for your [WAC paper](https://smartech.gatech.edu/bitstream/handle/1853/54588/WAC2016-49.pdf)\n * describing integrating timing functions for tempo calculations.\n */\nexport class TickSignal extends Signal {\n    constructor() {\n        const options = optionsFromArguments(TickSignal.getDefaults(), arguments, [\"value\"]);\n        super(options);\n        this.name = \"TickSignal\";\n        this.input = this._param = new TickParam({\n            context: this.context,\n            convert: options.convert,\n            multiplier: options.multiplier,\n            param: this._constantSource.offset,\n            units: options.units,\n            value: options.value,\n        });\n    }\n    static getDefaults() {\n        return Object.assign(Signal.getDefaults(), {\n            multiplier: 1,\n            units: \"hertz\",\n            value: 1,\n        });\n    }\n    ticksToTime(ticks, when) {\n        return this._param.ticksToTime(ticks, when);\n    }\n    timeToTicks(duration, when) {\n        return this._param.timeToTicks(duration, when);\n    }\n    getTimeOfTick(tick) {\n        return this._param.getTimeOfTick(tick);\n    }\n    getDurationOfTicks(ticks, time) {\n        return this._param.getDurationOfTicks(ticks, time);\n    }\n    getTicksAtTime(time) {\n        return this._param.getTicksAtTime(time);\n    }\n    /**\n     * A multiplier on the bpm value. Useful for setting a PPQ relative to the base frequency value.\n     */\n    get multiplier() {\n        return this._param.multiplier;\n    }\n    set multiplier(m) {\n        this._param.multiplier = m;\n    }\n    dispose() {\n        super.dispose();\n        this._param.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=TickSignal.js.map","import { ToneWithContext, } from \"../context/ToneWithContext.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { readOnly } from \"../util/Interface.js\";\nimport { StateTimeline, } from \"../util/StateTimeline.js\";\nimport { Timeline } from \"../util/Timeline.js\";\nimport { isDefined } from \"../util/TypeCheck.js\";\nimport { TickSignal } from \"./TickSignal.js\";\nimport { EQ } from \"../util/Math.js\";\n/**\n * Uses [TickSignal](TickSignal) to track elapsed ticks with complex automation curves.\n */\nexport class TickSource extends ToneWithContext {\n    constructor() {\n        const options = optionsFromArguments(TickSource.getDefaults(), arguments, [\"frequency\"]);\n        super(options);\n        this.name = \"TickSource\";\n        /**\n         * The state timeline\n         */\n        this._state = new StateTimeline();\n        /**\n         * The offset values of the ticks\n         */\n        this._tickOffset = new Timeline();\n        /**\n         * Memoized values of getTicksAtTime at events with state other than \"started\"\n         */\n        this._ticksAtTime = new Timeline();\n        /**\n         * Memoized values of getSecondsAtTime at events with state other than \"started\"\n         */\n        this._secondsAtTime = new Timeline();\n        this.frequency = new TickSignal({\n            context: this.context,\n            units: options.units,\n            value: options.frequency,\n        });\n        readOnly(this, \"frequency\");\n        // set the initial state\n        this._state.setStateAtTime(\"stopped\", 0);\n        // add the first event\n        this.setTicksAtTime(0, 0);\n    }\n    static getDefaults() {\n        return Object.assign({\n            frequency: 1,\n            units: \"hertz\",\n        }, ToneWithContext.getDefaults());\n    }\n    /**\n     * Returns the playback state of the source, either \"started\", \"stopped\" or \"paused\".\n     */\n    get state() {\n        return this.getStateAtTime(this.now());\n    }\n    /**\n     * Start the clock at the given time. Optionally pass in an offset\n     * of where to start the tick counter from.\n     * @param  time    The time the clock should start\n     * @param offset The number of ticks to start the source at\n     */\n    start(time, offset) {\n        const computedTime = this.toSeconds(time);\n        if (this._state.getValueAtTime(computedTime) !== \"started\") {\n            this._state.setStateAtTime(\"started\", computedTime);\n            if (isDefined(offset)) {\n                this.setTicksAtTime(offset, computedTime);\n            }\n            this._ticksAtTime.cancel(computedTime);\n            this._secondsAtTime.cancel(computedTime);\n        }\n        return this;\n    }\n    /**\n     * Stop the clock. Stopping the clock resets the tick counter to 0.\n     * @param time The time when the clock should stop.\n     */\n    stop(time) {\n        const computedTime = this.toSeconds(time);\n        // cancel the previous stop\n        if (this._state.getValueAtTime(computedTime) === \"stopped\") {\n            const event = this._state.get(computedTime);\n            if (event && event.time > 0) {\n                this._tickOffset.cancel(event.time);\n                this._state.cancel(event.time);\n            }\n        }\n        this._state.cancel(computedTime);\n        this._state.setStateAtTime(\"stopped\", computedTime);\n        this.setTicksAtTime(0, computedTime);\n        this._ticksAtTime.cancel(computedTime);\n        this._secondsAtTime.cancel(computedTime);\n        return this;\n    }\n    /**\n     * Pause the clock. Pausing does not reset the tick counter.\n     * @param time The time when the clock should stop.\n     */\n    pause(time) {\n        const computedTime = this.toSeconds(time);\n        if (this._state.getValueAtTime(computedTime) === \"started\") {\n            this._state.setStateAtTime(\"paused\", computedTime);\n            this._ticksAtTime.cancel(computedTime);\n            this._secondsAtTime.cancel(computedTime);\n        }\n        return this;\n    }\n    /**\n     * Cancel start/stop/pause and setTickAtTime events scheduled after the given time.\n     * @param time When to clear the events after\n     */\n    cancel(time) {\n        time = this.toSeconds(time);\n        this._state.cancel(time);\n        this._tickOffset.cancel(time);\n        this._ticksAtTime.cancel(time);\n        this._secondsAtTime.cancel(time);\n        return this;\n    }\n    /**\n     * Get the elapsed ticks at the given time\n     * @param  time  When to get the tick value\n     * @return The number of ticks\n     */\n    getTicksAtTime(time) {\n        const computedTime = this.toSeconds(time);\n        const stopEvent = this._state.getLastState(\"stopped\", computedTime);\n        // get previously memoized ticks if available\n        const memoizedEvent = this._ticksAtTime.get(computedTime);\n        // this event allows forEachBetween to iterate until the current time\n        const tmpEvent = {\n            state: \"paused\",\n            time: computedTime,\n        };\n        this._state.add(tmpEvent);\n        // keep track of the previous offset event\n        let lastState = memoizedEvent ? memoizedEvent : stopEvent;\n        let elapsedTicks = memoizedEvent ? memoizedEvent.ticks : 0;\n        let eventToMemoize = null;\n        // iterate through all the events since the last stop\n        this._state.forEachBetween(lastState.time, computedTime + this.sampleTime, (e) => {\n            let periodStartTime = lastState.time;\n            // if there is an offset event in this period use that\n            const offsetEvent = this._tickOffset.get(e.time);\n            if (offsetEvent && offsetEvent.time >= lastState.time) {\n                elapsedTicks = offsetEvent.ticks;\n                periodStartTime = offsetEvent.time;\n            }\n            if (lastState.state === \"started\" && e.state !== \"started\") {\n                elapsedTicks +=\n                    this.frequency.getTicksAtTime(e.time) -\n                        this.frequency.getTicksAtTime(periodStartTime);\n                // do not memoize the temporary event\n                if (e.time !== tmpEvent.time) {\n                    eventToMemoize = {\n                        state: e.state,\n                        time: e.time,\n                        ticks: elapsedTicks,\n                    };\n                }\n            }\n            lastState = e;\n        });\n        // remove the temporary event\n        this._state.remove(tmpEvent);\n        // memoize the ticks at the most recent event with state other than \"started\"\n        if (eventToMemoize) {\n            this._ticksAtTime.add(eventToMemoize);\n        }\n        // return the ticks\n        return elapsedTicks;\n    }\n    /**\n     * The number of times the callback was invoked. Starts counting at 0\n     * and increments after the callback was invoked. Returns -1 when stopped.\n     */\n    get ticks() {\n        return this.getTicksAtTime(this.now());\n    }\n    set ticks(t) {\n        this.setTicksAtTime(t, this.now());\n    }\n    /**\n     * The time since ticks=0 that the TickSource has been running. Accounts\n     * for tempo curves\n     */\n    get seconds() {\n        return this.getSecondsAtTime(this.now());\n    }\n    set seconds(s) {\n        const now = this.now();\n        const ticks = this.frequency.timeToTicks(s, now);\n        this.setTicksAtTime(ticks, now);\n    }\n    /**\n     * Return the elapsed seconds at the given time.\n     * @param  time  When to get the elapsed seconds\n     * @return  The number of elapsed seconds\n     */\n    getSecondsAtTime(time) {\n        time = this.toSeconds(time);\n        const stopEvent = this._state.getLastState(\"stopped\", time);\n        // this event allows forEachBetween to iterate until the current time\n        const tmpEvent = { state: \"paused\", time };\n        this._state.add(tmpEvent);\n        // get previously memoized seconds if available\n        const memoizedEvent = this._secondsAtTime.get(time);\n        // keep track of the previous offset event\n        let lastState = memoizedEvent ? memoizedEvent : stopEvent;\n        let elapsedSeconds = memoizedEvent ? memoizedEvent.seconds : 0;\n        let eventToMemoize = null;\n        // iterate through all the events since the last stop\n        this._state.forEachBetween(lastState.time, time + this.sampleTime, (e) => {\n            let periodStartTime = lastState.time;\n            // if there is an offset event in this period use that\n            const offsetEvent = this._tickOffset.get(e.time);\n            if (offsetEvent && offsetEvent.time >= lastState.time) {\n                elapsedSeconds = offsetEvent.seconds;\n                periodStartTime = offsetEvent.time;\n            }\n            if (lastState.state === \"started\" && e.state !== \"started\") {\n                elapsedSeconds += e.time - periodStartTime;\n                // do not memoize the temporary event\n                if (e.time !== tmpEvent.time) {\n                    eventToMemoize = {\n                        state: e.state,\n                        time: e.time,\n                        seconds: elapsedSeconds,\n                    };\n                }\n            }\n            lastState = e;\n        });\n        // remove the temporary event\n        this._state.remove(tmpEvent);\n        // memoize the seconds at the most recent event with state other than \"started\"\n        if (eventToMemoize) {\n            this._secondsAtTime.add(eventToMemoize);\n        }\n        // return the seconds\n        return elapsedSeconds;\n    }\n    /**\n     * Set the clock's ticks at the given time.\n     * @param  ticks The tick value to set\n     * @param  time  When to set the tick value\n     */\n    setTicksAtTime(ticks, time) {\n        time = this.toSeconds(time);\n        this._tickOffset.cancel(time);\n        this._tickOffset.add({\n            seconds: this.frequency.getDurationOfTicks(ticks, time),\n            ticks,\n            time,\n        });\n        this._ticksAtTime.cancel(time);\n        this._secondsAtTime.cancel(time);\n        return this;\n    }\n    /**\n     * Returns the scheduled state at the given time.\n     * @param  time  The time to query.\n     */\n    getStateAtTime(time) {\n        time = this.toSeconds(time);\n        return this._state.getValueAtTime(time);\n    }\n    /**\n     * Get the time of the given tick. The second argument\n     * is when to test before. Since ticks can be set (with setTicksAtTime)\n     * there may be multiple times for a given tick value.\n     * @param  tick The tick number.\n     * @param  before When to measure the tick value from.\n     * @return The time of the tick\n     */\n    getTimeOfTick(tick, before = this.now()) {\n        const offset = this._tickOffset.get(before);\n        const event = this._state.get(before);\n        const startTime = Math.max(offset.time, event.time);\n        const absoluteTicks = this.frequency.getTicksAtTime(startTime) + tick - offset.ticks;\n        return this.frequency.getTimeOfTick(absoluteTicks);\n    }\n    /**\n     * Invoke the callback event at all scheduled ticks between the\n     * start time and the end time\n     * @param  startTime  The beginning of the search range\n     * @param  endTime    The end of the search range\n     * @param  callback   The callback to invoke with each tick\n     */\n    forEachTickBetween(startTime, endTime, callback) {\n        // only iterate through the sections where it is \"started\"\n        let lastStateEvent = this._state.get(startTime);\n        this._state.forEachBetween(startTime, endTime, (event) => {\n            if (lastStateEvent &&\n                lastStateEvent.state === \"started\" &&\n                event.state !== \"started\") {\n                this.forEachTickBetween(Math.max(lastStateEvent.time, startTime), event.time - this.sampleTime, callback);\n            }\n            lastStateEvent = event;\n        });\n        let error = null;\n        if (lastStateEvent && lastStateEvent.state === \"started\") {\n            const maxStartTime = Math.max(lastStateEvent.time, startTime);\n            // figure out the difference between the frequency ticks and the\n            const startTicks = this.frequency.getTicksAtTime(maxStartTime);\n            const ticksAtStart = this.frequency.getTicksAtTime(lastStateEvent.time);\n            const diff = startTicks - ticksAtStart;\n            let offset = Math.ceil(diff) - diff;\n            // guard against floating point issues\n            offset = EQ(offset, 1) ? 0 : offset;\n            let nextTickTime = this.frequency.getTimeOfTick(startTicks + offset);\n            while (nextTickTime < endTime) {\n                try {\n                    callback(nextTickTime, Math.round(this.getTicksAtTime(nextTickTime)));\n                }\n                catch (e) {\n                    error = e;\n                    break;\n                }\n                nextTickTime += this.frequency.getDurationOfTicks(1, nextTickTime);\n            }\n        }\n        if (error) {\n            throw error;\n        }\n        return this;\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this._state.dispose();\n        this._tickOffset.dispose();\n        this._ticksAtTime.dispose();\n        this._secondsAtTime.dispose();\n        this.frequency.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=TickSource.js.map","import { ToneWithContext, } from \"../context/ToneWithContext.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { Emitter } from \"../util/Emitter.js\";\nimport { noOp, readOnly } from \"../util/Interface.js\";\nimport { StateTimeline } from \"../util/StateTimeline.js\";\nimport { TickSource } from \"./TickSource.js\";\nimport { assertContextRunning } from \"../util/Debug.js\";\n/**\n * A sample accurate clock which provides a callback at the given rate.\n * While the callback is not sample-accurate (it is still susceptible to\n * loose JS timing), the time passed in as the argument to the callback\n * is precise. For most applications, it is better to use Tone.Transport\n * instead of the Clock by itself since you can synchronize multiple callbacks.\n * @example\n * // the callback will be invoked approximately once a second\n * // and will print the time exactly once a second apart.\n * const clock = new Tone.Clock(time => {\n * \tconsole.log(time);\n * }, 1);\n * clock.start();\n * @category Core\n */\nexport class Clock extends ToneWithContext {\n    constructor() {\n        const options = optionsFromArguments(Clock.getDefaults(), arguments, [\n            \"callback\",\n            \"frequency\",\n        ]);\n        super(options);\n        this.name = \"Clock\";\n        /**\n         * The callback function to invoke at the scheduled tick.\n         */\n        this.callback = noOp;\n        /**\n         * The last time the loop callback was invoked\n         */\n        this._lastUpdate = 0;\n        /**\n         * Keep track of the playback state\n         */\n        this._state = new StateTimeline(\"stopped\");\n        /**\n         * Context bound reference to the _loop method\n         * This is necessary to remove the event in the end.\n         */\n        this._boundLoop = this._loop.bind(this);\n        this.callback = options.callback;\n        this._tickSource = new TickSource({\n            context: this.context,\n            frequency: options.frequency,\n            units: options.units,\n        });\n        this._lastUpdate = 0;\n        this.frequency = this._tickSource.frequency;\n        readOnly(this, \"frequency\");\n        // add an initial state\n        this._state.setStateAtTime(\"stopped\", 0);\n        // bind a callback to the worker thread\n        this.context.on(\"tick\", this._boundLoop);\n    }\n    static getDefaults() {\n        return Object.assign(ToneWithContext.getDefaults(), {\n            callback: noOp,\n            frequency: 1,\n            units: \"hertz\",\n        });\n    }\n    /**\n     * Returns the playback state of the source, either \"started\", \"stopped\" or \"paused\".\n     */\n    get state() {\n        return this._state.getValueAtTime(this.now());\n    }\n    /**\n     * Start the clock at the given time. Optionally pass in an offset\n     * of where to start the tick counter from.\n     * @param  time    The time the clock should start\n     * @param offset  Where the tick counter starts counting from.\n     */\n    start(time, offset) {\n        // make sure the context is running\n        assertContextRunning(this.context);\n        // start the loop\n        const computedTime = this.toSeconds(time);\n        this.log(\"start\", computedTime);\n        if (this._state.getValueAtTime(computedTime) !== \"started\") {\n            this._state.setStateAtTime(\"started\", computedTime);\n            this._tickSource.start(computedTime, offset);\n            if (computedTime < this._lastUpdate) {\n                this.emit(\"start\", computedTime, offset);\n            }\n        }\n        return this;\n    }\n    /**\n     * Stop the clock. Stopping the clock resets the tick counter to 0.\n     * @param time The time when the clock should stop.\n     * @example\n     * const clock = new Tone.Clock(time => {\n     * \tconsole.log(time);\n     * }, 1);\n     * clock.start();\n     * // stop the clock after 10 seconds\n     * clock.stop(\"+10\");\n     */\n    stop(time) {\n        const computedTime = this.toSeconds(time);\n        this.log(\"stop\", computedTime);\n        this._state.cancel(computedTime);\n        this._state.setStateAtTime(\"stopped\", computedTime);\n        this._tickSource.stop(computedTime);\n        if (computedTime < this._lastUpdate) {\n            this.emit(\"stop\", computedTime);\n        }\n        return this;\n    }\n    /**\n     * Pause the clock. Pausing does not reset the tick counter.\n     * @param time The time when the clock should stop.\n     */\n    pause(time) {\n        const computedTime = this.toSeconds(time);\n        if (this._state.getValueAtTime(computedTime) === \"started\") {\n            this._state.setStateAtTime(\"paused\", computedTime);\n            this._tickSource.pause(computedTime);\n            if (computedTime < this._lastUpdate) {\n                this.emit(\"pause\", computedTime);\n            }\n        }\n        return this;\n    }\n    /**\n     * The number of times the callback was invoked. Starts counting at 0\n     * and increments after the callback was invoked.\n     */\n    get ticks() {\n        return Math.ceil(this.getTicksAtTime(this.now()));\n    }\n    set ticks(t) {\n        this._tickSource.ticks = t;\n    }\n    /**\n     * The time since ticks=0 that the Clock has been running. Accounts for tempo curves\n     */\n    get seconds() {\n        return this._tickSource.seconds;\n    }\n    set seconds(s) {\n        this._tickSource.seconds = s;\n    }\n    /**\n     * Return the elapsed seconds at the given time.\n     * @param  time  When to get the elapsed seconds\n     * @return  The number of elapsed seconds\n     */\n    getSecondsAtTime(time) {\n        return this._tickSource.getSecondsAtTime(time);\n    }\n    /**\n     * Set the clock's ticks at the given time.\n     * @param  ticks The tick value to set\n     * @param  time  When to set the tick value\n     */\n    setTicksAtTime(ticks, time) {\n        this._tickSource.setTicksAtTime(ticks, time);\n        return this;\n    }\n    /**\n     * Get the time of the given tick. The second argument\n     * is when to test before. Since ticks can be set (with setTicksAtTime)\n     * there may be multiple times for a given tick value.\n     * @param  tick The tick number.\n     * @param  before When to measure the tick value from.\n     * @return The time of the tick\n     */\n    getTimeOfTick(tick, before = this.now()) {\n        return this._tickSource.getTimeOfTick(tick, before);\n    }\n    /**\n     * Get the clock's ticks at the given time.\n     * @param  time  When to get the tick value\n     * @return The tick value at the given time.\n     */\n    getTicksAtTime(time) {\n        return this._tickSource.getTicksAtTime(time);\n    }\n    /**\n     * Get the time of the next tick\n     * @param  offset The tick number.\n     */\n    nextTickTime(offset, when) {\n        const computedTime = this.toSeconds(when);\n        const currentTick = this.getTicksAtTime(computedTime);\n        return this._tickSource.getTimeOfTick(currentTick + offset, computedTime);\n    }\n    /**\n     * The scheduling loop.\n     */\n    _loop() {\n        const startTime = this._lastUpdate;\n        const endTime = this.now();\n        this._lastUpdate = endTime;\n        this.log(\"loop\", startTime, endTime);\n        if (startTime !== endTime) {\n            // the state change events\n            this._state.forEachBetween(startTime, endTime, (e) => {\n                switch (e.state) {\n                    case \"started\":\n                        const offset = this._tickSource.getTicksAtTime(e.time);\n                        this.emit(\"start\", e.time, offset);\n                        break;\n                    case \"stopped\":\n                        if (e.time !== 0) {\n                            this.emit(\"stop\", e.time);\n                        }\n                        break;\n                    case \"paused\":\n                        this.emit(\"pause\", e.time);\n                        break;\n                }\n            });\n            // the tick callbacks\n            this._tickSource.forEachTickBetween(startTime, endTime, (time, ticks) => {\n                this.callback(time, ticks);\n            });\n        }\n    }\n    /**\n     * Returns the scheduled state at the given time.\n     * @param  time  The time to query.\n     * @return  The name of the state input in setStateAtTime.\n     * @example\n     * const clock = new Tone.Clock();\n     * clock.start(\"+0.1\");\n     * clock.getStateAtTime(\"+0.1\"); // returns \"started\"\n     */\n    getStateAtTime(time) {\n        const computedTime = this.toSeconds(time);\n        return this._state.getValueAtTime(computedTime);\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this.context.off(\"tick\", this._boundLoop);\n        this._tickSource.dispose();\n        this._state.dispose();\n        return this;\n    }\n}\nEmitter.mixin(Clock);\n//# sourceMappingURL=Clock.js.map","import { Gain } from \"../../core/context/Gain.js\";\nimport { ToneAudioNode, } from \"../../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\n/**\n * Volume is a simple volume node, useful for creating a volume fader.\n *\n * @example\n * const vol = new Tone.Volume(-12).toDestination();\n * const osc = new Tone.Oscillator().connect(vol).start();\n * @category Component\n */\nexport class Volume extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Volume.getDefaults(), arguments, [\n            \"volume\",\n        ]);\n        super(options);\n        this.name = \"Volume\";\n        this.input = this.output = new Gain({\n            context: this.context,\n            gain: options.volume,\n            units: \"decibels\",\n        });\n        this.volume = this.output.gain;\n        readOnly(this, \"volume\");\n        this._unmutedVolume = options.volume;\n        // set the mute initially\n        this.mute = options.mute;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            mute: false,\n            volume: 0,\n        });\n    }\n    /**\n     * Mute the output.\n     * @example\n     * const vol = new Tone.Volume(-12).toDestination();\n     * const osc = new Tone.Oscillator().connect(vol).start();\n     * // mute the output\n     * vol.mute = true;\n     */\n    get mute() {\n        return this.volume.value === -Infinity;\n    }\n    set mute(mute) {\n        if (!this.mute && mute) {\n            this._unmutedVolume = this.volume.value;\n            // maybe it should ramp here?\n            this.volume.value = -Infinity;\n        }\n        else if (this.mute && !mute) {\n            this.volume.value = this._unmutedVolume;\n        }\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this.input.dispose();\n        this.volume.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Volume.js.map","import { Volume } from \"../../component/channel/Volume.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { onContextClose, onContextInit } from \"./ContextInitialization.js\";\nimport { Gain } from \"./Gain.js\";\nimport { connectSeries, ToneAudioNode, } from \"./ToneAudioNode.js\";\n/**\n * A single master output which is connected to the\n * AudioDestinationNode (aka your speakers).\n * It provides useful conveniences such as the ability\n * to set the volume and mute the entire application.\n * It also gives you the ability to apply master effects to your application.\n *\n * @example\n * const oscillator = new Tone.Oscillator().start();\n * // the audio will go from the oscillator to the speakers\n * oscillator.connect(Tone.getDestination());\n * // a convenience for connecting to the master output is also provided:\n * oscillator.toDestination();\n * @category Core\n */\nexport class DestinationClass extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(DestinationClass.getDefaults(), arguments);\n        super(options);\n        this.name = \"Destination\";\n        this.input = new Volume({ context: this.context });\n        this.output = new Gain({ context: this.context });\n        /**\n         * The volume of the master output in decibels. -Infinity is silent, and 0 is no change.\n         * @example\n         * const osc = new Tone.Oscillator().toDestination();\n         * osc.start();\n         * // ramp the volume down to silent over 10 seconds\n         * Tone.getDestination().volume.rampTo(-Infinity, 10);\n         */\n        this.volume = this.input.volume;\n        connectSeries(this.input, this.output, this.context.rawContext.destination);\n        this.mute = options.mute;\n        this._internalChannels = [\n            this.input,\n            this.context.rawContext.destination,\n            this.output,\n        ];\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            mute: false,\n            volume: 0,\n        });\n    }\n    /**\n     * Mute the output.\n     * @example\n     * const oscillator = new Tone.Oscillator().start().toDestination();\n     * setTimeout(() => {\n     * \t// mute the output\n     * \tTone.Destination.mute = true;\n     * }, 1000);\n     */\n    get mute() {\n        return this.input.mute;\n    }\n    set mute(mute) {\n        this.input.mute = mute;\n    }\n    /**\n     * Add a master effects chain. NOTE: this will disconnect any nodes which were previously\n     * chained in the master effects chain.\n     * @param args All arguments will be connected in a row and the Master will be routed through it.\n     * @example\n     * // route all audio through a filter and compressor\n     * const lowpass = new Tone.Filter(800, \"lowpass\");\n     * const compressor = new Tone.Compressor(-18);\n     * Tone.Destination.chain(lowpass, compressor);\n     */\n    chain(...args) {\n        this.input.disconnect();\n        args.unshift(this.input);\n        args.push(this.output);\n        connectSeries(...args);\n        return this;\n    }\n    /**\n     * The maximum number of channels the system can output\n     * @example\n     * console.log(Tone.Destination.maxChannelCount);\n     */\n    get maxChannelCount() {\n        return this.context.rawContext.destination.maxChannelCount;\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this.volume.dispose();\n        return this;\n    }\n}\n//-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\nonContextInit((context) => {\n    context.destination = new DestinationClass({ context });\n});\nonContextClose((context) => {\n    context.destination.dispose();\n});\n//# sourceMappingURL=Destination.js.map","import { ToneAudioNode } from \"./ToneAudioNode.js\";\nimport { Param } from \"./Param.js\";\nimport { onContextClose, onContextInit } from \"./ContextInitialization.js\";\n/**\n * Tone.Listener is a thin wrapper around the AudioListener. Listener combined\n * with {@link Panner3D} makes up the Web Audio API's 3D panning system. Panner3D allows you\n * to place sounds in 3D and Listener allows you to navigate the 3D sound environment from\n * a first-person perspective. There is only one listener per audio context.\n */\nexport class ListenerClass extends ToneAudioNode {\n    constructor() {\n        super(...arguments);\n        this.name = \"Listener\";\n        this.positionX = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.positionX,\n        });\n        this.positionY = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.positionY,\n        });\n        this.positionZ = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.positionZ,\n        });\n        this.forwardX = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.forwardX,\n        });\n        this.forwardY = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.forwardY,\n        });\n        this.forwardZ = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.forwardZ,\n        });\n        this.upX = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.upX,\n        });\n        this.upY = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.upY,\n        });\n        this.upZ = new Param({\n            context: this.context,\n            param: this.context.rawContext.listener.upZ,\n        });\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            positionX: 0,\n            positionY: 0,\n            positionZ: 0,\n            forwardX: 0,\n            forwardY: 0,\n            forwardZ: -1,\n            upX: 0,\n            upY: 1,\n            upZ: 0,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.positionX.dispose();\n        this.positionY.dispose();\n        this.positionZ.dispose();\n        this.forwardX.dispose();\n        this.forwardY.dispose();\n        this.forwardZ.dispose();\n        this.upX.dispose();\n        this.upY.dispose();\n        this.upZ.dispose();\n        return this;\n    }\n}\n//-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\nonContextInit((context) => {\n    context.listener = new ListenerClass({ context });\n});\nonContextClose((context) => {\n    context.listener.dispose();\n});\n//# sourceMappingURL=Listener.js.map","import { Tone } from \"../Tone.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { noOp } from \"../util/Interface.js\";\nimport { isString } from \"../util/TypeCheck.js\";\nimport { ToneAudioBuffer } from \"./ToneAudioBuffer.js\";\nimport { assert } from \"../util/Debug.js\";\n/**\n * A data structure for holding multiple buffers in a Map-like datastructure.\n *\n * @example\n * const pianoSamples = new Tone.ToneAudioBuffers({\n * \tA1: \"https://tonejs.github.io/audio/casio/A1.mp3\",\n * \tA2: \"https://tonejs.github.io/audio/casio/A2.mp3\",\n * }, () => {\n * \tconst player = new Tone.Player().toDestination();\n * \t// play one of the samples when they all load\n * \tplayer.buffer = pianoSamples.get(\"A2\");\n * \tplayer.start();\n * });\n * @example\n * // To pass in additional parameters in the second parameter\n * const buffers = new Tone.ToneAudioBuffers({\n * \t urls: {\n * \t\t A1: \"A1.mp3\",\n * \t\t A2: \"A2.mp3\",\n * \t },\n * \t onload: () => console.log(\"loaded\"),\n * \t baseUrl: \"https://tonejs.github.io/audio/casio/\"\n * });\n * @category Core\n */\nexport class ToneAudioBuffers extends Tone {\n    constructor() {\n        super();\n        this.name = \"ToneAudioBuffers\";\n        /**\n         * All of the buffers\n         */\n        this._buffers = new Map();\n        /**\n         * Keep track of the number of loaded buffers\n         */\n        this._loadingCount = 0;\n        const options = optionsFromArguments(ToneAudioBuffers.getDefaults(), arguments, [\"urls\", \"onload\", \"baseUrl\"], \"urls\");\n        this.baseUrl = options.baseUrl;\n        // add each one\n        Object.keys(options.urls).forEach((name) => {\n            this._loadingCount++;\n            const url = options.urls[name];\n            this.add(name, url, this._bufferLoaded.bind(this, options.onload), options.onerror);\n        });\n    }\n    static getDefaults() {\n        return {\n            baseUrl: \"\",\n            onerror: noOp,\n            onload: noOp,\n            urls: {},\n        };\n    }\n    /**\n     * True if the buffers object has a buffer by that name.\n     * @param  name  The key or index of the buffer.\n     */\n    has(name) {\n        return this._buffers.has(name.toString());\n    }\n    /**\n     * Get a buffer by name. If an array was loaded,\n     * then use the array index.\n     * @param  name  The key or index of the buffer.\n     */\n    get(name) {\n        assert(this.has(name), `ToneAudioBuffers has no buffer named: ${name}`);\n        return this._buffers.get(name.toString());\n    }\n    /**\n     * A buffer was loaded. decrement the counter.\n     */\n    _bufferLoaded(callback) {\n        this._loadingCount--;\n        if (this._loadingCount === 0 && callback) {\n            callback();\n        }\n    }\n    /**\n     * If the buffers are loaded or not\n     */\n    get loaded() {\n        return Array.from(this._buffers).every(([_, buffer]) => buffer.loaded);\n    }\n    /**\n     * Add a buffer by name and url to the Buffers\n     * @param  name      A unique name to give the buffer\n     * @param  url  Either the url of the bufer, or a buffer which will be added with the given name.\n     * @param  callback  The callback to invoke when the url is loaded.\n     * @param  onerror  Invoked if the buffer can't be loaded\n     */\n    add(name, url, callback = noOp, onerror = noOp) {\n        if (isString(url)) {\n            // don't include the baseUrl if the url is a base64 encoded sound\n            if (this.baseUrl &&\n                url.trim().substring(0, 11).toLowerCase() === \"data:audio/\") {\n                this.baseUrl = \"\";\n            }\n            this._buffers.set(name.toString(), new ToneAudioBuffer(this.baseUrl + url, callback, onerror));\n        }\n        else {\n            this._buffers.set(name.toString(), new ToneAudioBuffer(url, callback, onerror));\n        }\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._buffers.forEach((buffer) => buffer.dispose());\n        this._buffers.clear();\n        return this;\n    }\n}\n//# sourceMappingURL=ToneAudioBuffers.js.map","import { getContext } from \"../Global.js\";\nimport { ftom, mtof } from \"./Conversions.js\";\nimport { FrequencyClass } from \"./Frequency.js\";\n/**\n * Midi is a primitive type for encoding Time values.\n * Midi can be constructed with or without the `new` keyword. Midi can be passed\n * into the parameter of any method which takes time as an argument.\n * @category Unit\n */\nexport class MidiClass extends FrequencyClass {\n    constructor() {\n        super(...arguments);\n        this.name = \"MidiClass\";\n        this.defaultUnits = \"midi\";\n    }\n    /**\n     * Returns the value of a frequency in the current units\n     */\n    _frequencyToUnits(freq) {\n        return ftom(super._frequencyToUnits(freq));\n    }\n    /**\n     * Returns the value of a tick in the current time units\n     */\n    _ticksToUnits(ticks) {\n        return ftom(super._ticksToUnits(ticks));\n    }\n    /**\n     * Return the value of the beats in the current units\n     */\n    _beatsToUnits(beats) {\n        return ftom(super._beatsToUnits(beats));\n    }\n    /**\n     * Returns the value of a second in the current units\n     */\n    _secondsToUnits(seconds) {\n        return ftom(super._secondsToUnits(seconds));\n    }\n    /**\n     * Return the value of the frequency as a MIDI note\n     * @example\n     * Tone.Midi(60).toMidi(); // 60\n     */\n    toMidi() {\n        return this.valueOf();\n    }\n    /**\n     * Return the value of the frequency as a MIDI note\n     * @example\n     * Tone.Midi(60).toFrequency(); // 261.6255653005986\n     */\n    toFrequency() {\n        return mtof(this.toMidi());\n    }\n    /**\n     * Transposes the frequency by the given number of semitones.\n     * @return A new transposed MidiClass\n     * @example\n     * Tone.Midi(\"A4\").transpose(3); // \"C5\"\n     */\n    transpose(interval) {\n        return new MidiClass(this.context, this.toMidi() + interval);\n    }\n}\n/**\n * Convert a value into a FrequencyClass object.\n * @category Unit\n */\nexport function Midi(value, units) {\n    return new MidiClass(getContext(), value, units);\n}\n//# sourceMappingURL=Midi.js.map","import { getContext } from \"../Global.js\";\nimport { TransportTimeClass } from \"./TransportTime.js\";\n/**\n * Ticks is a primitive type for encoding Time values.\n * Ticks can be constructed with or without the `new` keyword. Ticks can be passed\n * into the parameter of any method which takes time as an argument.\n * @example\n * const t = Tone.Ticks(\"4n\"); // a quarter note as ticks\n * @category Unit\n */\nexport class TicksClass extends TransportTimeClass {\n    constructor() {\n        super(...arguments);\n        this.name = \"Ticks\";\n        this.defaultUnits = \"i\";\n    }\n    /**\n     * Get the current time in the given units\n     */\n    _now() {\n        return this.context.transport.ticks;\n    }\n    /**\n     * Return the value of the beats in the current units\n     */\n    _beatsToUnits(beats) {\n        return this._getPPQ() * beats;\n    }\n    /**\n     * Returns the value of a second in the current units\n     */\n    _secondsToUnits(seconds) {\n        return Math.floor((seconds / (60 / this._getBpm())) * this._getPPQ());\n    }\n    /**\n     * Returns the value of a tick in the current time units\n     */\n    _ticksToUnits(ticks) {\n        return ticks;\n    }\n    /**\n     * Return the time in ticks\n     */\n    toTicks() {\n        return this.valueOf();\n    }\n    /**\n     * Return the time in seconds\n     */\n    toSeconds() {\n        return (this.valueOf() / this._getPPQ()) * (60 / this._getBpm());\n    }\n}\n/**\n * Convert a time representation to ticks\n * @category Unit\n */\nexport function Ticks(value, units) {\n    return new TicksClass(getContext(), value, units);\n}\n//# sourceMappingURL=Ticks.js.map","import { ToneWithContext, } from \"../context/ToneWithContext.js\";\nimport { Timeline } from \"./Timeline.js\";\nimport { onContextClose, onContextInit, } from \"../context/ContextInitialization.js\";\n/**\n * Draw is useful for synchronizing visuals and audio events.\n * Callbacks from Tone.Transport or any of the Tone.Event classes\n * always happen _before_ the scheduled time and are not synchronized\n * to the animation frame so they are not good for triggering tightly\n * synchronized visuals and sound. Draw makes it easy to schedule\n * callbacks using the AudioContext time and uses requestAnimationFrame.\n * @example\n * Tone.Transport.schedule((time) => {\n * \t// use the time argument to schedule a callback with Draw\n * \tTone.Draw.schedule(() => {\n * \t\t// do drawing or DOM manipulation here\n * \t\tconsole.log(time);\n * \t}, time);\n * }, \"+0.5\");\n * Tone.Transport.start();\n * @category Core\n */\nexport class DrawClass extends ToneWithContext {\n    constructor() {\n        super(...arguments);\n        this.name = \"Draw\";\n        /**\n         * The duration after which events are not invoked.\n         */\n        this.expiration = 0.25;\n        /**\n         * The amount of time before the scheduled time\n         * that the callback can be invoked. Default is\n         * half the time of an animation frame (0.008 seconds).\n         */\n        this.anticipation = 0.008;\n        /**\n         * All of the events.\n         */\n        this._events = new Timeline();\n        /**\n         * The draw loop\n         */\n        this._boundDrawLoop = this._drawLoop.bind(this);\n        /**\n         * The animation frame id\n         */\n        this._animationFrame = -1;\n    }\n    /**\n     * Schedule a function at the given time to be invoked\n     * on the nearest animation frame.\n     * @param  callback  Callback is invoked at the given time.\n     * @param  time      The time relative to the AudioContext time to invoke the callback.\n     * @example\n     * Tone.Transport.scheduleRepeat(time => {\n     * \tTone.Draw.schedule(() => console.log(time), time);\n     * }, 1);\n     * Tone.Transport.start();\n     */\n    schedule(callback, time) {\n        this._events.add({\n            callback,\n            time: this.toSeconds(time),\n        });\n        // start the draw loop on the first event\n        if (this._events.length === 1) {\n            this._animationFrame = requestAnimationFrame(this._boundDrawLoop);\n        }\n        return this;\n    }\n    /**\n     * Cancel events scheduled after the given time\n     * @param  after  Time after which scheduled events will be removed from the scheduling timeline.\n     */\n    cancel(after) {\n        this._events.cancel(this.toSeconds(after));\n        return this;\n    }\n    /**\n     * The draw loop\n     */\n    _drawLoop() {\n        const now = this.context.currentTime;\n        this._events.forEachBefore(now + this.anticipation, (event) => {\n            if (now - event.time <= this.expiration) {\n                event.callback();\n            }\n            this._events.remove(event);\n        });\n        if (this._events.length > 0) {\n            this._animationFrame = requestAnimationFrame(this._boundDrawLoop);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this._events.dispose();\n        cancelAnimationFrame(this._animationFrame);\n        return this;\n    }\n}\n//-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\nonContextInit((context) => {\n    context.draw = new DrawClass({ context });\n});\nonContextClose((context) => {\n    context.draw.dispose();\n});\n//# sourceMappingURL=Draw.js.map","import { Tone } from \"../Tone.js\";\nimport { isDefined } from \"./TypeCheck.js\";\nimport { assert } from \"./Debug.js\";\n/**\n * Similar to Tone.Timeline, but all events represent\n * intervals with both \"time\" and \"duration\" times. The\n * events are placed in a tree structure optimized\n * for querying an intersection point with the timeline\n * events. Internally uses an [Interval Tree](https://en.wikipedia.org/wiki/Interval_tree)\n * to represent the data.\n * @internal\n */\nexport class IntervalTimeline extends Tone {\n    constructor() {\n        super(...arguments);\n        this.name = \"IntervalTimeline\";\n        /**\n         * The root node of the inteval tree\n         */\n        this._root = null;\n        /**\n         * Keep track of the length of the timeline.\n         */\n        this._length = 0;\n    }\n    /**\n     * The event to add to the timeline. All events must\n     * have a time and duration value\n     * @param  event  The event to add to the timeline\n     */\n    add(event) {\n        assert(isDefined(event.time), \"Events must have a time property\");\n        assert(isDefined(event.duration), \"Events must have a duration parameter\");\n        event.time = event.time.valueOf();\n        let node = new IntervalNode(event.time, event.time + event.duration, event);\n        if (this._root === null) {\n            this._root = node;\n        }\n        else {\n            this._root.insert(node);\n        }\n        this._length++;\n        // Restructure tree to be balanced\n        while (node !== null) {\n            node.updateHeight();\n            node.updateMax();\n            this._rebalance(node);\n            node = node.parent;\n        }\n        return this;\n    }\n    /**\n     * Remove an event from the timeline.\n     * @param  event  The event to remove from the timeline\n     */\n    remove(event) {\n        if (this._root !== null) {\n            const results = [];\n            this._root.search(event.time, results);\n            for (const node of results) {\n                if (node.event === event) {\n                    this._removeNode(node);\n                    this._length--;\n                    break;\n                }\n            }\n        }\n        return this;\n    }\n    /**\n     * The number of items in the timeline.\n     * @readOnly\n     */\n    get length() {\n        return this._length;\n    }\n    /**\n     * Remove events whose time time is after the given time\n     * @param  after  The time to query.\n     */\n    cancel(after) {\n        this.forEachFrom(after, (event) => this.remove(event));\n        return this;\n    }\n    /**\n     * Set the root node as the given node\n     */\n    _setRoot(node) {\n        this._root = node;\n        if (this._root !== null) {\n            this._root.parent = null;\n        }\n    }\n    /**\n     * Replace the references to the node in the node's parent\n     * with the replacement node.\n     */\n    _replaceNodeInParent(node, replacement) {\n        if (node.parent !== null) {\n            if (node.isLeftChild()) {\n                node.parent.left = replacement;\n            }\n            else {\n                node.parent.right = replacement;\n            }\n            this._rebalance(node.parent);\n        }\n        else {\n            this._setRoot(replacement);\n        }\n    }\n    /**\n     * Remove the node from the tree and replace it with\n     * a successor which follows the schema.\n     */\n    _removeNode(node) {\n        if (node.left === null && node.right === null) {\n            this._replaceNodeInParent(node, null);\n        }\n        else if (node.right === null) {\n            this._replaceNodeInParent(node, node.left);\n        }\n        else if (node.left === null) {\n            this._replaceNodeInParent(node, node.right);\n        }\n        else {\n            const balance = node.getBalance();\n            let replacement;\n            let temp = null;\n            if (balance > 0) {\n                if (node.left.right === null) {\n                    replacement = node.left;\n                    replacement.right = node.right;\n                    temp = replacement;\n                }\n                else {\n                    replacement = node.left.right;\n                    while (replacement.right !== null) {\n                        replacement = replacement.right;\n                    }\n                    if (replacement.parent) {\n                        replacement.parent.right = replacement.left;\n                        temp = replacement.parent;\n                        replacement.left = node.left;\n                        replacement.right = node.right;\n                    }\n                }\n            }\n            else if (node.right.left === null) {\n                replacement = node.right;\n                replacement.left = node.left;\n                temp = replacement;\n            }\n            else {\n                replacement = node.right.left;\n                while (replacement.left !== null) {\n                    replacement = replacement.left;\n                }\n                if (replacement.parent) {\n                    replacement.parent.left = replacement.right;\n                    temp = replacement.parent;\n                    replacement.left = node.left;\n                    replacement.right = node.right;\n                }\n            }\n            if (node.parent !== null) {\n                if (node.isLeftChild()) {\n                    node.parent.left = replacement;\n                }\n                else {\n                    node.parent.right = replacement;\n                }\n            }\n            else {\n                this._setRoot(replacement);\n            }\n            if (temp) {\n                this._rebalance(temp);\n            }\n        }\n        node.dispose();\n    }\n    /**\n     * Rotate the tree to the left\n     */\n    _rotateLeft(node) {\n        const parent = node.parent;\n        const isLeftChild = node.isLeftChild();\n        // Make node.right the new root of this sub tree (instead of node)\n        const pivotNode = node.right;\n        if (pivotNode) {\n            node.right = pivotNode.left;\n            pivotNode.left = node;\n        }\n        if (parent !== null) {\n            if (isLeftChild) {\n                parent.left = pivotNode;\n            }\n            else {\n                parent.right = pivotNode;\n            }\n        }\n        else {\n            this._setRoot(pivotNode);\n        }\n    }\n    /**\n     * Rotate the tree to the right\n     */\n    _rotateRight(node) {\n        const parent = node.parent;\n        const isLeftChild = node.isLeftChild();\n        // Make node.left the new root of this sub tree (instead of node)\n        const pivotNode = node.left;\n        if (pivotNode) {\n            node.left = pivotNode.right;\n            pivotNode.right = node;\n        }\n        if (parent !== null) {\n            if (isLeftChild) {\n                parent.left = pivotNode;\n            }\n            else {\n                parent.right = pivotNode;\n            }\n        }\n        else {\n            this._setRoot(pivotNode);\n        }\n    }\n    /**\n     * Balance the BST\n     */\n    _rebalance(node) {\n        const balance = node.getBalance();\n        if (balance > 1 && node.left) {\n            if (node.left.getBalance() < 0) {\n                this._rotateLeft(node.left);\n            }\n            else {\n                this._rotateRight(node);\n            }\n        }\n        else if (balance < -1 && node.right) {\n            if (node.right.getBalance() > 0) {\n                this._rotateRight(node.right);\n            }\n            else {\n                this._rotateLeft(node);\n            }\n        }\n    }\n    /**\n     * Get an event whose time and duration span the give time. Will\n     * return the match whose \"time\" value is closest to the given time.\n     * @return  The event which spans the desired time\n     */\n    get(time) {\n        if (this._root !== null) {\n            const results = [];\n            this._root.search(time, results);\n            if (results.length > 0) {\n                let max = results[0];\n                for (let i = 1; i < results.length; i++) {\n                    if (results[i].low > max.low) {\n                        max = results[i];\n                    }\n                }\n                return max.event;\n            }\n        }\n        return null;\n    }\n    /**\n     * Iterate over everything in the timeline.\n     * @param  callback The callback to invoke with every item\n     */\n    forEach(callback) {\n        if (this._root !== null) {\n            const allNodes = [];\n            this._root.traverse((node) => allNodes.push(node));\n            allNodes.forEach((node) => {\n                if (node.event) {\n                    callback(node.event);\n                }\n            });\n        }\n        return this;\n    }\n    /**\n     * Iterate over everything in the array in which the given time\n     * overlaps with the time and duration time of the event.\n     * @param  time The time to check if items are overlapping\n     * @param  callback The callback to invoke with every item\n     */\n    forEachAtTime(time, callback) {\n        if (this._root !== null) {\n            const results = [];\n            this._root.search(time, results);\n            results.forEach((node) => {\n                if (node.event) {\n                    callback(node.event);\n                }\n            });\n        }\n        return this;\n    }\n    /**\n     * Iterate over everything in the array in which the time is greater\n     * than or equal to the given time.\n     * @param  time The time to check if items are before\n     * @param  callback The callback to invoke with every item\n     */\n    forEachFrom(time, callback) {\n        if (this._root !== null) {\n            const results = [];\n            this._root.searchAfter(time, results);\n            results.forEach((node) => {\n                if (node.event) {\n                    callback(node.event);\n                }\n            });\n        }\n        return this;\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        if (this._root !== null) {\n            this._root.traverse((node) => node.dispose());\n        }\n        this._root = null;\n        return this;\n    }\n}\n//-------------------------------------\n// \tINTERVAL NODE HELPER\n//-------------------------------------\n/**\n * Represents a node in the binary search tree, with the addition\n * of a \"high\" value which keeps track of the highest value of\n * its children.\n * References:\n * https://brooknovak.wordpress.com/2013/12/07/augmented-interval-tree-in-c/\n * http://www.mif.vu.lt/~valdas/ALGORITMAI/LITERATURA/Cormen/Cormen.pdf\n * @param low\n * @param high\n */\nclass IntervalNode {\n    constructor(low, high, event) {\n        // the nodes to the left\n        this._left = null;\n        // the nodes to the right\n        this._right = null;\n        // the parent node\n        this.parent = null;\n        // the number of child nodes\n        this.height = 0;\n        this.event = event;\n        // the low value\n        this.low = low;\n        // the high value\n        this.high = high;\n        // the high value for this and all child nodes\n        this.max = this.high;\n    }\n    /**\n     * Insert a node into the correct spot in the tree\n     */\n    insert(node) {\n        if (node.low <= this.low) {\n            if (this.left === null) {\n                this.left = node;\n            }\n            else {\n                this.left.insert(node);\n            }\n        }\n        else if (this.right === null) {\n            this.right = node;\n        }\n        else {\n            this.right.insert(node);\n        }\n    }\n    /**\n     * Search the tree for nodes which overlap\n     * with the given point\n     * @param  point  The point to query\n     * @param  results  The array to put the results\n     */\n    search(point, results) {\n        // If p is to the right of the rightmost point of any interval\n        // in this node and all children, there won't be any matches.\n        if (point > this.max) {\n            return;\n        }\n        // Search left children\n        if (this.left !== null) {\n            this.left.search(point, results);\n        }\n        // Check this node\n        if (this.low <= point && this.high > point) {\n            results.push(this);\n        }\n        // If p is to the left of the time of this interval,\n        // then it can't be in any child to the right.\n        if (this.low > point) {\n            return;\n        }\n        // Search right children\n        if (this.right !== null) {\n            this.right.search(point, results);\n        }\n    }\n    /**\n     * Search the tree for nodes which are less\n     * than the given point\n     * @param  point  The point to query\n     * @param  results  The array to put the results\n     */\n    searchAfter(point, results) {\n        // Check this node\n        if (this.low >= point) {\n            results.push(this);\n            if (this.left !== null) {\n                this.left.searchAfter(point, results);\n            }\n        }\n        // search the right side\n        if (this.right !== null) {\n            this.right.searchAfter(point, results);\n        }\n    }\n    /**\n     * Invoke the callback on this element and both it's branches\n     * @param  {Function}  callback\n     */\n    traverse(callback) {\n        callback(this);\n        if (this.left !== null) {\n            this.left.traverse(callback);\n        }\n        if (this.right !== null) {\n            this.right.traverse(callback);\n        }\n    }\n    /**\n     * Update the height of the node\n     */\n    updateHeight() {\n        if (this.left !== null && this.right !== null) {\n            this.height = Math.max(this.left.height, this.right.height) + 1;\n        }\n        else if (this.right !== null) {\n            this.height = this.right.height + 1;\n        }\n        else if (this.left !== null) {\n            this.height = this.left.height + 1;\n        }\n        else {\n            this.height = 0;\n        }\n    }\n    /**\n     * Update the height of the node\n     */\n    updateMax() {\n        this.max = this.high;\n        if (this.left !== null) {\n            this.max = Math.max(this.max, this.left.max);\n        }\n        if (this.right !== null) {\n            this.max = Math.max(this.max, this.right.max);\n        }\n    }\n    /**\n     * The balance is how the leafs are distributed on the node\n     * @return  Negative numbers are balanced to the right\n     */\n    getBalance() {\n        let balance = 0;\n        if (this.left !== null && this.right !== null) {\n            balance = this.left.height - this.right.height;\n        }\n        else if (this.left !== null) {\n            balance = this.left.height + 1;\n        }\n        else if (this.right !== null) {\n            balance = -(this.right.height + 1);\n        }\n        return balance;\n    }\n    /**\n     * @returns true if this node is the left child of its parent\n     */\n    isLeftChild() {\n        return this.parent !== null && this.parent.left === this;\n    }\n    /**\n     * get/set the left node\n     */\n    get left() {\n        return this._left;\n    }\n    set left(node) {\n        this._left = node;\n        if (node !== null) {\n            node.parent = this;\n        }\n        this.updateHeight();\n        this.updateMax();\n    }\n    /**\n     * get/set the right node\n     */\n    get right() {\n        return this._right;\n    }\n    set right(node) {\n        this._right = node;\n        if (node !== null) {\n            node.parent = this;\n        }\n        this.updateHeight();\n        this.updateMax();\n    }\n    /**\n     * null out references.\n     */\n    dispose() {\n        this.parent = null;\n        this._left = null;\n        this._right = null;\n        this.event = null;\n    }\n}\n//# sourceMappingURL=IntervalTimeline.js.map","import { Timeline } from \"./Timeline.js\";\nimport { Tone } from \"../Tone.js\";\n/**\n * Represents a single value which is gettable and settable in a timed way\n */\nexport class TimelineValue extends Tone {\n    /**\n     * @param initialValue The value to return if there is no scheduled values\n     */\n    constructor(initialValue) {\n        super();\n        this.name = \"TimelineValue\";\n        /**\n         * The timeline which stores the values\n         */\n        this._timeline = new Timeline({\n            memory: 10,\n        });\n        this._initialValue = initialValue;\n    }\n    /**\n     * Set the value at the given time\n     */\n    set(value, time) {\n        this._timeline.add({\n            value,\n            time,\n        });\n        return this;\n    }\n    /**\n     * Get the value at the given time\n     */\n    get(time) {\n        const event = this._timeline.get(time);\n        if (event) {\n            return event.value;\n        }\n        else {\n            return this._initialValue;\n        }\n    }\n}\n//# sourceMappingURL=TimelineValue.js.map","import { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { ToneAudioNode, } from \"../core/context/ToneAudioNode.js\";\nimport { connectSignal } from \"./Signal.js\";\n/**\n * A signal operator has an input and output and modifies the signal.\n */\nexport class SignalOperator extends ToneAudioNode {\n    constructor() {\n        super(optionsFromArguments(SignalOperator.getDefaults(), arguments, [\n            \"context\",\n        ]));\n    }\n    connect(destination, outputNum = 0, inputNum = 0) {\n        connectSignal(this, destination, outputNum, inputNum);\n        return this;\n    }\n}\n//# sourceMappingURL=SignalOperator.js.map","import { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { isArray, isFunction } from \"../core/util/TypeCheck.js\";\nimport { assert } from \"../core/util/Debug.js\";\nimport { Signal } from \"./Signal.js\";\nimport { SignalOperator } from \"./SignalOperator.js\";\n/**\n * Wraps the native Web Audio API\n * [WaveShaperNode](http://webaudio.github.io/web-audio-api/#the-waveshapernode-interface).\n *\n * @example\n * const osc = new Tone.Oscillator().toDestination().start();\n * // multiply the output of the signal by 2 using the waveshaper's function\n * const timesTwo = new Tone.WaveShaper((val) => val * 2, 2048).connect(osc.frequency);\n * const signal = new Tone.Signal(440).connect(timesTwo);\n * @category Signal\n */\nexport class WaveShaper extends SignalOperator {\n    constructor() {\n        const options = optionsFromArguments(WaveShaper.getDefaults(), arguments, [\"mapping\", \"length\"]);\n        super(options);\n        this.name = \"WaveShaper\";\n        /**\n         * the waveshaper node\n         */\n        this._shaper = this.context.createWaveShaper();\n        /**\n         * The input to the waveshaper node.\n         */\n        this.input = this._shaper;\n        /**\n         * The output from the waveshaper node\n         */\n        this.output = this._shaper;\n        if (isArray(options.mapping) ||\n            options.mapping instanceof Float32Array) {\n            this.curve = Float32Array.from(options.mapping);\n        }\n        else if (isFunction(options.mapping)) {\n            this.setMap(options.mapping, options.length);\n        }\n    }\n    static getDefaults() {\n        return Object.assign(Signal.getDefaults(), {\n            length: 1024,\n        });\n    }\n    /**\n     * Uses a mapping function to set the value of the curve.\n     * @param mapping The function used to define the values.\n     *                The mapping function take two arguments:\n     *                the first is the value at the current position\n     *                which goes from -1 to 1 over the number of elements\n     *                in the curve array. The second argument is the array position.\n     * @example\n     * const shaper = new Tone.WaveShaper();\n     * // map the input signal from [-1, 1] to [0, 10]\n     * shaper.setMap((val, index) => (val + 1) * 5);\n     */\n    setMap(mapping, length = 1024) {\n        const array = new Float32Array(length);\n        for (let i = 0, len = length; i < len; i++) {\n            const normalized = (i / (len - 1)) * 2 - 1;\n            array[i] = mapping(normalized, i);\n        }\n        this.curve = array;\n        return this;\n    }\n    /**\n     * The array to set as the waveshaper curve. For linear curves\n     * array length does not make much difference, but for complex curves\n     * longer arrays will provide smoother interpolation.\n     */\n    get curve() {\n        return this._shaper.curve;\n    }\n    set curve(mapping) {\n        this._shaper.curve = mapping;\n    }\n    /**\n     * Specifies what type of oversampling (if any) should be used when\n     * applying the shaping curve. Can either be \"none\", \"2x\" or \"4x\".\n     */\n    get oversample() {\n        return this._shaper.oversample;\n    }\n    set oversample(oversampling) {\n        const isOverSampleType = [\"none\", \"2x\", \"4x\"].some((str) => str.includes(oversampling));\n        assert(isOverSampleType, \"oversampling must be either 'none', '2x', or '4x'\");\n        this._shaper.oversample = oversampling;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._shaper.disconnect();\n        return this;\n    }\n}\n//# sourceMappingURL=WaveShaper.js.map","import { WaveShaper } from \"./WaveShaper.js\";\nimport { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { SignalOperator } from \"./SignalOperator.js\";\n/**\n * Pow applies an exponent to the incoming signal. The incoming signal must be AudioRange [-1, 1]\n *\n * @example\n * const pow = new Tone.Pow(2);\n * const sig = new Tone.Signal(0.5).connect(pow);\n * // output of pow is 0.25.\n * @category Signal\n */\nexport class Pow extends SignalOperator {\n    constructor() {\n        const options = optionsFromArguments(Pow.getDefaults(), arguments, [\n            \"value\",\n        ]);\n        super(options);\n        this.name = \"Pow\";\n        this._exponentScaler =\n            this.input =\n                this.output =\n                    new WaveShaper({\n                        context: this.context,\n                        mapping: this._expFunc(options.value),\n                        length: 8192,\n                    });\n        this._exponent = options.value;\n    }\n    static getDefaults() {\n        return Object.assign(SignalOperator.getDefaults(), {\n            value: 1,\n        });\n    }\n    /**\n     * the function which maps the waveshaper\n     * @param exponent exponent value\n     */\n    _expFunc(exponent) {\n        return (val) => {\n            return Math.pow(Math.abs(val), exponent);\n        };\n    }\n    /**\n     * The value of the exponent.\n     */\n    get value() {\n        return this._exponent;\n    }\n    set value(exponent) {\n        this._exponent = exponent;\n        this._exponentScaler.setMap(this._expFunc(this._exponent));\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._exponentScaler.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Pow.js.map","import { noOp } from \"../util/Interface.js\";\n/**\n * TransportEvent is an internal class used by {@link TransportClass}\n * to schedule events. Do no invoke this class directly, it is\n * handled from within Tone.Transport.\n */\nexport class TransportEvent {\n    /**\n     * @param transport The transport object which the event belongs to\n     */\n    constructor(transport, opts) {\n        /**\n         * The unique id of the event\n         */\n        this.id = TransportEvent._eventId++;\n        /**\n         * The remaining value between the passed in time, and Math.floor(time).\n         * This value is later added back when scheduling to get sub-tick precision.\n         */\n        this._remainderTime = 0;\n        const options = Object.assign(TransportEvent.getDefaults(), opts);\n        this.transport = transport;\n        this.callback = options.callback;\n        this._once = options.once;\n        this.time = Math.floor(options.time);\n        this._remainderTime = options.time - this.time;\n    }\n    static getDefaults() {\n        return {\n            callback: noOp,\n            once: false,\n            time: 0,\n        };\n    }\n    /**\n     * Get the time and remainder time.\n     */\n    get floatTime() {\n        return this.time + this._remainderTime;\n    }\n    /**\n     * Invoke the event callback.\n     * @param  time  The AudioContext time in seconds of the event\n     */\n    invoke(time) {\n        if (this.callback) {\n            const tickDuration = this.transport.bpm.getDurationOfTicks(1, time);\n            this.callback(time + this._remainderTime * tickDuration);\n            if (this._once) {\n                this.transport.clear(this.id);\n            }\n        }\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        this.callback = undefined;\n        return this;\n    }\n}\n/**\n * Current ID counter\n */\nTransportEvent._eventId = 0;\n//# sourceMappingURL=TransportEvent.js.map","import { TicksClass } from \"../type/Ticks.js\";\nimport { TransportEvent } from \"./TransportEvent.js\";\nimport { GT, LT } from \"../util/Math.js\";\n/**\n * TransportRepeatEvent is an internal class used by Tone.Transport\n * to schedule repeat events. This class should not be instantiated directly.\n */\nexport class TransportRepeatEvent extends TransportEvent {\n    /**\n     * @param transport The transport object which the event belongs to\n     */\n    constructor(transport, opts) {\n        super(transport, opts);\n        /**\n         * The ID of the current timeline event\n         */\n        this._currentId = -1;\n        /**\n         * The ID of the next timeline event\n         */\n        this._nextId = -1;\n        /**\n         * The time of the next event\n         */\n        this._nextTick = this.time;\n        /**\n         * a reference to the bound start method\n         */\n        this._boundRestart = this._restart.bind(this);\n        const options = Object.assign(TransportRepeatEvent.getDefaults(), opts);\n        this.duration = options.duration;\n        this._interval = options.interval;\n        this._nextTick = options.time;\n        this.transport.on(\"start\", this._boundRestart);\n        this.transport.on(\"loopStart\", this._boundRestart);\n        this.transport.on(\"ticks\", this._boundRestart);\n        this.context = this.transport.context;\n        this._restart();\n    }\n    static getDefaults() {\n        return Object.assign({}, TransportEvent.getDefaults(), {\n            duration: Infinity,\n            interval: 1,\n            once: false,\n        });\n    }\n    /**\n     * Invoke the callback. Returns the tick time which\n     * the next event should be scheduled at.\n     * @param  time  The AudioContext time in seconds of the event\n     */\n    invoke(time) {\n        // create more events if necessary\n        this._createEvents(time);\n        // call the super class\n        super.invoke(time);\n    }\n    /**\n     * Create an event on the transport on the nextTick\n     */\n    _createEvent() {\n        if (LT(this._nextTick, this.floatTime + this.duration)) {\n            return this.transport.scheduleOnce(this.invoke.bind(this), new TicksClass(this.context, this._nextTick).toSeconds());\n        }\n        return -1;\n    }\n    /**\n     * Push more events onto the timeline to keep up with the position of the timeline\n     */\n    _createEvents(time) {\n        // schedule the next event\n        // const ticks = this.transport.getTicksAtTime(time);\n        // if the next tick is within the bounds set by \"duration\"\n        if (LT(this._nextTick + this._interval, this.floatTime + this.duration)) {\n            this._nextTick += this._interval;\n            this._currentId = this._nextId;\n            this._nextId = this.transport.scheduleOnce(this.invoke.bind(this), new TicksClass(this.context, this._nextTick).toSeconds());\n        }\n    }\n    /**\n     * Re-compute the events when the transport time has changed from a start/ticks/loopStart event\n     */\n    _restart(time) {\n        this.transport.clear(this._currentId);\n        this.transport.clear(this._nextId);\n        // start at the first event\n        this._nextTick = this.floatTime;\n        const ticks = this.transport.getTicksAtTime(time);\n        if (GT(ticks, this.time)) {\n            // the event is not being scheduled from the beginning and should be offset\n            this._nextTick =\n                this.floatTime +\n                    Math.ceil((ticks - this.floatTime) / this._interval) *\n                        this._interval;\n        }\n        this._currentId = this._createEvent();\n        this._nextTick += this._interval;\n        this._nextId = this._createEvent();\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this.transport.clear(this._currentId);\n        this.transport.clear(this._nextId);\n        this.transport.off(\"start\", this._boundRestart);\n        this.transport.off(\"loopStart\", this._boundRestart);\n        this.transport.off(\"ticks\", this._boundRestart);\n        return this;\n    }\n}\n//# sourceMappingURL=TransportRepeatEvent.js.map","import { TimeClass } from \"../../core/type/Time.js\";\nimport { TimelineValue } from \"../../core/util/TimelineValue.js\";\nimport { Pow } from \"../../signal/Pow.js\";\nimport { onContextClose, onContextInit, } from \"../context/ContextInitialization.js\";\nimport { Gain } from \"../context/Gain.js\";\nimport { ToneWithContext, } from \"../context/ToneWithContext.js\";\nimport { TicksClass } from \"../type/Ticks.js\";\nimport { TransportTimeClass } from \"../type/TransportTime.js\";\nimport { enterScheduledCallback } from \"../util/Debug.js\";\nimport { optionsFromArguments } from \"../util/Defaults.js\";\nimport { Emitter } from \"../util/Emitter.js\";\nimport { readOnly, writable } from \"../util/Interface.js\";\nimport { IntervalTimeline } from \"../util/IntervalTimeline.js\";\nimport { Timeline } from \"../util/Timeline.js\";\nimport { isArray, isDefined } from \"../util/TypeCheck.js\";\nimport { Clock } from \"./Clock.js\";\nimport { TransportEvent } from \"./TransportEvent.js\";\nimport { TransportRepeatEvent } from \"./TransportRepeatEvent.js\";\n/**\n * Transport for timing musical events.\n * Supports tempo curves and time changes. Unlike browser-based timing (setInterval, requestAnimationFrame)\n * Transport timing events pass in the exact time of the scheduled event\n * in the argument of the callback function. Pass that time value to the object\n * you're scheduling. <br><br>\n * A single transport is created for you when the library is initialized.\n * <br><br>\n * The transport emits the events: \"start\", \"stop\", \"pause\", and \"loop\" which are\n * called with the time of that event as the argument.\n *\n * @example\n * const osc = new Tone.Oscillator().toDestination();\n * // repeated event every 8th note\n * Tone.getTransport().scheduleRepeat((time) => {\n * \t// use the callback time to schedule events\n * \tosc.start(time).stop(time + 0.1);\n * }, \"8n\");\n * // transport must be started before it starts invoking events\n * Tone.getTransport().start();\n * @category Core\n */\nexport class TransportClass extends ToneWithContext {\n    constructor() {\n        const options = optionsFromArguments(TransportClass.getDefaults(), arguments);\n        super(options);\n        this.name = \"Transport\";\n        //-------------------------------------\n        // \tLOOPING\n        //-------------------------------------\n        /**\n         * If the transport loops or not.\n         */\n        this._loop = new TimelineValue(false);\n        /**\n         * The loop start position in ticks\n         */\n        this._loopStart = 0;\n        /**\n         * The loop end position in ticks\n         */\n        this._loopEnd = 0;\n        //-------------------------------------\n        // \tTIMELINE EVENTS\n        //-------------------------------------\n        /**\n         * All the events in an object to keep track by ID\n         */\n        this._scheduledEvents = {};\n        /**\n         * The scheduled events.\n         */\n        this._timeline = new Timeline();\n        /**\n         * Repeated events\n         */\n        this._repeatedEvents = new IntervalTimeline();\n        /**\n         * All of the synced Signals\n         */\n        this._syncedSignals = [];\n        /**\n         * The swing amount\n         */\n        this._swingAmount = 0;\n        // CLOCK/TEMPO\n        this._ppq = options.ppq;\n        this._clock = new Clock({\n            callback: this._processTick.bind(this),\n            context: this.context,\n            frequency: 0,\n            units: \"bpm\",\n        });\n        this._bindClockEvents();\n        this.bpm = this._clock.frequency;\n        this._clock.frequency.multiplier = options.ppq;\n        this.bpm.setValueAtTime(options.bpm, 0);\n        readOnly(this, \"bpm\");\n        this._timeSignature = options.timeSignature;\n        // SWING\n        this._swingTicks = options.ppq / 2; // 8n\n    }\n    static getDefaults() {\n        return Object.assign(ToneWithContext.getDefaults(), {\n            bpm: 120,\n            loopEnd: \"4m\",\n            loopStart: 0,\n            ppq: 192,\n            swing: 0,\n            swingSubdivision: \"8n\",\n            timeSignature: 4,\n        });\n    }\n    //-------------------------------------\n    // \tTICKS\n    //-------------------------------------\n    /**\n     * called on every tick\n     * @param  tickTime clock relative tick time\n     */\n    _processTick(tickTime, ticks) {\n        // do the loop test\n        if (this._loop.get(tickTime)) {\n            if (ticks >= this._loopEnd) {\n                this.emit(\"loopEnd\", tickTime);\n                this._clock.setTicksAtTime(this._loopStart, tickTime);\n                ticks = this._loopStart;\n                this.emit(\"loopStart\", tickTime, this._clock.getSecondsAtTime(tickTime));\n                this.emit(\"loop\", tickTime);\n            }\n        }\n        // handle swing\n        if (this._swingAmount > 0 &&\n            ticks % this._ppq !== 0 && // not on a downbeat\n            ticks % (this._swingTicks * 2) !== 0) {\n            // add some swing\n            const progress = (ticks % (this._swingTicks * 2)) / (this._swingTicks * 2);\n            const amount = Math.sin(progress * Math.PI) * this._swingAmount;\n            tickTime +=\n                new TicksClass(this.context, (this._swingTicks * 2) / 3).toSeconds() * amount;\n        }\n        // invoke the timeline events scheduled on this tick\n        enterScheduledCallback(true);\n        this._timeline.forEachAtTime(ticks, (event) => event.invoke(tickTime));\n        enterScheduledCallback(false);\n    }\n    //-------------------------------------\n    // \tSCHEDULABLE EVENTS\n    //-------------------------------------\n    /**\n     * Schedule an event along the timeline.\n     * @param callback The callback to be invoked at the time.\n     * @param time The time to invoke the callback at.\n     * @return The id of the event which can be used for canceling the event.\n     * @example\n     * // schedule an event on the 16th measure\n     * Tone.getTransport().schedule((time) => {\n     * \t// invoked on measure 16\n     * \tconsole.log(\"measure 16!\");\n     * }, \"16:0:0\");\n     */\n    schedule(callback, time) {\n        const event = new TransportEvent(this, {\n            callback,\n            time: new TransportTimeClass(this.context, time).toTicks(),\n        });\n        return this._addEvent(event, this._timeline);\n    }\n    /**\n     * Schedule a repeated event along the timeline. The event will fire\n     * at the `interval` starting at the `startTime` and for the specified\n     * `duration`.\n     * @param  callback   The callback to invoke.\n     * @param  interval   The duration between successive callbacks. Must be a positive number.\n     * @param  startTime  When along the timeline the events should start being invoked.\n     * @param  duration How long the event should repeat.\n     * @return  The ID of the scheduled event. Use this to cancel the event.\n     * @example\n     * const osc = new Tone.Oscillator().toDestination().start();\n     * // a callback invoked every eighth note after the first measure\n     * Tone.getTransport().scheduleRepeat((time) => {\n     * \tosc.start(time).stop(time + 0.1);\n     * }, \"8n\", \"1m\");\n     */\n    scheduleRepeat(callback, interval, startTime, duration = Infinity) {\n        const event = new TransportRepeatEvent(this, {\n            callback,\n            duration: new TimeClass(this.context, duration).toTicks(),\n            interval: new TimeClass(this.context, interval).toTicks(),\n            time: new TransportTimeClass(this.context, startTime).toTicks(),\n        });\n        // kick it off if the Transport is started\n        // @ts-ignore\n        return this._addEvent(event, this._repeatedEvents);\n    }\n    /**\n     * Schedule an event that will be removed after it is invoked.\n     * @param callback The callback to invoke once.\n     * @param time The time the callback should be invoked.\n     * @returns The ID of the scheduled event.\n     */\n    scheduleOnce(callback, time) {\n        const event = new TransportEvent(this, {\n            callback,\n            once: true,\n            time: new TransportTimeClass(this.context, time).toTicks(),\n        });\n        return this._addEvent(event, this._timeline);\n    }\n    /**\n     * Clear the passed in event id from the timeline\n     * @param eventId The id of the event.\n     */\n    clear(eventId) {\n        if (this._scheduledEvents.hasOwnProperty(eventId)) {\n            const item = this._scheduledEvents[eventId.toString()];\n            item.timeline.remove(item.event);\n            item.event.dispose();\n            delete this._scheduledEvents[eventId.toString()];\n        }\n        return this;\n    }\n    /**\n     * Add an event to the correct timeline. Keep track of the\n     * timeline it was added to.\n     * @returns the event id which was just added\n     */\n    _addEvent(event, timeline) {\n        this._scheduledEvents[event.id.toString()] = {\n            event,\n            timeline,\n        };\n        timeline.add(event);\n        return event.id;\n    }\n    /**\n     * Remove scheduled events from the timeline after\n     * the given time. Repeated events will be removed\n     * if their startTime is after the given time\n     * @param after Clear all events after this time.\n     */\n    cancel(after = 0) {\n        const computedAfter = this.toTicks(after);\n        this._timeline.forEachFrom(computedAfter, (event) => this.clear(event.id));\n        this._repeatedEvents.forEachFrom(computedAfter, (event) => this.clear(event.id));\n        return this;\n    }\n    //-------------------------------------\n    // \tSTART/STOP/PAUSE\n    //-------------------------------------\n    /**\n     * Bind start/stop/pause events from the clock and emit them.\n     */\n    _bindClockEvents() {\n        this._clock.on(\"start\", (time, offset) => {\n            offset = new TicksClass(this.context, offset).toSeconds();\n            this.emit(\"start\", time, offset);\n        });\n        this._clock.on(\"stop\", (time) => {\n            this.emit(\"stop\", time);\n        });\n        this._clock.on(\"pause\", (time) => {\n            this.emit(\"pause\", time);\n        });\n    }\n    /**\n     * Returns the playback state of the source, either \"started\", \"stopped\", or \"paused\"\n     */\n    get state() {\n        return this._clock.getStateAtTime(this.now());\n    }\n    /**\n     * Start the transport and all sources synced to the transport.\n     * @param  time The time when the transport should start.\n     * @param  offset The timeline offset to start the transport.\n     * @example\n     * // start the transport in one second starting at beginning of the 5th measure.\n     * Tone.getTransport().start(\"+1\", \"4:0:0\");\n     */\n    start(time, offset) {\n        // start the context\n        this.context.resume();\n        let offsetTicks;\n        if (isDefined(offset)) {\n            offsetTicks = this.toTicks(offset);\n        }\n        // start the clock\n        this._clock.start(time, offsetTicks);\n        return this;\n    }\n    /**\n     * Stop the transport and all sources synced to the transport.\n     * @param time The time when the transport should stop.\n     * @example\n     * Tone.getTransport().stop();\n     */\n    stop(time) {\n        this._clock.stop(time);\n        return this;\n    }\n    /**\n     * Pause the transport and all sources synced to the transport.\n     */\n    pause(time) {\n        this._clock.pause(time);\n        return this;\n    }\n    /**\n     * Toggle the current state of the transport. If it is\n     * started, it will stop it, otherwise it will start the Transport.\n     * @param  time The time of the event\n     */\n    toggle(time) {\n        time = this.toSeconds(time);\n        if (this._clock.getStateAtTime(time) !== \"started\") {\n            this.start(time);\n        }\n        else {\n            this.stop(time);\n        }\n        return this;\n    }\n    //-------------------------------------\n    // \tSETTERS/GETTERS\n    //-------------------------------------\n    /**\n     * The time signature as just the numerator over 4.\n     * For example 4/4 would be just 4 and 6/8 would be 3.\n     * @example\n     * // common time\n     * Tone.getTransport().timeSignature = 4;\n     * // 7/8\n     * Tone.getTransport().timeSignature = [7, 8];\n     * // this will be reduced to a single number\n     * Tone.getTransport().timeSignature; // returns 3.5\n     */\n    get timeSignature() {\n        return this._timeSignature;\n    }\n    set timeSignature(timeSig) {\n        if (isArray(timeSig)) {\n            timeSig = (timeSig[0] / timeSig[1]) * 4;\n        }\n        this._timeSignature = timeSig;\n    }\n    /**\n     * When the Transport.loop = true, this is the starting position of the loop.\n     */\n    get loopStart() {\n        return new TimeClass(this.context, this._loopStart, \"i\").toSeconds();\n    }\n    set loopStart(startPosition) {\n        this._loopStart = this.toTicks(startPosition);\n    }\n    /**\n     * When the Transport.loop = true, this is the ending position of the loop.\n     */\n    get loopEnd() {\n        return new TimeClass(this.context, this._loopEnd, \"i\").toSeconds();\n    }\n    set loopEnd(endPosition) {\n        this._loopEnd = this.toTicks(endPosition);\n    }\n    /**\n     * If the transport loops or not.\n     */\n    get loop() {\n        return this._loop.get(this.now());\n    }\n    set loop(loop) {\n        this._loop.set(loop, this.now());\n    }\n    /**\n     * Set the loop start and stop at the same time.\n     * @example\n     * // loop over the first measure\n     * Tone.getTransport().setLoopPoints(0, \"1m\");\n     * Tone.getTransport().loop = true;\n     */\n    setLoopPoints(startPosition, endPosition) {\n        this.loopStart = startPosition;\n        this.loopEnd = endPosition;\n        return this;\n    }\n    /**\n     * The swing value. Between 0-1 where 1 equal to the note + half the subdivision.\n     */\n    get swing() {\n        return this._swingAmount;\n    }\n    set swing(amount) {\n        // scale the values to a normal range\n        this._swingAmount = amount;\n    }\n    /**\n     * Set the subdivision which the swing will be applied to.\n     * The default value is an 8th note. Value must be less\n     * than a quarter note.\n     */\n    get swingSubdivision() {\n        return new TicksClass(this.context, this._swingTicks).toNotation();\n    }\n    set swingSubdivision(subdivision) {\n        this._swingTicks = this.toTicks(subdivision);\n    }\n    /**\n     * The Transport's position in Bars:Beats:Sixteenths.\n     * Setting the value will jump to that position right away.\n     */\n    get position() {\n        const now = this.now();\n        const ticks = this._clock.getTicksAtTime(now);\n        return new TicksClass(this.context, ticks).toBarsBeatsSixteenths();\n    }\n    set position(progress) {\n        const ticks = this.toTicks(progress);\n        this.ticks = ticks;\n    }\n    /**\n     * The Transport's position in seconds.\n     * Setting the value will jump to that position right away.\n     */\n    get seconds() {\n        return this._clock.seconds;\n    }\n    set seconds(s) {\n        const now = this.now();\n        const ticks = this._clock.frequency.timeToTicks(s, now);\n        this.ticks = ticks;\n    }\n    /**\n     * The Transport's loop position as a normalized value. Always\n     * returns 0 if the Transport.loop = false.\n     */\n    get progress() {\n        if (this.loop) {\n            const now = this.now();\n            const ticks = this._clock.getTicksAtTime(now);\n            return ((ticks - this._loopStart) / (this._loopEnd - this._loopStart));\n        }\n        else {\n            return 0;\n        }\n    }\n    /**\n     * The Transport's current tick position.\n     */\n    get ticks() {\n        return this._clock.ticks;\n    }\n    set ticks(t) {\n        if (this._clock.ticks !== t) {\n            const now = this.now();\n            // stop everything synced to the transport\n            if (this.state === \"started\") {\n                const ticks = this._clock.getTicksAtTime(now);\n                // schedule to start on the next tick, #573\n                const remainingTick = this._clock.frequency.getDurationOfTicks(Math.ceil(ticks) - ticks, now);\n                const time = now + remainingTick;\n                this.emit(\"stop\", time);\n                this._clock.setTicksAtTime(t, time);\n                // restart it with the new time\n                this.emit(\"start\", time, this._clock.getSecondsAtTime(time));\n            }\n            else {\n                this.emit(\"ticks\", now);\n                this._clock.setTicksAtTime(t, now);\n            }\n        }\n    }\n    /**\n     * Get the clock's ticks at the given time.\n     * @param  time  When to get the tick value\n     * @return The tick value at the given time.\n     */\n    getTicksAtTime(time) {\n        return this._clock.getTicksAtTime(time);\n    }\n    /**\n     * Return the elapsed seconds at the given time.\n     * @param  time  When to get the elapsed seconds\n     * @return  The number of elapsed seconds\n     */\n    getSecondsAtTime(time) {\n        return this._clock.getSecondsAtTime(time);\n    }\n    /**\n     * Pulses Per Quarter note. This is the smallest resolution\n     * the Transport timing supports. This should be set once\n     * on initialization and not set again. Changing this value\n     * after other objects have been created can cause problems.\n     */\n    get PPQ() {\n        return this._clock.frequency.multiplier;\n    }\n    set PPQ(ppq) {\n        this._clock.frequency.multiplier = ppq;\n    }\n    //-------------------------------------\n    // \tSYNCING\n    //-------------------------------------\n    /**\n     * Returns the time aligned to the next subdivision\n     * of the Transport. If the Transport is not started,\n     * it will return 0.\n     * Note: this will not work precisely during tempo ramps.\n     * @param  subdivision  The subdivision to quantize to\n     * @return  The context time of the next subdivision.\n     * @example\n     * // the transport must be started, otherwise returns 0\n     * Tone.getTransport().start();\n     * Tone.getTransport().nextSubdivision(\"4n\");\n     */\n    nextSubdivision(subdivision) {\n        subdivision = this.toTicks(subdivision);\n        if (this.state !== \"started\") {\n            // if the transport's not started, return 0\n            return 0;\n        }\n        else {\n            const now = this.now();\n            // the remainder of the current ticks and the subdivision\n            const transportPos = this.getTicksAtTime(now);\n            const remainingTicks = subdivision - (transportPos % subdivision);\n            return this._clock.nextTickTime(remainingTicks, now);\n        }\n    }\n    /**\n     * Attaches the signal to the tempo control signal so that\n     * any changes in the tempo will change the signal in the same\n     * ratio.\n     *\n     * @param signal\n     * @param ratio Optionally pass in the ratio between the two signals.\n     * \t\t\tOtherwise it will be computed based on their current values.\n     */\n    syncSignal(signal, ratio) {\n        const now = this.now();\n        let source = this.bpm;\n        let sourceValue = 1 / (60 / source.getValueAtTime(now) / this.PPQ);\n        let nodes = [];\n        // If the signal is in the time domain, sync it to the reciprocal of\n        // the tempo instead of the tempo.\n        if (signal.units === \"time\") {\n            // The input to Pow should be in the range [1 / 4096, 1], where\n            // where 4096 is half of the buffer size of Pow's waveshaper.\n            // Pick a scaling factor based on the initial tempo that ensures\n            // that the initial input is in this range, while leaving room for\n            // tempo changes.\n            const scaleFactor = 1 / 64 / sourceValue;\n            const scaleBefore = new Gain(scaleFactor);\n            const reciprocal = new Pow(-1);\n            const scaleAfter = new Gain(scaleFactor);\n            // @ts-ignore\n            source.chain(scaleBefore, reciprocal, scaleAfter);\n            source = scaleAfter;\n            sourceValue = 1 / sourceValue;\n            nodes = [scaleBefore, reciprocal, scaleAfter];\n        }\n        if (!ratio) {\n            // get the sync ratio\n            if (signal.getValueAtTime(now) !== 0) {\n                ratio = signal.getValueAtTime(now) / sourceValue;\n            }\n            else {\n                ratio = 0;\n            }\n        }\n        const ratioSignal = new Gain(ratio);\n        // @ts-ignore\n        source.connect(ratioSignal);\n        // @ts-ignore\n        ratioSignal.connect(signal._param);\n        nodes.push(ratioSignal);\n        this._syncedSignals.push({\n            initial: signal.value,\n            nodes: nodes,\n            signal,\n        });\n        signal.value = 0;\n        return this;\n    }\n    /**\n     * Unsyncs a previously synced signal from the transport's control.\n     * @see {@link syncSignal}.\n     */\n    unsyncSignal(signal) {\n        for (let i = this._syncedSignals.length - 1; i >= 0; i--) {\n            const syncedSignal = this._syncedSignals[i];\n            if (syncedSignal.signal === signal) {\n                syncedSignal.nodes.forEach((node) => node.dispose());\n                syncedSignal.signal.value = syncedSignal.initial;\n                this._syncedSignals.splice(i, 1);\n            }\n        }\n        return this;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._clock.dispose();\n        writable(this, \"bpm\");\n        this._timeline.dispose();\n        this._repeatedEvents.dispose();\n        return this;\n    }\n}\nEmitter.mixin(TransportClass);\n//-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\nonContextInit((context) => {\n    context.transport = new TransportClass({ context });\n});\nonContextClose((context) => {\n    context.transport.dispose();\n});\n//# sourceMappingURL=Transport.js.map","import { Volume } from \"../component/channel/Volume.js\";\nimport \"../core/context/Destination.js\";\nimport \"../core/clock/Transport.js\";\nimport { ToneAudioNode, } from \"../core/context/ToneAudioNode.js\";\nimport { defaultArg } from \"../core/util/Defaults.js\";\nimport { noOp, readOnly } from \"../core/util/Interface.js\";\nimport { StateTimeline, } from \"../core/util/StateTimeline.js\";\nimport { isDefined, isUndef } from \"../core/util/TypeCheck.js\";\nimport { assert, assertContextRunning } from \"../core/util/Debug.js\";\nimport { GT } from \"../core/util/Math.js\";\n/**\n * Base class for sources.\n * start/stop of this.context.transport.\n *\n * ```\n * // Multiple state change events can be chained together,\n * // but must be set in the correct order and with ascending times\n * // OK\n * state.start().stop(\"+0.2\");\n * // OK\n * state.start().stop(\"+0.2\").start(\"+0.4\").stop(\"+0.7\")\n * // BAD\n * state.stop(\"+0.2\").start();\n * // BAD\n * state.start(\"+0.3\").stop(\"+0.2\");\n * ```\n */\nexport class Source extends ToneAudioNode {\n    constructor(options) {\n        super(options);\n        /**\n         * Sources have no inputs\n         */\n        this.input = undefined;\n        /**\n         * Keep track of the scheduled state.\n         */\n        this._state = new StateTimeline(\"stopped\");\n        /**\n         * The synced `start` callback function from the transport\n         */\n        this._synced = false;\n        /**\n         * Keep track of all of the scheduled event ids\n         */\n        this._scheduled = [];\n        /**\n         * Placeholder functions for syncing/unsyncing to transport\n         */\n        this._syncedStart = noOp;\n        this._syncedStop = noOp;\n        this._state.memory = 100;\n        this._state.increasing = true;\n        this._volume = this.output = new Volume({\n            context: this.context,\n            mute: options.mute,\n            volume: options.volume,\n        });\n        this.volume = this._volume.volume;\n        readOnly(this, \"volume\");\n        this.onstop = options.onstop;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            mute: false,\n            onstop: noOp,\n            volume: 0,\n        });\n    }\n    /**\n     * Returns the playback state of the source, either \"started\" or \"stopped\".\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/berklee/ahntone_c3.mp3\", () => {\n     * \tplayer.start();\n     * \tconsole.log(player.state);\n     * }).toDestination();\n     */\n    get state() {\n        if (this._synced) {\n            if (this.context.transport.state === \"started\") {\n                return this._state.getValueAtTime(this.context.transport.seconds);\n            }\n            else {\n                return \"stopped\";\n            }\n        }\n        else {\n            return this._state.getValueAtTime(this.now());\n        }\n    }\n    /**\n     * Mute the output.\n     * @example\n     * const osc = new Tone.Oscillator().toDestination().start();\n     * // mute the output\n     * osc.mute = true;\n     */\n    get mute() {\n        return this._volume.mute;\n    }\n    set mute(mute) {\n        this._volume.mute = mute;\n    }\n    /**\n     * Ensure that the scheduled time is not before the current time.\n     * Should only be used when scheduled unsynced.\n     */\n    _clampToCurrentTime(time) {\n        if (this._synced) {\n            return time;\n        }\n        else {\n            return Math.max(time, this.context.currentTime);\n        }\n    }\n    /**\n     * Start the source at the specified time. If no time is given,\n     * start the source now.\n     * @param  time When the source should be started.\n     * @example\n     * const source = new Tone.Oscillator().toDestination();\n     * source.start(\"+0.5\"); // starts the source 0.5 seconds from now\n     */\n    start(time, offset, duration) {\n        let computedTime = isUndef(time) && this._synced\n            ? this.context.transport.seconds\n            : this.toSeconds(time);\n        computedTime = this._clampToCurrentTime(computedTime);\n        // if it's started, stop it and restart it\n        if (!this._synced &&\n            this._state.getValueAtTime(computedTime) === \"started\") {\n            // time should be strictly greater than the previous start time\n            assert(GT(computedTime, this._state.get(computedTime).time), \"Start time must be strictly greater than previous start time\");\n            this._state.cancel(computedTime);\n            this._state.setStateAtTime(\"started\", computedTime);\n            this.log(\"restart\", computedTime);\n            this.restart(computedTime, offset, duration);\n        }\n        else {\n            this.log(\"start\", computedTime);\n            this._state.setStateAtTime(\"started\", computedTime);\n            if (this._synced) {\n                // add the offset time to the event\n                const event = this._state.get(computedTime);\n                if (event) {\n                    event.offset = this.toSeconds(defaultArg(offset, 0));\n                    event.duration = duration\n                        ? this.toSeconds(duration)\n                        : undefined;\n                }\n                const sched = this.context.transport.schedule((t) => {\n                    this._start(t, offset, duration);\n                }, computedTime);\n                this._scheduled.push(sched);\n                // if the transport is already started\n                // and the time is greater than where the transport is\n                if (this.context.transport.state === \"started\" &&\n                    this.context.transport.getSecondsAtTime(this.immediate()) >\n                        computedTime) {\n                    this._syncedStart(this.now(), this.context.transport.seconds);\n                }\n            }\n            else {\n                assertContextRunning(this.context);\n                this._start(computedTime, offset, duration);\n            }\n        }\n        return this;\n    }\n    /**\n     * Stop the source at the specified time. If no time is given,\n     * stop the source now.\n     * @param  time When the source should be stopped.\n     * @example\n     * const source = new Tone.Oscillator().toDestination();\n     * source.start();\n     * source.stop(\"+0.5\"); // stops the source 0.5 seconds from now\n     */\n    stop(time) {\n        let computedTime = isUndef(time) && this._synced\n            ? this.context.transport.seconds\n            : this.toSeconds(time);\n        computedTime = this._clampToCurrentTime(computedTime);\n        if (this._state.getValueAtTime(computedTime) === \"started\" ||\n            isDefined(this._state.getNextState(\"started\", computedTime))) {\n            this.log(\"stop\", computedTime);\n            if (!this._synced) {\n                this._stop(computedTime);\n            }\n            else {\n                const sched = this.context.transport.schedule(this._stop.bind(this), computedTime);\n                this._scheduled.push(sched);\n            }\n            this._state.cancel(computedTime);\n            this._state.setStateAtTime(\"stopped\", computedTime);\n        }\n        return this;\n    }\n    /**\n     * Restart the source.\n     */\n    restart(time, offset, duration) {\n        time = this.toSeconds(time);\n        if (this._state.getValueAtTime(time) === \"started\") {\n            this._state.cancel(time);\n            this._restart(time, offset, duration);\n        }\n        return this;\n    }\n    /**\n     * Sync the source to the Transport so that all subsequent\n     * calls to `start` and `stop` are synced to the TransportTime\n     * instead of the AudioContext time.\n     *\n     * @example\n     * const osc = new Tone.Oscillator().toDestination();\n     * // sync the source so that it plays between 0 and 0.3 on the Transport's timeline\n     * osc.sync().start(0).stop(0.3);\n     * // start the transport.\n     * Tone.Transport.start();\n     * // set it to loop once a second\n     * Tone.Transport.loop = true;\n     * Tone.Transport.loopEnd = 1;\n     */\n    sync() {\n        if (!this._synced) {\n            this._synced = true;\n            this._syncedStart = (time, offset) => {\n                if (GT(offset, 0)) {\n                    // get the playback state at that time\n                    const stateEvent = this._state.get(offset);\n                    // listen for start events which may occur in the middle of the sync'ed time\n                    if (stateEvent &&\n                        stateEvent.state === \"started\" &&\n                        stateEvent.time !== offset) {\n                        // get the offset\n                        const startOffset = offset - this.toSeconds(stateEvent.time);\n                        let duration;\n                        if (stateEvent.duration) {\n                            duration =\n                                this.toSeconds(stateEvent.duration) -\n                                    startOffset;\n                        }\n                        this._start(time, this.toSeconds(stateEvent.offset) + startOffset, duration);\n                    }\n                }\n            };\n            this._syncedStop = (time) => {\n                const seconds = this.context.transport.getSecondsAtTime(Math.max(time - this.sampleTime, 0));\n                if (this._state.getValueAtTime(seconds) === \"started\") {\n                    this._stop(time);\n                }\n            };\n            this.context.transport.on(\"start\", this._syncedStart);\n            this.context.transport.on(\"loopStart\", this._syncedStart);\n            this.context.transport.on(\"stop\", this._syncedStop);\n            this.context.transport.on(\"pause\", this._syncedStop);\n            this.context.transport.on(\"loopEnd\", this._syncedStop);\n        }\n        return this;\n    }\n    /**\n     * Unsync the source to the Transport.\n     * @see {@link sync}\n     */\n    unsync() {\n        if (this._synced) {\n            this.context.transport.off(\"stop\", this._syncedStop);\n            this.context.transport.off(\"pause\", this._syncedStop);\n            this.context.transport.off(\"loopEnd\", this._syncedStop);\n            this.context.transport.off(\"start\", this._syncedStart);\n            this.context.transport.off(\"loopStart\", this._syncedStart);\n        }\n        this._synced = false;\n        // clear all of the scheduled ids\n        this._scheduled.forEach((id) => this.context.transport.clear(id));\n        this._scheduled = [];\n        this._state.cancel(0);\n        // stop it also\n        this._stop(0);\n        return this;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this.onstop = noOp;\n        this.unsync();\n        this._volume.dispose();\n        this._state.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Source.js.map","import { connect } from \"../../core/context/ToneAudioNode.js\";\nimport { Param } from \"../../core/context/Param.js\";\nimport { ToneAudioBuffer } from \"../../core/context/ToneAudioBuffer.js\";\nimport { defaultArg, optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { noOp } from \"../../core/util/Interface.js\";\nimport { isDefined } from \"../../core/util/TypeCheck.js\";\nimport { assert } from \"../../core/util/Debug.js\";\nimport { OneShotSource, } from \"../OneShotSource.js\";\nimport { EQ, GTE, LT } from \"../../core/util/Math.js\";\n/**\n * Wrapper around the native BufferSourceNode.\n * @category Source\n */\nexport class ToneBufferSource extends OneShotSource {\n    constructor() {\n        const options = optionsFromArguments(ToneBufferSource.getDefaults(), arguments, [\"url\", \"onload\"]);\n        super(options);\n        this.name = \"ToneBufferSource\";\n        /**\n         * The oscillator\n         */\n        this._source = this.context.createBufferSource();\n        this._internalChannels = [this._source];\n        /**\n         * indicators if the source has started/stopped\n         */\n        this._sourceStarted = false;\n        this._sourceStopped = false;\n        connect(this._source, this._gainNode);\n        this._source.onended = () => this._stopSource();\n        /**\n         * The playbackRate of the buffer\n         */\n        this.playbackRate = new Param({\n            context: this.context,\n            param: this._source.playbackRate,\n            units: \"positive\",\n            value: options.playbackRate,\n        });\n        // set some values initially\n        this.loop = options.loop;\n        this.loopStart = options.loopStart;\n        this.loopEnd = options.loopEnd;\n        this._buffer = new ToneAudioBuffer(options.url, options.onload, options.onerror);\n        this._internalChannels.push(this._source);\n    }\n    static getDefaults() {\n        return Object.assign(OneShotSource.getDefaults(), {\n            url: new ToneAudioBuffer(),\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            onload: noOp,\n            onerror: noOp,\n            playbackRate: 1,\n        });\n    }\n    /**\n     * The fadeIn time of the amplitude envelope.\n     */\n    get fadeIn() {\n        return this._fadeIn;\n    }\n    set fadeIn(t) {\n        this._fadeIn = t;\n    }\n    /**\n     * The fadeOut time of the amplitude envelope.\n     */\n    get fadeOut() {\n        return this._fadeOut;\n    }\n    set fadeOut(t) {\n        this._fadeOut = t;\n    }\n    /**\n     * The curve applied to the fades, either \"linear\" or \"exponential\"\n     */\n    get curve() {\n        return this._curve;\n    }\n    set curve(t) {\n        this._curve = t;\n    }\n    /**\n     * Start the buffer\n     * @param  time When the player should start.\n     * @param  offset The offset from the beginning of the sample to start at.\n     * @param  duration How long the sample should play. If no duration is given, it will default to the full length of the sample (minus any offset)\n     * @param  gain  The gain to play the buffer back at.\n     */\n    start(time, offset, duration, gain = 1) {\n        assert(this.buffer.loaded, \"buffer is either not set or not loaded\");\n        const computedTime = this.toSeconds(time);\n        // apply the gain envelope\n        this._startGain(computedTime, gain);\n        // if it's a loop the default offset is the loopstart point\n        if (this.loop) {\n            offset = defaultArg(offset, this.loopStart);\n        }\n        else {\n            // otherwise the default offset is 0\n            offset = defaultArg(offset, 0);\n        }\n        // make sure the offset is not less than 0\n        let computedOffset = Math.max(this.toSeconds(offset), 0);\n        // start the buffer source\n        if (this.loop) {\n            // modify the offset if it's greater than the loop time\n            const loopEnd = this.toSeconds(this.loopEnd) || this.buffer.duration;\n            const loopStart = this.toSeconds(this.loopStart);\n            const loopDuration = loopEnd - loopStart;\n            // move the offset back\n            if (GTE(computedOffset, loopEnd)) {\n                computedOffset =\n                    ((computedOffset - loopStart) % loopDuration) + loopStart;\n            }\n            // when the offset is very close to the duration, set it to 0\n            if (EQ(computedOffset, this.buffer.duration)) {\n                computedOffset = 0;\n            }\n        }\n        // this.buffer.loaded would have return false if the AudioBuffer was undefined\n        this._source.buffer = this.buffer.get();\n        this._source.loopEnd =\n            this.toSeconds(this.loopEnd) || this.buffer.duration;\n        if (LT(computedOffset, this.buffer.duration)) {\n            this._sourceStarted = true;\n            this._source.start(computedTime, computedOffset);\n        }\n        // if a duration is given, schedule a stop\n        if (isDefined(duration)) {\n            let computedDur = this.toSeconds(duration);\n            // make sure it's never negative\n            computedDur = Math.max(computedDur, 0);\n            this.stop(computedTime + computedDur);\n        }\n        return this;\n    }\n    _stopSource(time) {\n        if (!this._sourceStopped && this._sourceStarted) {\n            this._sourceStopped = true;\n            this._source.stop(this.toSeconds(time));\n            this._onended();\n        }\n    }\n    /**\n     * If loop is true, the loop will start at this position.\n     */\n    get loopStart() {\n        return this._source.loopStart;\n    }\n    set loopStart(loopStart) {\n        this._source.loopStart = this.toSeconds(loopStart);\n    }\n    /**\n     * If loop is true, the loop will end at this position.\n     */\n    get loopEnd() {\n        return this._source.loopEnd;\n    }\n    set loopEnd(loopEnd) {\n        this._source.loopEnd = this.toSeconds(loopEnd);\n    }\n    /**\n     * The audio buffer belonging to the player.\n     */\n    get buffer() {\n        return this._buffer;\n    }\n    set buffer(buffer) {\n        this._buffer.set(buffer);\n    }\n    /**\n     * If the buffer should loop once it's over.\n     */\n    get loop() {\n        return this._source.loop;\n    }\n    set loop(loop) {\n        this._source.loop = loop;\n        if (this._sourceStarted) {\n            this.cancelStop();\n        }\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._source.onended = null;\n        this._source.disconnect();\n        this._buffer.dispose();\n        this.playbackRate.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=ToneBufferSource.js.map","import { __awaiter } from \"tslib\";\nimport { OfflineContext } from \"../../core/context/OfflineContext.js\";\n/**\n * Render a segment of the oscillator to an offline context and return the results as an array\n */\nexport function generateWaveform(instance, length) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const duration = length / instance.context.sampleRate;\n        const context = new OfflineContext(1, duration, instance.context.sampleRate);\n        const clone = new instance.constructor(Object.assign(instance.get(), {\n            // should do 2 iterations\n            frequency: 2 / duration,\n            // zero out the detune\n            detune: 0,\n            context,\n        })).toDestination();\n        clone.start(0);\n        const buffer = yield context.render();\n        return buffer.getChannelData(0);\n    });\n}\n//# sourceMappingURL=OscillatorInterface.js.map","import { connect } from \"../../core/context/ToneAudioNode.js\";\nimport { Param } from \"../../core/context/Param.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { OneShotSource } from \"../OneShotSource.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\n/**\n * Wrapper around the native fire-and-forget OscillatorNode.\n * Adds the ability to reschedule the stop method.\n * ***{@link Oscillator} is better for most use-cases***\n * @category Source\n */\nexport class ToneOscillatorNode extends OneShotSource {\n    constructor() {\n        const options = optionsFromArguments(ToneOscillatorNode.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        super(options);\n        this.name = \"ToneOscillatorNode\";\n        /**\n         * The oscillator\n         */\n        this._oscillator = this.context.createOscillator();\n        this._internalChannels = [this._oscillator];\n        connect(this._oscillator, this._gainNode);\n        this.type = options.type;\n        this.frequency = new Param({\n            context: this.context,\n            param: this._oscillator.frequency,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this.detune = new Param({\n            context: this.context,\n            param: this._oscillator.detune,\n            units: \"cents\",\n            value: options.detune,\n        });\n        readOnly(this, [\"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(OneShotSource.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            type: \"sine\",\n        });\n    }\n    /**\n     * Start the oscillator node at the given time\n     * @param  time When to start the oscillator\n     */\n    start(time) {\n        const computedTime = this.toSeconds(time);\n        this.log(\"start\", computedTime);\n        this._startGain(computedTime);\n        this._oscillator.start(computedTime);\n        return this;\n    }\n    _stopSource(time) {\n        this._oscillator.stop(time);\n    }\n    /**\n     * Sets an arbitrary custom periodic waveform given a PeriodicWave.\n     * @param  periodicWave PeriodicWave should be created with context.createPeriodicWave\n     */\n    setPeriodicWave(periodicWave) {\n        this._oscillator.setPeriodicWave(periodicWave);\n        return this;\n    }\n    /**\n     * The oscillator type. Either 'sine', 'sawtooth', 'square', or 'triangle'\n     */\n    get type() {\n        return this._oscillator.type;\n    }\n    set type(type) {\n        this._oscillator.type = type;\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        if (this.state === \"started\") {\n            this.stop();\n        }\n        this._oscillator.disconnect();\n        this.frequency.dispose();\n        this.detune.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=ToneOscillatorNode.js.map","import { __awaiter } from \"tslib\";\nimport { deepEquals, optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\nimport { isDefined } from \"../../core/util/TypeCheck.js\";\nimport { Signal } from \"../../signal/Signal.js\";\nimport { Source } from \"../Source.js\";\nimport { generateWaveform, } from \"./OscillatorInterface.js\";\nimport { ToneOscillatorNode } from \"./ToneOscillatorNode.js\";\nimport { assertRange } from \"../../core/util/Debug.js\";\nimport { clamp } from \"../../core/util/Math.js\";\n/**\n * Oscillator supports a number of features including\n * phase rotation, multiple oscillator types (see Oscillator.type),\n * and Transport syncing (see Oscillator.syncFrequency).\n *\n * @example\n * // make and start a 440hz sine tone\n * const osc = new Tone.Oscillator(440, \"sine\").toDestination().start();\n * @category Source\n */\nexport class Oscillator extends Source {\n    constructor() {\n        const options = optionsFromArguments(Oscillator.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        super(options);\n        this.name = \"Oscillator\";\n        /**\n         * the main oscillator\n         */\n        this._oscillator = null;\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        readOnly(this, \"frequency\");\n        this.detune = new Signal({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n        });\n        readOnly(this, \"detune\");\n        this._partials = options.partials;\n        this._partialCount = options.partialCount;\n        this._type = options.type;\n        if (options.partialCount && options.type !== \"custom\") {\n            this._type = (this.baseType +\n                options.partialCount.toString());\n        }\n        this.phase = options.phase;\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            partialCount: 0,\n            partials: [],\n            phase: 0,\n            type: \"sine\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        const computedTime = this.toSeconds(time);\n        // new oscillator with previous values\n        const oscillator = new ToneOscillatorNode({\n            context: this.context,\n            onended: () => this.onstop(this),\n        });\n        this._oscillator = oscillator;\n        if (this._wave) {\n            this._oscillator.setPeriodicWave(this._wave);\n        }\n        else {\n            this._oscillator.type = this._type;\n        }\n        // connect the control signal to the oscillator frequency & detune\n        this._oscillator.connect(this.output);\n        this.frequency.connect(this._oscillator.frequency);\n        this.detune.connect(this._oscillator.detune);\n        // start the oscillator\n        this._oscillator.start(computedTime);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        const computedTime = this.toSeconds(time);\n        if (this._oscillator) {\n            this._oscillator.stop(computedTime);\n        }\n    }\n    /**\n     * Restart the oscillator. Does not stop the oscillator, but instead\n     * just cancels any scheduled 'stop' from being invoked.\n     */\n    _restart(time) {\n        const computedTime = this.toSeconds(time);\n        this.log(\"restart\", computedTime);\n        if (this._oscillator) {\n            this._oscillator.cancelStop();\n        }\n        this._state.cancel(computedTime);\n        return this;\n    }\n    /**\n     * Sync the signal to the Transport's bpm. Any changes to the transports bpm,\n     * will also affect the oscillators frequency.\n     * @example\n     * const osc = new Tone.Oscillator().toDestination().start();\n     * osc.frequency.value = 440;\n     * // the ratio between the bpm and the frequency will be maintained\n     * osc.syncFrequency();\n     * // double the tempo\n     * Tone.Transport.bpm.value *= 2;\n     * // the frequency of the oscillator is doubled to 880\n     */\n    syncFrequency() {\n        this.context.transport.syncSignal(this.frequency);\n        return this;\n    }\n    /**\n     * Unsync the oscillator's frequency from the Transport.\n     * @see {@link syncFrequency}\n     */\n    unsyncFrequency() {\n        this.context.transport.unsyncSignal(this.frequency);\n        return this;\n    }\n    /**\n     * Get a cached periodic wave. Avoids having to recompute\n     * the oscillator values when they have already been computed\n     * with the same values.\n     */\n    _getCachedPeriodicWave() {\n        if (this._type === \"custom\") {\n            const oscProps = Oscillator._periodicWaveCache.find((description) => {\n                return (description.phase === this._phase &&\n                    deepEquals(description.partials, this._partials));\n            });\n            return oscProps;\n        }\n        else {\n            const oscProps = Oscillator._periodicWaveCache.find((description) => {\n                return (description.type === this._type &&\n                    description.phase === this._phase);\n            });\n            this._partialCount = oscProps\n                ? oscProps.partialCount\n                : this._partialCount;\n            return oscProps;\n        }\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n        const isBasicType = [\"sine\", \"square\", \"sawtooth\", \"triangle\"].indexOf(type) !== -1;\n        if (this._phase === 0 && isBasicType) {\n            this._wave = undefined;\n            this._partialCount = 0;\n            // just go with the basic approach\n            if (this._oscillator !== null) {\n                // already tested that it's a basic type\n                this._oscillator.type = type;\n            }\n        }\n        else {\n            // first check if the value is cached\n            const cache = this._getCachedPeriodicWave();\n            if (isDefined(cache)) {\n                const { partials, wave } = cache;\n                this._wave = wave;\n                this._partials = partials;\n                if (this._oscillator !== null) {\n                    this._oscillator.setPeriodicWave(this._wave);\n                }\n            }\n            else {\n                const [real, imag] = this._getRealImaginary(type, this._phase);\n                const periodicWave = this.context.createPeriodicWave(real, imag);\n                this._wave = periodicWave;\n                if (this._oscillator !== null) {\n                    this._oscillator.setPeriodicWave(this._wave);\n                }\n                // set the cache\n                Oscillator._periodicWaveCache.push({\n                    imag,\n                    partialCount: this._partialCount,\n                    partials: this._partials,\n                    phase: this._phase,\n                    real,\n                    type: this._type,\n                    wave: this._wave,\n                });\n                if (Oscillator._periodicWaveCache.length > 100) {\n                    Oscillator._periodicWaveCache.shift();\n                }\n            }\n        }\n    }\n    get baseType() {\n        return this._type.replace(this.partialCount.toString(), \"\");\n    }\n    set baseType(baseType) {\n        if (this.partialCount &&\n            this._type !== \"custom\" &&\n            baseType !== \"custom\") {\n            this.type = (baseType + this.partialCount);\n        }\n        else {\n            this.type = baseType;\n        }\n    }\n    get partialCount() {\n        return this._partialCount;\n    }\n    set partialCount(p) {\n        assertRange(p, 0);\n        let type = this._type;\n        const partial = /^(sine|triangle|square|sawtooth)(\\d+)$/.exec(this._type);\n        if (partial) {\n            type = partial[1];\n        }\n        if (this._type !== \"custom\") {\n            if (p === 0) {\n                this.type = type;\n            }\n            else {\n                this.type = (type + p.toString());\n            }\n        }\n        else {\n            // extend or shorten the partials array\n            const fullPartials = new Float32Array(p);\n            // copy over the partials array\n            this._partials.forEach((v, i) => (fullPartials[i] = v));\n            this._partials = Array.from(fullPartials);\n            this.type = this._type;\n        }\n    }\n    /**\n     * Returns the real and imaginary components based\n     * on the oscillator type.\n     * @returns [real: Float32Array, imaginary: Float32Array]\n     */\n    _getRealImaginary(type, phase) {\n        const fftSize = 4096;\n        let periodicWaveSize = fftSize / 2;\n        const real = new Float32Array(periodicWaveSize);\n        const imag = new Float32Array(periodicWaveSize);\n        let partialCount = 1;\n        if (type === \"custom\") {\n            partialCount = this._partials.length + 1;\n            this._partialCount = this._partials.length;\n            periodicWaveSize = partialCount;\n            // if the partial count is 0, don't bother doing any computation\n            if (this._partials.length === 0) {\n                return [real, imag];\n            }\n        }\n        else {\n            const partial = /^(sine|triangle|square|sawtooth)(\\d+)$/.exec(type);\n            if (partial) {\n                partialCount = parseInt(partial[2], 10) + 1;\n                this._partialCount = parseInt(partial[2], 10);\n                type = partial[1];\n                partialCount = Math.max(partialCount, 2);\n                periodicWaveSize = partialCount;\n            }\n            else {\n                this._partialCount = 0;\n            }\n            this._partials = [];\n        }\n        for (let n = 1; n < periodicWaveSize; ++n) {\n            const piFactor = 2 / (n * Math.PI);\n            let b;\n            switch (type) {\n                case \"sine\":\n                    b = n <= partialCount ? 1 : 0;\n                    this._partials[n - 1] = b;\n                    break;\n                case \"square\":\n                    b = n & 1 ? 2 * piFactor : 0;\n                    this._partials[n - 1] = b;\n                    break;\n                case \"sawtooth\":\n                    b = piFactor * (n & 1 ? 1 : -1);\n                    this._partials[n - 1] = b;\n                    break;\n                case \"triangle\":\n                    if (n & 1) {\n                        b =\n                            2 *\n                                (piFactor * piFactor) *\n                                (((n - 1) >> 1) & 1 ? -1 : 1);\n                    }\n                    else {\n                        b = 0;\n                    }\n                    this._partials[n - 1] = b;\n                    break;\n                case \"custom\":\n                    b = this._partials[n - 1];\n                    break;\n                default:\n                    throw new TypeError(\"Oscillator: invalid type: \" + type);\n            }\n            if (b !== 0) {\n                real[n] = -b * Math.sin(phase * n);\n                imag[n] = b * Math.cos(phase * n);\n            }\n            else {\n                real[n] = 0;\n                imag[n] = 0;\n            }\n        }\n        return [real, imag];\n    }\n    /**\n     * Compute the inverse FFT for a given phase.\n     */\n    _inverseFFT(real, imag, phase) {\n        let sum = 0;\n        const len = real.length;\n        for (let i = 0; i < len; i++) {\n            sum +=\n                real[i] * Math.cos(i * phase) + imag[i] * Math.sin(i * phase);\n        }\n        return sum;\n    }\n    /**\n     * Returns the initial value of the oscillator when stopped.\n     * E.g. a \"sine\" oscillator with phase = 90 would return an initial value of -1.\n     */\n    getInitialValue() {\n        const [real, imag] = this._getRealImaginary(this._type, 0);\n        let maxValue = 0;\n        const twoPi = Math.PI * 2;\n        const testPositions = 32;\n        // check for peaks in 16 places\n        for (let i = 0; i < testPositions; i++) {\n            maxValue = Math.max(this._inverseFFT(real, imag, (i / testPositions) * twoPi), maxValue);\n        }\n        return clamp(-this._inverseFFT(real, imag, this._phase) / maxValue, -1, 1);\n    }\n    get partials() {\n        return this._partials.slice(0, this.partialCount);\n    }\n    set partials(partials) {\n        this._partials = partials;\n        this._partialCount = this._partials.length;\n        if (partials.length) {\n            this.type = \"custom\";\n        }\n    }\n    get phase() {\n        return this._phase * (180 / Math.PI);\n    }\n    set phase(phase) {\n        this._phase = (phase * Math.PI) / 180;\n        // reset the type\n        this.type = this._type;\n    }\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            return generateWaveform(this, length);\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this._oscillator !== null) {\n            this._oscillator.dispose();\n        }\n        this._wave = undefined;\n        this.frequency.dispose();\n        this.detune.dispose();\n        return this;\n    }\n}\n/**\n * Cache the periodic waves to avoid having to redo computations\n */\nOscillator._periodicWaveCache = [];\n//# sourceMappingURL=Oscillator.js.map","import { SignalOperator } from \"./SignalOperator.js\";\nimport { WaveShaper } from \"./WaveShaper.js\";\n/**\n * AudioToGain converts an input in AudioRange [-1,1] to NormalRange [0,1].\n * @see {@link GainToAudio}.\n * @category Signal\n */\nexport class AudioToGain extends SignalOperator {\n    constructor() {\n        super(...arguments);\n        this.name = \"AudioToGain\";\n        /**\n         * The node which converts the audio ranges\n         */\n        this._norm = new WaveShaper({\n            context: this.context,\n            mapping: (x) => (x + 1) / 2,\n        });\n        /**\n         * The AudioRange input [-1, 1]\n         */\n        this.input = this._norm;\n        /**\n         * The GainRange output [0, 1]\n         */\n        this.output = this._norm;\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this._norm.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AudioToGain.js.map","import { Gain } from \"../core/context/Gain.js\";\nimport { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { Signal } from \"./Signal.js\";\n/**\n * Multiply two incoming signals. Or, if a number is given in the constructor,\n * multiplies the incoming signal by that value.\n *\n * @example\n * // multiply two signals\n * const mult = new Tone.Multiply();\n * const sigA = new Tone.Signal(3);\n * const sigB = new Tone.Signal(4);\n * sigA.connect(mult);\n * sigB.connect(mult.factor);\n * // output of mult is 12.\n * @example\n * // multiply a signal and a number\n * const mult = new Tone.Multiply(10);\n * const sig = new Tone.Signal(2).connect(mult);\n * // the output of mult is 20.\n * @category Signal\n */\nexport class Multiply extends Signal {\n    constructor() {\n        const options = optionsFromArguments(Multiply.getDefaults(), arguments, [\"value\"]);\n        super(options);\n        this.name = \"Multiply\";\n        /**\n         * Indicates if the value should be overridden on connection\n         */\n        this.override = false;\n        this._mult =\n            this.input =\n                this.output =\n                    new Gain({\n                        context: this.context,\n                        minValue: options.minValue,\n                        maxValue: options.maxValue,\n                    });\n        this.factor = this._param = this._mult\n            .gain;\n        this.factor.setValueAtTime(options.value, 0);\n    }\n    static getDefaults() {\n        return Object.assign(Signal.getDefaults(), {\n            value: 0,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._mult.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Multiply.js.map","import { __awaiter } from \"tslib\";\nimport { Gain } from \"../../core/context/Gain.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\nimport { AudioToGain } from \"../../signal/AudioToGain.js\";\nimport { Multiply } from \"../../signal/Multiply.js\";\nimport { Source } from \"../Source.js\";\nimport { Oscillator } from \"./Oscillator.js\";\nimport { generateWaveform, } from \"./OscillatorInterface.js\";\n/**\n * An amplitude modulated oscillator node. It is implemented with\n * two oscillators, one which modulators the other's amplitude\n * through a gain node.\n * ```\n *    +-------------+       +----------+\n *    | Carrier Osc +>------> GainNode |\n *    +-------------+       |          +--->Output\n *                      +---> gain     |\n * +---------------+    |   +----------+\n * | Modulator Osc +>---+\n * +---------------+\n * ```\n * @example\n * return Tone.Offline(() => {\n * \tconst amOsc = new Tone.AMOscillator(30, \"sine\", \"square\").toDestination().start();\n * }, 0.2, 1);\n * @category Source\n */\nexport class AMOscillator extends Source {\n    constructor() {\n        const options = optionsFromArguments(AMOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"modulationType\"]);\n        super(options);\n        this.name = \"AMOscillator\";\n        /**\n         * convert the -1,1 output to 0,1\n         */\n        this._modulationScale = new AudioToGain({ context: this.context });\n        /**\n         * the node where the modulation happens\n         */\n        this._modulationNode = new Gain({\n            context: this.context,\n        });\n        this._carrier = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: options.frequency,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n            type: options.type,\n        });\n        (this.frequency = this._carrier.frequency),\n            (this.detune = this._carrier.detune);\n        this._modulator = new Oscillator({\n            context: this.context,\n            phase: options.phase,\n            type: options.modulationType,\n        });\n        this.harmonicity = new Multiply({\n            context: this.context,\n            units: \"positive\",\n            value: options.harmonicity,\n        });\n        // connections\n        this.frequency.chain(this.harmonicity, this._modulator.frequency);\n        this._modulator.chain(this._modulationScale, this._modulationNode.gain);\n        this._carrier.chain(this._modulationNode, this.output);\n        readOnly(this, [\"frequency\", \"detune\", \"harmonicity\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), {\n            harmonicity: 1,\n            modulationType: \"square\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        this._modulator.start(time);\n        this._carrier.start(time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        this._modulator.stop(time);\n        this._carrier.stop(time);\n    }\n    _restart(time) {\n        this._modulator.restart(time);\n        this._carrier.restart(time);\n    }\n    /**\n     * The type of the carrier oscillator\n     */\n    get type() {\n        return this._carrier.type;\n    }\n    set type(type) {\n        this._carrier.type = type;\n    }\n    get baseType() {\n        return this._carrier.baseType;\n    }\n    set baseType(baseType) {\n        this._carrier.baseType = baseType;\n    }\n    get partialCount() {\n        return this._carrier.partialCount;\n    }\n    set partialCount(partialCount) {\n        this._carrier.partialCount = partialCount;\n    }\n    /**\n     * The type of the modulator oscillator\n     */\n    get modulationType() {\n        return this._modulator.type;\n    }\n    set modulationType(type) {\n        this._modulator.type = type;\n    }\n    get phase() {\n        return this._carrier.phase;\n    }\n    set phase(phase) {\n        this._carrier.phase = phase;\n        this._modulator.phase = phase;\n    }\n    get partials() {\n        return this._carrier.partials;\n    }\n    set partials(partials) {\n        this._carrier.partials = partials;\n    }\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this.frequency.dispose();\n        this.detune.dispose();\n        this.harmonicity.dispose();\n        this._carrier.dispose();\n        this._modulator.dispose();\n        this._modulationNode.dispose();\n        this._modulationScale.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AMOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { Gain } from \"../../core/context/Gain.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\nimport { Multiply } from \"../../signal/Multiply.js\";\nimport { Signal } from \"../../signal/Signal.js\";\nimport { Source } from \"../Source.js\";\nimport { Oscillator } from \"./Oscillator.js\";\nimport { generateWaveform, } from \"./OscillatorInterface.js\";\n/**\n * FMOscillator implements a frequency modulation synthesis\n * ```\n *                                              +-------------+\n * +---------------+        +-------------+     | Carrier Osc |\n * | Modulator Osc +>-------> GainNode    |     |             +--->Output\n * +---------------+        |             +>----> frequency   |\n *                       +--> gain        |     +-------------+\n *                       |  +-------------+\n * +-----------------+   |\n * | modulationIndex +>--+\n * +-----------------+\n * ```\n *\n * @example\n * return Tone.Offline(() => {\n * \tconst fmOsc = new Tone.FMOscillator({\n * \t\tfrequency: 200,\n * \t\ttype: \"square\",\n * \t\tmodulationType: \"triangle\",\n * \t\tharmonicity: 0.2,\n * \t\tmodulationIndex: 3\n * \t}).toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class FMOscillator extends Source {\n    constructor() {\n        const options = optionsFromArguments(FMOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"modulationType\"]);\n        super(options);\n        this.name = \"FMOscillator\";\n        /**\n         * the node where the modulation happens\n         */\n        this._modulationNode = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        this._carrier = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: 0,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n            type: options.type,\n        });\n        this.detune = this._carrier.detune;\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this._modulator = new Oscillator({\n            context: this.context,\n            phase: options.phase,\n            type: options.modulationType,\n        });\n        this.harmonicity = new Multiply({\n            context: this.context,\n            units: \"positive\",\n            value: options.harmonicity,\n        });\n        this.modulationIndex = new Multiply({\n            context: this.context,\n            units: \"positive\",\n            value: options.modulationIndex,\n        });\n        // connections\n        this.frequency.connect(this._carrier.frequency);\n        this.frequency.chain(this.harmonicity, this._modulator.frequency);\n        this.frequency.chain(this.modulationIndex, this._modulationNode);\n        this._modulator.connect(this._modulationNode.gain);\n        this._modulationNode.connect(this._carrier.frequency);\n        this._carrier.connect(this.output);\n        this.detune.connect(this._modulator.detune);\n        readOnly(this, [\n            \"modulationIndex\",\n            \"frequency\",\n            \"detune\",\n            \"harmonicity\",\n        ]);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), {\n            harmonicity: 1,\n            modulationIndex: 2,\n            modulationType: \"square\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        this._modulator.start(time);\n        this._carrier.start(time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        this._modulator.stop(time);\n        this._carrier.stop(time);\n    }\n    _restart(time) {\n        this._modulator.restart(time);\n        this._carrier.restart(time);\n        return this;\n    }\n    get type() {\n        return this._carrier.type;\n    }\n    set type(type) {\n        this._carrier.type = type;\n    }\n    get baseType() {\n        return this._carrier.baseType;\n    }\n    set baseType(baseType) {\n        this._carrier.baseType = baseType;\n    }\n    get partialCount() {\n        return this._carrier.partialCount;\n    }\n    set partialCount(partialCount) {\n        this._carrier.partialCount = partialCount;\n    }\n    /**\n     * The type of the modulator oscillator\n     */\n    get modulationType() {\n        return this._modulator.type;\n    }\n    set modulationType(type) {\n        this._modulator.type = type;\n    }\n    get phase() {\n        return this._carrier.phase;\n    }\n    set phase(phase) {\n        this._carrier.phase = phase;\n        this._modulator.phase = phase;\n    }\n    get partials() {\n        return this._carrier.partials;\n    }\n    set partials(partials) {\n        this._carrier.partials = partials;\n    }\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this.frequency.dispose();\n        this.harmonicity.dispose();\n        this._carrier.dispose();\n        this._modulator.dispose();\n        this._modulationNode.dispose();\n        this.modulationIndex.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FMOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { Gain } from \"../../core/context/Gain.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\nimport { Signal } from \"../../signal/Signal.js\";\nimport { WaveShaper } from \"../../signal/WaveShaper.js\";\nimport { Source } from \"../Source.js\";\nimport { Oscillator } from \"./Oscillator.js\";\nimport { generateWaveform, } from \"./OscillatorInterface.js\";\n/**\n * PulseOscillator is an oscillator with control over pulse width,\n * also known as the duty cycle. At 50% duty cycle (width = 0) the wave is\n * a square wave.\n * [Read more](https://wigglewave.wordpress.com/2014/08/16/pulse-waveforms-and-harmonics/).\n * ```\n *    width = -0.25        width = 0.0          width = 0.25\n *\n *   +-----+            +-------+       +    +-------+     +-+\n *   |     |            |       |       |            |     |\n *   |     |            |       |       |            |     |\n * +-+     +-------+    +       +-------+            +-----+\n *\n *\n *    width = -0.5                              width = 0.5\n *\n *     +---+                                 +-------+   +---+\n *     |   |                                         |   |\n *     |   |                                         |   |\n * +---+   +-------+                                 +---+\n *\n *\n *    width = -0.75                             width = 0.75\n *\n *       +-+                                 +-------+ +-----+\n *       | |                                         | |\n *       | |                                         | |\n * +-----+ +-------+                                 +-+\n * ```\n * @example\n * return Tone.Offline(() => {\n * \tconst pulse = new Tone.PulseOscillator(50, 0.4).toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class PulseOscillator extends Source {\n    constructor() {\n        const options = optionsFromArguments(PulseOscillator.getDefaults(), arguments, [\"frequency\", \"width\"]);\n        super(options);\n        this.name = \"PulseOscillator\";\n        /**\n         * gate the width amount\n         */\n        this._widthGate = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        /**\n         * Threshold the signal to turn it into a square\n         */\n        this._thresh = new WaveShaper({\n            context: this.context,\n            mapping: (val) => (val <= 0 ? -1 : 1),\n        });\n        this.width = new Signal({\n            context: this.context,\n            units: \"audioRange\",\n            value: options.width,\n        });\n        this._triangle = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: options.frequency,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n            type: \"triangle\",\n        });\n        this.frequency = this._triangle.frequency;\n        this.detune = this._triangle.detune;\n        // connections\n        this._triangle.chain(this._thresh, this.output);\n        this.width.chain(this._widthGate, this._thresh);\n        readOnly(this, [\"width\", \"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            phase: 0,\n            type: \"pulse\",\n            width: 0.2,\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        time = this.toSeconds(time);\n        this._triangle.start(time);\n        this._widthGate.gain.setValueAtTime(1, time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        time = this.toSeconds(time);\n        this._triangle.stop(time);\n        // the width is still connected to the output.\n        // that needs to be stopped also\n        this._widthGate.gain.cancelScheduledValues(time);\n        this._widthGate.gain.setValueAtTime(0, time);\n    }\n    _restart(time) {\n        this._triangle.restart(time);\n        this._widthGate.gain.cancelScheduledValues(time);\n        this._widthGate.gain.setValueAtTime(1, time);\n    }\n    /**\n     * The phase of the oscillator in degrees.\n     */\n    get phase() {\n        return this._triangle.phase;\n    }\n    set phase(phase) {\n        this._triangle.phase = phase;\n    }\n    /**\n     * The type of the oscillator. Always returns \"pulse\".\n     */\n    get type() {\n        return \"pulse\";\n    }\n    /**\n     * The baseType of the oscillator. Always returns \"pulse\".\n     */\n    get baseType() {\n        return \"pulse\";\n    }\n    /**\n     * The partials of the waveform. Cannot set partials for this waveform type\n     */\n    get partials() {\n        return [];\n    }\n    /**\n     * No partials for this waveform type.\n     */\n    get partialCount() {\n        return 0;\n    }\n    /**\n     * *Internal use* The carrier oscillator type is fed through the\n     * waveshaper node to create the pulse. Using different carrier oscillators\n     * changes oscillator's behavior.\n     */\n    set carrierType(type) {\n        this._triangle.type = type;\n    }\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up method.\n     */\n    dispose() {\n        super.dispose();\n        this._triangle.dispose();\n        this.width.dispose();\n        this._widthGate.dispose();\n        this._thresh.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=PulseOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { noOp, readOnly } from \"../../core/util/Interface.js\";\nimport { Signal } from \"../../signal/Signal.js\";\nimport { Source } from \"../Source.js\";\nimport { Oscillator } from \"./Oscillator.js\";\nimport { generateWaveform, } from \"./OscillatorInterface.js\";\nimport { assertRange } from \"../../core/util/Debug.js\";\n/**\n * FatOscillator is an array of oscillators with detune spread between the oscillators\n * @example\n * const fatOsc = new Tone.FatOscillator(\"Ab3\", \"sawtooth\", 40).toDestination().start();\n * @category Source\n */\nexport class FatOscillator extends Source {\n    constructor() {\n        const options = optionsFromArguments(FatOscillator.getDefaults(), arguments, [\"frequency\", \"type\", \"spread\"]);\n        super(options);\n        this.name = \"FatOscillator\";\n        /**\n         * The array of oscillators\n         */\n        this._oscillators = [];\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this.detune = new Signal({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n        });\n        this._spread = options.spread;\n        this._type = options.type;\n        this._phase = options.phase;\n        this._partials = options.partials;\n        this._partialCount = options.partialCount;\n        // set the count initially\n        this.count = options.count;\n        readOnly(this, [\"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), {\n            count: 3,\n            spread: 20,\n            type: \"sawtooth\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        time = this.toSeconds(time);\n        this._forEach((osc) => osc.start(time));\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        time = this.toSeconds(time);\n        this._forEach((osc) => osc.stop(time));\n    }\n    _restart(time) {\n        this._forEach((osc) => osc.restart(time));\n    }\n    /**\n     * Iterate over all of the oscillators\n     */\n    _forEach(iterator) {\n        for (let i = 0; i < this._oscillators.length; i++) {\n            iterator(this._oscillators[i], i);\n        }\n    }\n    /**\n     * The type of the oscillator\n     */\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n        this._forEach((osc) => (osc.type = type));\n    }\n    /**\n     * The detune spread between the oscillators. If \"count\" is\n     * set to 3 oscillators and the \"spread\" is set to 40,\n     * the three oscillators would be detuned like this: [-20, 0, 20]\n     * for a total detune spread of 40 cents.\n     * @example\n     * const fatOsc = new Tone.FatOscillator().toDestination().start();\n     * fatOsc.spread = 70;\n     */\n    get spread() {\n        return this._spread;\n    }\n    set spread(spread) {\n        this._spread = spread;\n        if (this._oscillators.length > 1) {\n            const start = -spread / 2;\n            const step = spread / (this._oscillators.length - 1);\n            this._forEach((osc, i) => (osc.detune.value = start + step * i));\n        }\n    }\n    /**\n     * The number of detuned oscillators. Must be an integer greater than 1.\n     * @example\n     * const fatOsc = new Tone.FatOscillator(\"C#3\", \"sawtooth\").toDestination().start();\n     * // use 4 sawtooth oscillators\n     * fatOsc.count = 4;\n     */\n    get count() {\n        return this._oscillators.length;\n    }\n    set count(count) {\n        assertRange(count, 1);\n        if (this._oscillators.length !== count) {\n            // dispose the previous oscillators\n            this._forEach((osc) => osc.dispose());\n            this._oscillators = [];\n            for (let i = 0; i < count; i++) {\n                const osc = new Oscillator({\n                    context: this.context,\n                    volume: -6 - count * 1.1,\n                    type: this._type,\n                    phase: this._phase + (i / count) * 360,\n                    partialCount: this._partialCount,\n                    onstop: i === 0 ? () => this.onstop(this) : noOp,\n                });\n                if (this.type === \"custom\") {\n                    osc.partials = this._partials;\n                }\n                this.frequency.connect(osc.frequency);\n                this.detune.connect(osc.detune);\n                osc.detune.overridden = false;\n                osc.connect(this.output);\n                this._oscillators[i] = osc;\n            }\n            // set the spread\n            this.spread = this._spread;\n            if (this.state === \"started\") {\n                this._forEach((osc) => osc.start());\n            }\n        }\n    }\n    get phase() {\n        return this._phase;\n    }\n    set phase(phase) {\n        this._phase = phase;\n        this._forEach((osc, i) => (osc.phase = this._phase + (i / this.count) * 360));\n    }\n    get baseType() {\n        return this._oscillators[0].baseType;\n    }\n    set baseType(baseType) {\n        this._forEach((osc) => (osc.baseType = baseType));\n        this._type = this._oscillators[0].type;\n    }\n    get partials() {\n        return this._oscillators[0].partials;\n    }\n    set partials(partials) {\n        this._partials = partials;\n        this._partialCount = this._partials.length;\n        if (partials.length) {\n            this._type = \"custom\";\n            this._forEach((osc) => (osc.partials = partials));\n        }\n    }\n    get partialCount() {\n        return this._oscillators[0].partialCount;\n    }\n    set partialCount(partialCount) {\n        this._partialCount = partialCount;\n        this._forEach((osc) => (osc.partialCount = partialCount));\n        this._type = this._oscillators[0].type;\n    }\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this.frequency.dispose();\n        this.detune.dispose();\n        this._forEach((osc) => osc.dispose());\n        return this;\n    }\n}\n//# sourceMappingURL=FatOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\nimport { Multiply } from \"../../signal/Multiply.js\";\nimport { Source } from \"../Source.js\";\nimport { Oscillator } from \"./Oscillator.js\";\nimport { generateWaveform, } from \"./OscillatorInterface.js\";\nimport { PulseOscillator } from \"./PulseOscillator.js\";\n/**\n * PWMOscillator modulates the width of a Tone.PulseOscillator\n * at the modulationFrequency. This has the effect of continuously\n * changing the timbre of the oscillator by altering the harmonics\n * generated.\n * @example\n * return Tone.Offline(() => {\n * \tconst pwm = new Tone.PWMOscillator(60, 0.3).toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class PWMOscillator extends Source {\n    constructor() {\n        const options = optionsFromArguments(PWMOscillator.getDefaults(), arguments, [\"frequency\", \"modulationFrequency\"]);\n        super(options);\n        this.name = \"PWMOscillator\";\n        this.sourceType = \"pwm\";\n        /**\n         * Scale the oscillator so it doesn't go silent\n         * at the extreme values.\n         */\n        this._scale = new Multiply({\n            context: this.context,\n            value: 2,\n        });\n        this._pulse = new PulseOscillator({\n            context: this.context,\n            frequency: options.modulationFrequency,\n        });\n        // change the pulse oscillator type\n        this._pulse.carrierType = \"sine\";\n        this.modulationFrequency = this._pulse.frequency;\n        this._modulator = new Oscillator({\n            context: this.context,\n            detune: options.detune,\n            frequency: options.frequency,\n            onstop: () => this.onstop(this),\n            phase: options.phase,\n        });\n        this.frequency = this._modulator.frequency;\n        this.detune = this._modulator.detune;\n        // connections\n        this._modulator.chain(this._scale, this._pulse.width);\n        this._pulse.connect(this.output);\n        readOnly(this, [\"modulationFrequency\", \"frequency\", \"detune\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            detune: 0,\n            frequency: 440,\n            modulationFrequency: 0.4,\n            phase: 0,\n            type: \"pwm\",\n        });\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        time = this.toSeconds(time);\n        this._modulator.start(time);\n        this._pulse.start(time);\n    }\n    /**\n     * stop the oscillator\n     */\n    _stop(time) {\n        time = this.toSeconds(time);\n        this._modulator.stop(time);\n        this._pulse.stop(time);\n    }\n    /**\n     * restart the oscillator\n     */\n    _restart(time) {\n        this._modulator.restart(time);\n        this._pulse.restart(time);\n    }\n    /**\n     * The type of the oscillator. Always returns \"pwm\".\n     */\n    get type() {\n        return \"pwm\";\n    }\n    /**\n     * The baseType of the oscillator. Always returns \"pwm\".\n     */\n    get baseType() {\n        return \"pwm\";\n    }\n    /**\n     * The partials of the waveform. Cannot set partials for this waveform type\n     */\n    get partials() {\n        return [];\n    }\n    /**\n     * No partials for this waveform type.\n     */\n    get partialCount() {\n        return 0;\n    }\n    /**\n     * The phase of the oscillator in degrees.\n     */\n    get phase() {\n        return this._modulator.phase;\n    }\n    set phase(phase) {\n        this._modulator.phase = phase;\n    }\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            return generateWaveform(this, length);\n        });\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._pulse.dispose();\n        this._scale.dispose();\n        this._modulator.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=PWMOscillator.js.map","import { __awaiter } from \"tslib\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\nimport { isNumber, isString } from \"../../core/util/TypeCheck.js\";\nimport { Signal } from \"../../signal/Signal.js\";\nimport { Source } from \"../Source.js\";\nimport { AMOscillator } from \"./AMOscillator.js\";\nimport { FatOscillator } from \"./FatOscillator.js\";\nimport { FMOscillator } from \"./FMOscillator.js\";\nimport { Oscillator } from \"./Oscillator.js\";\nimport { generateWaveform, } from \"./OscillatorInterface.js\";\nimport { PulseOscillator } from \"./PulseOscillator.js\";\nimport { PWMOscillator } from \"./PWMOscillator.js\";\nconst OmniOscillatorSourceMap = {\n    am: AMOscillator,\n    fat: FatOscillator,\n    fm: FMOscillator,\n    oscillator: Oscillator,\n    pulse: PulseOscillator,\n    pwm: PWMOscillator,\n};\n/**\n * OmniOscillator aggregates all of the oscillator types into one.\n * @example\n * return Tone.Offline(() => {\n * \tconst omniOsc = new Tone.OmniOscillator(\"C#4\", \"pwm\").toDestination().start();\n * }, 0.1, 1);\n * @category Source\n */\nexport class OmniOscillator extends Source {\n    constructor() {\n        const options = optionsFromArguments(OmniOscillator.getDefaults(), arguments, [\"frequency\", \"type\"]);\n        super(options);\n        this.name = \"OmniOscillator\";\n        this.frequency = new Signal({\n            context: this.context,\n            units: \"frequency\",\n            value: options.frequency,\n        });\n        this.detune = new Signal({\n            context: this.context,\n            units: \"cents\",\n            value: options.detune,\n        });\n        readOnly(this, [\"frequency\", \"detune\"]);\n        // set the options\n        this.set(options);\n    }\n    static getDefaults() {\n        return Object.assign(Oscillator.getDefaults(), FMOscillator.getDefaults(), AMOscillator.getDefaults(), FatOscillator.getDefaults(), PulseOscillator.getDefaults(), PWMOscillator.getDefaults());\n    }\n    /**\n     * start the oscillator\n     */\n    _start(time) {\n        this._oscillator.start(time);\n    }\n    /**\n     * start the oscillator\n     */\n    _stop(time) {\n        this._oscillator.stop(time);\n    }\n    _restart(time) {\n        this._oscillator.restart(time);\n        return this;\n    }\n    /**\n     * The type of the oscillator. Can be any of the basic types: sine, square, triangle, sawtooth. Or\n     * prefix the basic types with \"fm\", \"am\", or \"fat\" to use the FMOscillator, AMOscillator or FatOscillator\n     * types. The oscillator could also be set to \"pwm\" or \"pulse\". All of the parameters of the\n     * oscillator's class are accessible when the oscillator is set to that type, but throws an error\n     * when it's not.\n     * @example\n     * const omniOsc = new Tone.OmniOscillator().toDestination().start();\n     * omniOsc.type = \"pwm\";\n     * // modulationFrequency is parameter which is available\n     * // only when the type is \"pwm\".\n     * omniOsc.modulationFrequency.value = 0.5;\n     */\n    get type() {\n        let prefix = \"\";\n        if ([\"am\", \"fm\", \"fat\"].some((p) => this._sourceType === p)) {\n            prefix = this._sourceType;\n        }\n        return (prefix + this._oscillator.type);\n    }\n    set type(type) {\n        if (type.substr(0, 2) === \"fm\") {\n            this._createNewOscillator(\"fm\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type.substr(2);\n        }\n        else if (type.substr(0, 2) === \"am\") {\n            this._createNewOscillator(\"am\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type.substr(2);\n        }\n        else if (type.substr(0, 3) === \"fat\") {\n            this._createNewOscillator(\"fat\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type.substr(3);\n        }\n        else if (type === \"pwm\") {\n            this._createNewOscillator(\"pwm\");\n            this._oscillator = this._oscillator;\n        }\n        else if (type === \"pulse\") {\n            this._createNewOscillator(\"pulse\");\n        }\n        else {\n            this._createNewOscillator(\"oscillator\");\n            this._oscillator = this._oscillator;\n            this._oscillator.type = type;\n        }\n    }\n    /**\n     * The value is an empty array when the type is not \"custom\".\n     * This is not available on \"pwm\" and \"pulse\" oscillator types.\n     * @see {@link Oscillator.partials}\n     */\n    get partials() {\n        return this._oscillator.partials;\n    }\n    set partials(partials) {\n        if (!this._getOscType(this._oscillator, \"pulse\") &&\n            !this._getOscType(this._oscillator, \"pwm\")) {\n            this._oscillator.partials = partials;\n        }\n    }\n    get partialCount() {\n        return this._oscillator.partialCount;\n    }\n    set partialCount(partialCount) {\n        if (!this._getOscType(this._oscillator, \"pulse\") &&\n            !this._getOscType(this._oscillator, \"pwm\")) {\n            this._oscillator.partialCount = partialCount;\n        }\n    }\n    set(props) {\n        // make sure the type is set first\n        if (Reflect.has(props, \"type\") && props.type) {\n            this.type = props.type;\n        }\n        // then set the rest\n        super.set(props);\n        return this;\n    }\n    /**\n     * connect the oscillator to the frequency and detune signals\n     */\n    _createNewOscillator(oscType) {\n        if (oscType !== this._sourceType) {\n            this._sourceType = oscType;\n            const OscConstructor = OmniOscillatorSourceMap[oscType];\n            // short delay to avoid clicks on the change\n            const now = this.now();\n            if (this._oscillator) {\n                const oldOsc = this._oscillator;\n                oldOsc.stop(now);\n                // dispose the old one\n                this.context.setTimeout(() => oldOsc.dispose(), this.blockTime);\n            }\n            this._oscillator = new OscConstructor({\n                context: this.context,\n            });\n            this.frequency.connect(this._oscillator.frequency);\n            this.detune.connect(this._oscillator.detune);\n            this._oscillator.connect(this.output);\n            this._oscillator.onstop = () => this.onstop(this);\n            if (this.state === \"started\") {\n                this._oscillator.start(now);\n            }\n        }\n    }\n    get phase() {\n        return this._oscillator.phase;\n    }\n    set phase(phase) {\n        this._oscillator.phase = phase;\n    }\n    /**\n     * The source type of the oscillator.\n     * @example\n     * const omniOsc = new Tone.OmniOscillator(440, \"fmsquare\");\n     * console.log(omniOsc.sourceType); // 'fm'\n     */\n    get sourceType() {\n        return this._sourceType;\n    }\n    set sourceType(sType) {\n        // the basetype defaults to sine\n        let baseType = \"sine\";\n        if (this._oscillator.type !== \"pwm\" &&\n            this._oscillator.type !== \"pulse\") {\n            baseType = this._oscillator.type;\n        }\n        // set the type\n        if (sType === \"fm\") {\n            this.type = (\"fm\" + baseType);\n        }\n        else if (sType === \"am\") {\n            this.type = (\"am\" + baseType);\n        }\n        else if (sType === \"fat\") {\n            this.type = (\"fat\" + baseType);\n        }\n        else if (sType === \"oscillator\") {\n            this.type = baseType;\n        }\n        else if (sType === \"pulse\") {\n            this.type = \"pulse\";\n        }\n        else if (sType === \"pwm\") {\n            this.type = \"pwm\";\n        }\n    }\n    _getOscType(osc, sourceType) {\n        return osc instanceof OmniOscillatorSourceMap[sourceType];\n    }\n    /**\n     * The base type of the oscillator.\n     * @see {@link Oscillator.baseType}\n     * @example\n     * const omniOsc = new Tone.OmniOscillator(440, \"fmsquare4\");\n     * console.log(omniOsc.sourceType, omniOsc.baseType, omniOsc.partialCount);\n     */\n    get baseType() {\n        return this._oscillator.baseType;\n    }\n    set baseType(baseType) {\n        if (!this._getOscType(this._oscillator, \"pulse\") &&\n            !this._getOscType(this._oscillator, \"pwm\") &&\n            baseType !== \"pulse\" &&\n            baseType !== \"pwm\") {\n            this._oscillator.baseType = baseType;\n        }\n    }\n    /**\n     * The width of the oscillator when sourceType === \"pulse\".\n     * @see {@link PWMOscillator}\n     */\n    get width() {\n        if (this._getOscType(this._oscillator, \"pulse\")) {\n            return this._oscillator.width;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * The number of detuned oscillators when sourceType === \"fat\".\n     * @see {@link FatOscillator.count}\n     */\n    get count() {\n        if (this._getOscType(this._oscillator, \"fat\")) {\n            return this._oscillator.count;\n        }\n        else {\n            return undefined;\n        }\n    }\n    set count(count) {\n        if (this._getOscType(this._oscillator, \"fat\") && isNumber(count)) {\n            this._oscillator.count = count;\n        }\n    }\n    /**\n     * The detune spread between the oscillators when sourceType === \"fat\".\n     * @see {@link FatOscillator.count}\n     */\n    get spread() {\n        if (this._getOscType(this._oscillator, \"fat\")) {\n            return this._oscillator.spread;\n        }\n        else {\n            return undefined;\n        }\n    }\n    set spread(spread) {\n        if (this._getOscType(this._oscillator, \"fat\") && isNumber(spread)) {\n            this._oscillator.spread = spread;\n        }\n    }\n    /**\n     * The type of the modulator oscillator. Only if the oscillator is set to \"am\" or \"fm\" types.\n     * @see {@link AMOscillator} or {@link FMOscillator}\n     */\n    get modulationType() {\n        if (this._getOscType(this._oscillator, \"fm\") ||\n            this._getOscType(this._oscillator, \"am\")) {\n            return this._oscillator.modulationType;\n        }\n        else {\n            return undefined;\n        }\n    }\n    set modulationType(mType) {\n        if ((this._getOscType(this._oscillator, \"fm\") ||\n            this._getOscType(this._oscillator, \"am\")) &&\n            isString(mType)) {\n            this._oscillator.modulationType = mType;\n        }\n    }\n    /**\n     * The modulation index when the sourceType === \"fm\"\n     * @see {@link FMOscillator}.\n     */\n    get modulationIndex() {\n        if (this._getOscType(this._oscillator, \"fm\")) {\n            return this._oscillator.modulationIndex;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * Harmonicity is the frequency ratio between the carrier and the modulator oscillators.\n     * @see {@link AMOscillator} or {@link FMOscillator}\n     */\n    get harmonicity() {\n        if (this._getOscType(this._oscillator, \"fm\") ||\n            this._getOscType(this._oscillator, \"am\")) {\n            return this._oscillator.harmonicity;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * The modulationFrequency Signal of the oscillator when sourceType === \"pwm\"\n     * see {@link PWMOscillator}\n     * @min 0.1\n     * @max 5\n     */\n    get modulationFrequency() {\n        if (this._getOscType(this._oscillator, \"pwm\")) {\n            return this._oscillator.modulationFrequency;\n        }\n        else {\n            return undefined;\n        }\n    }\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            return generateWaveform(this, length);\n        });\n    }\n    dispose() {\n        super.dispose();\n        this.detune.dispose();\n        this.frequency.dispose();\n        this._oscillator.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=OmniOscillator.js.map","import { assertRange } from \"./Debug.js\";\n/**\n * Assert that the number is in the given range.\n */\nexport function range(min, max = Infinity) {\n    const valueMap = new WeakMap();\n    return function (target, propertyKey) {\n        Reflect.defineProperty(target, propertyKey, {\n            configurable: true,\n            enumerable: true,\n            get: function () {\n                return valueMap.get(this);\n            },\n            set: function (newValue) {\n                assertRange(newValue, min, max);\n                valueMap.set(this, newValue);\n            },\n        });\n    };\n}\n/**\n * Convert the time to seconds and assert that the time is in between the two\n * values when being set.\n */\nexport function timeRange(min, max = Infinity) {\n    const valueMap = new WeakMap();\n    return function (target, propertyKey) {\n        Reflect.defineProperty(target, propertyKey, {\n            configurable: true,\n            enumerable: true,\n            get: function () {\n                return valueMap.get(this);\n            },\n            set: function (newValue) {\n                assertRange(this.toSeconds(newValue), min, max);\n                valueMap.set(this, newValue);\n            },\n        });\n    };\n}\n//# sourceMappingURL=Decorator.js.map","import { __awaiter, __decorate } from \"tslib\";\nimport { ToneAudioBuffer } from \"../../core/context/ToneAudioBuffer.js\";\nimport { defaultArg, optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { noOp } from \"../../core/util/Interface.js\";\nimport { isUndef } from \"../../core/util/TypeCheck.js\";\nimport { Source } from \"../Source.js\";\nimport { ToneBufferSource } from \"./ToneBufferSource.js\";\nimport { assertRange } from \"../../core/util/Debug.js\";\nimport { timeRange } from \"../../core/util/Decorator.js\";\n/**\n * Player is an audio file player with start, loop, and stop functions.\n * @example\n * const player = new Tone.Player(\"https://tonejs.github.io/audio/berklee/gong_1.mp3\").toDestination();\n * // play as soon as the buffer is loaded\n * player.autostart = true;\n * @category Source\n */\nexport class Player extends Source {\n    constructor() {\n        const options = optionsFromArguments(Player.getDefaults(), arguments, [\n            \"url\",\n            \"onload\",\n        ]);\n        super(options);\n        this.name = \"Player\";\n        /**\n         * All of the active buffer source nodes\n         */\n        this._activeSources = new Set();\n        this._buffer = new ToneAudioBuffer({\n            onload: this._onload.bind(this, options.onload),\n            onerror: options.onerror,\n            reverse: options.reverse,\n            url: options.url,\n        });\n        this.autostart = options.autostart;\n        this._loop = options.loop;\n        this._loopStart = options.loopStart;\n        this._loopEnd = options.loopEnd;\n        this._playbackRate = options.playbackRate;\n        this.fadeIn = options.fadeIn;\n        this.fadeOut = options.fadeOut;\n    }\n    static getDefaults() {\n        return Object.assign(Source.getDefaults(), {\n            autostart: false,\n            fadeIn: 0,\n            fadeOut: 0,\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            onload: noOp,\n            onerror: noOp,\n            playbackRate: 1,\n            reverse: false,\n        });\n    }\n    /**\n     * Load the audio file as an audio buffer.\n     * Decodes the audio asynchronously and invokes\n     * the callback once the audio buffer loads.\n     * Note: this does not need to be called if a url\n     * was passed in to the constructor. Only use this\n     * if you want to manually load a new url.\n     * @param url The url of the buffer to load. Filetype support depends on the browser.\n     */\n    load(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._buffer.load(url);\n            this._onload();\n            return this;\n        });\n    }\n    /**\n     * Internal callback when the buffer is loaded.\n     */\n    _onload(callback = noOp) {\n        callback();\n        if (this.autostart) {\n            this.start();\n        }\n    }\n    /**\n     * Internal callback when the buffer is done playing.\n     */\n    _onSourceEnd(source) {\n        // invoke the onstop function\n        this.onstop(this);\n        // delete the source from the active sources\n        this._activeSources.delete(source);\n        if (this._activeSources.size === 0 &&\n            !this._synced &&\n            this._state.getValueAtTime(this.now()) === \"started\") {\n            // remove the 'implicitEnd' event and replace with an explicit end\n            this._state.cancel(this.now());\n            this._state.setStateAtTime(\"stopped\", this.now());\n        }\n    }\n    /**\n     * Play the buffer at the given startTime. Optionally add an offset\n     * and/or duration which will play the buffer from a position\n     * within the buffer for the given duration.\n     *\n     * @param  time When the player should start.\n     * @param  offset The offset from the beginning of the sample to start at.\n     * @param  duration How long the sample should play. If no duration is given, it will default to the full length of the sample (minus any offset)\n     */\n    start(time, offset, duration) {\n        super.start(time, offset, duration);\n        return this;\n    }\n    /**\n     * Internal start method\n     */\n    _start(startTime, offset, duration) {\n        // if it's a loop the default offset is the loopStart point\n        if (this._loop) {\n            offset = defaultArg(offset, this._loopStart);\n        }\n        else {\n            // otherwise the default offset is 0\n            offset = defaultArg(offset, 0);\n        }\n        // compute the values in seconds\n        const computedOffset = this.toSeconds(offset);\n        // compute the duration which is either the passed in duration of the buffer.duration - offset\n        const origDuration = duration;\n        duration = defaultArg(duration, Math.max(this._buffer.duration - computedOffset, 0));\n        let computedDuration = this.toSeconds(duration);\n        // scale it by the playback rate\n        computedDuration = computedDuration / this._playbackRate;\n        // get the start time\n        startTime = this.toSeconds(startTime);\n        // make the source\n        const source = new ToneBufferSource({\n            url: this._buffer,\n            context: this.context,\n            fadeIn: this.fadeIn,\n            fadeOut: this.fadeOut,\n            loop: this._loop,\n            loopEnd: this._loopEnd,\n            loopStart: this._loopStart,\n            onended: this._onSourceEnd.bind(this),\n            playbackRate: this._playbackRate,\n        }).connect(this.output);\n        // set the looping properties\n        if (!this._loop && !this._synced) {\n            // cancel the previous stop\n            this._state.cancel(startTime + computedDuration);\n            // if it's not looping, set the state change at the end of the sample\n            this._state.setStateAtTime(\"stopped\", startTime + computedDuration, {\n                implicitEnd: true,\n            });\n        }\n        // add it to the array of active sources\n        this._activeSources.add(source);\n        // start it\n        if (this._loop && isUndef(origDuration)) {\n            source.start(startTime, computedOffset);\n        }\n        else {\n            // subtract the fade out time\n            source.start(startTime, computedOffset, computedDuration - this.toSeconds(this.fadeOut));\n        }\n    }\n    /**\n     * Stop playback.\n     */\n    _stop(time) {\n        const computedTime = this.toSeconds(time);\n        this._activeSources.forEach((source) => source.stop(computedTime));\n    }\n    /**\n     * Stop and then restart the player from the beginning (or offset)\n     * @param  time When the player should start.\n     * @param  offset The offset from the beginning of the sample to start at.\n     * @param  duration How long the sample should play. If no duration is given,\n     * \t\t\t\t\tit will default to the full length of the sample (minus any offset)\n     */\n    restart(time, offset, duration) {\n        super.restart(time, offset, duration);\n        return this;\n    }\n    _restart(time, offset, duration) {\n        var _a;\n        (_a = [...this._activeSources].pop()) === null || _a === void 0 ? void 0 : _a.stop(time); // explicitly stop only the most recently created source, to avoid edge case when > 1 source exists and _stop() erroneously sets all stop times past original end offset\n        this._start(time, offset, duration);\n    }\n    /**\n     * Seek to a specific time in the player's buffer. If the\n     * source is no longer playing at that time, it will stop.\n     * @param offset The time to seek to.\n     * @param when The time for the seek event to occur.\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/berklee/gurgling_theremin_1.mp3\", () => {\n     * \tplayer.start();\n     * \t// seek to the offset in 1 second from now\n     * \tplayer.seek(0.4, \"+1\");\n     * }).toDestination();\n     */\n    seek(offset, when) {\n        const computedTime = this.toSeconds(when);\n        if (this._state.getValueAtTime(computedTime) === \"started\") {\n            const computedOffset = this.toSeconds(offset);\n            // if it's currently playing, stop it\n            this._stop(computedTime);\n            // restart it at the given time\n            this._start(computedTime, computedOffset);\n        }\n        return this;\n    }\n    /**\n     * Set the loop start and end. Will only loop if loop is set to true.\n     * @param loopStart The loop start time\n     * @param loopEnd The loop end time\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/berklee/malevoices_aa2_F3.mp3\").toDestination();\n     * // loop between the given points\n     * player.setLoopPoints(0.2, 0.3);\n     * player.loop = true;\n     * player.autostart = true;\n     */\n    setLoopPoints(loopStart, loopEnd) {\n        this.loopStart = loopStart;\n        this.loopEnd = loopEnd;\n        return this;\n    }\n    /**\n     * If loop is true, the loop will start at this position.\n     */\n    get loopStart() {\n        return this._loopStart;\n    }\n    set loopStart(loopStart) {\n        this._loopStart = loopStart;\n        if (this.buffer.loaded) {\n            assertRange(this.toSeconds(loopStart), 0, this.buffer.duration);\n        }\n        // get the current source\n        this._activeSources.forEach((source) => {\n            source.loopStart = loopStart;\n        });\n    }\n    /**\n     * If loop is true, the loop will end at this position.\n     */\n    get loopEnd() {\n        return this._loopEnd;\n    }\n    set loopEnd(loopEnd) {\n        this._loopEnd = loopEnd;\n        if (this.buffer.loaded) {\n            assertRange(this.toSeconds(loopEnd), 0, this.buffer.duration);\n        }\n        // get the current source\n        this._activeSources.forEach((source) => {\n            source.loopEnd = loopEnd;\n        });\n    }\n    /**\n     * The audio buffer belonging to the player.\n     */\n    get buffer() {\n        return this._buffer;\n    }\n    set buffer(buffer) {\n        this._buffer.set(buffer);\n    }\n    /**\n     * If the buffer should loop once it's over.\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/drum-samples/breakbeat.mp3\").toDestination();\n     * player.loop = true;\n     * player.autostart = true;\n     */\n    get loop() {\n        return this._loop;\n    }\n    set loop(loop) {\n        // if no change, do nothing\n        if (this._loop === loop) {\n            return;\n        }\n        this._loop = loop;\n        // set the loop of all of the sources\n        this._activeSources.forEach((source) => {\n            source.loop = loop;\n        });\n        if (loop) {\n            // remove the next stopEvent\n            const stopEvent = this._state.getNextState(\"stopped\", this.now());\n            if (stopEvent) {\n                this._state.cancel(stopEvent.time);\n            }\n        }\n    }\n    /**\n     * Normal speed is 1. The pitch will change with the playback rate.\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/berklee/femalevoices_aa2_A5.mp3\").toDestination();\n     * // play at 1/4 speed\n     * player.playbackRate = 0.25;\n     * // play as soon as the buffer is loaded\n     * player.autostart = true;\n     */\n    get playbackRate() {\n        return this._playbackRate;\n    }\n    set playbackRate(rate) {\n        this._playbackRate = rate;\n        const now = this.now();\n        // cancel the stop event since it's at a different time now\n        const stopEvent = this._state.getNextState(\"stopped\", now);\n        if (stopEvent && stopEvent.implicitEnd) {\n            this._state.cancel(stopEvent.time);\n            this._activeSources.forEach((source) => source.cancelStop());\n        }\n        // set all the sources\n        this._activeSources.forEach((source) => {\n            source.playbackRate.setValueAtTime(rate, now);\n        });\n    }\n    /**\n     * If the buffer should be reversed. Note that this sets the underlying {@link ToneAudioBuffer.reverse}, so\n     * if multiple players are pointing at the same ToneAudioBuffer, they will all be reversed.\n     * @example\n     * const player = new Tone.Player(\"https://tonejs.github.io/audio/berklee/chime_1.mp3\").toDestination();\n     * player.autostart = true;\n     * player.reverse = true;\n     */\n    get reverse() {\n        return this._buffer.reverse;\n    }\n    set reverse(rev) {\n        this._buffer.reverse = rev;\n    }\n    /**\n     * If the buffer is loaded\n     */\n    get loaded() {\n        return this._buffer.loaded;\n    }\n    dispose() {\n        super.dispose();\n        // disconnect all of the players\n        this._activeSources.forEach((source) => source.dispose());\n        this._activeSources.clear();\n        this._buffer.dispose();\n        return this;\n    }\n}\n__decorate([\n    timeRange(0)\n], Player.prototype, \"fadeIn\", void 0);\n__decorate([\n    timeRange(0)\n], Player.prototype, \"fadeOut\", void 0);\n//# sourceMappingURL=Player.js.map","import { __awaiter, __decorate } from \"tslib\";\nimport { ToneAudioNode, } from \"../../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { isArray, isObject, isString } from \"../../core/util/TypeCheck.js\";\nimport { connectSignal, Signal } from \"../../signal/Signal.js\";\nimport { OfflineContext } from \"../../core/context/OfflineContext.js\";\nimport { assert } from \"../../core/util/Debug.js\";\nimport { range, timeRange } from \"../../core/util/Decorator.js\";\n/**\n * Envelope is an [ADSR](https://en.wikipedia.org/wiki/Synthesizer#ADSR_envelope)\n * envelope generator. Envelope outputs a signal which\n * can be connected to an AudioParam or Tone.Signal.\n * ```\n *           /\\\n *          /  \\\n *         /    \\\n *        /      \\\n *       /        \\___________\n *      /                     \\\n *     /                       \\\n *    /                         \\\n *   /                           \\\n * ```\n * @example\n * return Tone.Offline(() => {\n * \tconst env = new Tone.Envelope({\n * \t\tattack: 0.1,\n * \t\tdecay: 0.2,\n * \t\tsustain: 0.5,\n * \t\trelease: 0.8,\n * \t}).toDestination();\n * \tenv.triggerAttackRelease(0.5);\n * }, 1.5, 1);\n * @category Component\n */\nexport class Envelope extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Envelope.getDefaults(), arguments, [\"attack\", \"decay\", \"sustain\", \"release\"]);\n        super(options);\n        this.name = \"Envelope\";\n        /**\n         * the signal which is output.\n         */\n        this._sig = new Signal({\n            context: this.context,\n            value: 0,\n        });\n        /**\n         * The output signal of the envelope\n         */\n        this.output = this._sig;\n        /**\n         * Envelope has no input\n         */\n        this.input = undefined;\n        this.attack = options.attack;\n        this.decay = options.decay;\n        this.sustain = options.sustain;\n        this.release = options.release;\n        this.attackCurve = options.attackCurve;\n        this.releaseCurve = options.releaseCurve;\n        this.decayCurve = options.decayCurve;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            attack: 0.01,\n            attackCurve: \"linear\",\n            decay: 0.1,\n            decayCurve: \"exponential\",\n            release: 1,\n            releaseCurve: \"exponential\",\n            sustain: 0.5,\n        });\n    }\n    /**\n     * Read the current value of the envelope. Useful for\n     * synchronizing visual output to the envelope.\n     */\n    get value() {\n        return this.getValueAtTime(this.now());\n    }\n    /**\n     * Get the curve\n     * @param  curve\n     * @param  direction  In/Out\n     * @return The curve name\n     */\n    _getCurve(curve, direction) {\n        if (isString(curve)) {\n            return curve;\n        }\n        else {\n            // look up the name in the curves array\n            let curveName;\n            for (curveName in EnvelopeCurves) {\n                if (EnvelopeCurves[curveName][direction] === curve) {\n                    return curveName;\n                }\n            }\n            // return the custom curve\n            return curve;\n        }\n    }\n    /**\n     * Assign a the curve to the given name using the direction\n     * @param  name\n     * @param  direction In/Out\n     * @param  curve\n     */\n    _setCurve(name, direction, curve) {\n        // check if it's a valid type\n        if (isString(curve) && Reflect.has(EnvelopeCurves, curve)) {\n            const curveDef = EnvelopeCurves[curve];\n            if (isObject(curveDef)) {\n                if (name !== \"_decayCurve\") {\n                    this[name] = curveDef[direction];\n                }\n            }\n            else {\n                this[name] = curveDef;\n            }\n        }\n        else if (isArray(curve) && name !== \"_decayCurve\") {\n            this[name] = curve;\n        }\n        else {\n            throw new Error(\"Envelope: invalid curve: \" + curve);\n        }\n    }\n    /**\n     * The shape of the attack.\n     * Can be any of these strings:\n     * * \"linear\"\n     * * \"exponential\"\n     * * \"sine\"\n     * * \"cosine\"\n     * * \"bounce\"\n     * * \"ripple\"\n     * * \"step\"\n     *\n     * Can also be an array which describes the curve. Values\n     * in the array are evenly subdivided and linearly\n     * interpolated over the duration of the attack.\n     * @example\n     * return Tone.Offline(() => {\n     * \tconst env = new Tone.Envelope(0.4).toDestination();\n     * \tenv.attackCurve = \"linear\";\n     * \tenv.triggerAttack();\n     * }, 1, 1);\n     */\n    get attackCurve() {\n        return this._getCurve(this._attackCurve, \"In\");\n    }\n    set attackCurve(curve) {\n        this._setCurve(\"_attackCurve\", \"In\", curve);\n    }\n    /**\n     * The shape of the release. See the attack curve types.\n     * @example\n     * return Tone.Offline(() => {\n     * \tconst env = new Tone.Envelope({\n     * \t\trelease: 0.8\n     * \t}).toDestination();\n     * \tenv.triggerAttack();\n     * \t// release curve could also be defined by an array\n     * \tenv.releaseCurve = [1, 0.3, 0.4, 0.2, 0.7, 0];\n     * \tenv.triggerRelease(0.2);\n     * }, 1, 1);\n     */\n    get releaseCurve() {\n        return this._getCurve(this._releaseCurve, \"Out\");\n    }\n    set releaseCurve(curve) {\n        this._setCurve(\"_releaseCurve\", \"Out\", curve);\n    }\n    /**\n     * The shape of the decay either \"linear\" or \"exponential\"\n     * @example\n     * return Tone.Offline(() => {\n     * \tconst env = new Tone.Envelope({\n     * \t\tsustain: 0.1,\n     * \t\tdecay: 0.5\n     * \t}).toDestination();\n     * \tenv.decayCurve = \"linear\";\n     * \tenv.triggerAttack();\n     * }, 1, 1);\n     */\n    get decayCurve() {\n        return this._getCurve(this._decayCurve, \"Out\");\n    }\n    set decayCurve(curve) {\n        this._setCurve(\"_decayCurve\", \"Out\", curve);\n    }\n    /**\n     * Trigger the attack/decay portion of the ADSR envelope.\n     * @param  time When the attack should start.\n     * @param velocity The velocity of the envelope scales the vales.\n     *                             number between 0-1\n     * @example\n     * const env = new Tone.AmplitudeEnvelope().toDestination();\n     * const osc = new Tone.Oscillator().connect(env).start();\n     * // trigger the attack 0.5 seconds from now with a velocity of 0.2\n     * env.triggerAttack(\"+0.5\", 0.2);\n     */\n    triggerAttack(time, velocity = 1) {\n        this.log(\"triggerAttack\", time, velocity);\n        time = this.toSeconds(time);\n        const originalAttack = this.toSeconds(this.attack);\n        let attack = originalAttack;\n        const decay = this.toSeconds(this.decay);\n        // check if it's not a complete attack\n        const currentValue = this.getValueAtTime(time);\n        if (currentValue > 0) {\n            // subtract the current value from the attack time\n            const attackRate = 1 / attack;\n            const remainingDistance = 1 - currentValue;\n            // the attack is now the remaining time\n            attack = remainingDistance / attackRate;\n        }\n        // attack\n        if (attack < this.sampleTime) {\n            this._sig.cancelScheduledValues(time);\n            // case where the attack time is 0 should set instantly\n            this._sig.setValueAtTime(velocity, time);\n        }\n        else if (this._attackCurve === \"linear\") {\n            this._sig.linearRampTo(velocity, attack, time);\n        }\n        else if (this._attackCurve === \"exponential\") {\n            this._sig.targetRampTo(velocity, attack, time);\n        }\n        else {\n            this._sig.cancelAndHoldAtTime(time);\n            let curve = this._attackCurve;\n            // find the starting position in the curve\n            for (let i = 1; i < curve.length; i++) {\n                // the starting index is between the two values\n                if (curve[i - 1] <= currentValue && currentValue <= curve[i]) {\n                    curve = this._attackCurve.slice(i);\n                    // the first index is the current value\n                    curve[0] = currentValue;\n                    break;\n                }\n            }\n            this._sig.setValueCurveAtTime(curve, time, attack, velocity);\n        }\n        // decay\n        if (decay && this.sustain < 1) {\n            const decayValue = velocity * this.sustain;\n            const decayStart = time + attack;\n            this.log(\"decay\", decayStart);\n            if (this._decayCurve === \"linear\") {\n                this._sig.linearRampToValueAtTime(decayValue, decay + decayStart);\n            }\n            else {\n                this._sig.exponentialApproachValueAtTime(decayValue, decayStart, decay);\n            }\n        }\n        return this;\n    }\n    /**\n     * Triggers the release of the envelope.\n     * @param  time When the release portion of the envelope should start.\n     * @example\n     * const env = new Tone.AmplitudeEnvelope().toDestination();\n     * const osc = new Tone.Oscillator({\n     * \ttype: \"sawtooth\"\n     * }).connect(env).start();\n     * env.triggerAttack();\n     * // trigger the release half a second after the attack\n     * env.triggerRelease(\"+0.5\");\n     */\n    triggerRelease(time) {\n        this.log(\"triggerRelease\", time);\n        time = this.toSeconds(time);\n        const currentValue = this.getValueAtTime(time);\n        if (currentValue > 0) {\n            const release = this.toSeconds(this.release);\n            if (release < this.sampleTime) {\n                this._sig.setValueAtTime(0, time);\n            }\n            else if (this._releaseCurve === \"linear\") {\n                this._sig.linearRampTo(0, release, time);\n            }\n            else if (this._releaseCurve === \"exponential\") {\n                this._sig.targetRampTo(0, release, time);\n            }\n            else {\n                assert(isArray(this._releaseCurve), \"releaseCurve must be either 'linear', 'exponential' or an array\");\n                this._sig.cancelAndHoldAtTime(time);\n                this._sig.setValueCurveAtTime(this._releaseCurve, time, release, currentValue);\n            }\n        }\n        return this;\n    }\n    /**\n     * Get the scheduled value at the given time. This will\n     * return the unconverted (raw) value.\n     * @example\n     * const env = new Tone.Envelope(0.5, 1, 0.4, 2);\n     * env.triggerAttackRelease(2);\n     * setInterval(() => console.log(env.getValueAtTime(Tone.now())), 100);\n     */\n    getValueAtTime(time) {\n        return this._sig.getValueAtTime(time);\n    }\n    /**\n     * triggerAttackRelease is shorthand for triggerAttack, then waiting\n     * some duration, then triggerRelease.\n     * @param duration The duration of the sustain.\n     * @param time When the attack should be triggered.\n     * @param velocity The velocity of the envelope.\n     * @example\n     * const env = new Tone.AmplitudeEnvelope().toDestination();\n     * const osc = new Tone.Oscillator().connect(env).start();\n     * // trigger the release 0.5 seconds after the attack\n     * env.triggerAttackRelease(0.5);\n     */\n    triggerAttackRelease(duration, time, velocity = 1) {\n        time = this.toSeconds(time);\n        this.triggerAttack(time, velocity);\n        this.triggerRelease(time + this.toSeconds(duration));\n        return this;\n    }\n    /**\n     * Cancels all scheduled envelope changes after the given time.\n     */\n    cancel(after) {\n        this._sig.cancelScheduledValues(this.toSeconds(after));\n        return this;\n    }\n    /**\n     * Connect the envelope to a destination node.\n     */\n    connect(destination, outputNumber = 0, inputNumber = 0) {\n        connectSignal(this, destination, outputNumber, inputNumber);\n        return this;\n    }\n    /**\n     * Render the envelope curve to an array of the given length.\n     * Good for visualizing the envelope curve. Rescales the duration of the\n     * envelope to fit the length.\n     */\n    asArray() {\n        return __awaiter(this, arguments, void 0, function* (length = 1024) {\n            const duration = length / this.context.sampleRate;\n            const context = new OfflineContext(1, duration, this.context.sampleRate);\n            // normalize the ADSR for the given duration with 20% sustain time\n            const attackPortion = this.toSeconds(this.attack) + this.toSeconds(this.decay);\n            const envelopeDuration = attackPortion + this.toSeconds(this.release);\n            const sustainTime = envelopeDuration * 0.1;\n            const totalDuration = envelopeDuration + sustainTime;\n            // @ts-ignore\n            const clone = new this.constructor(Object.assign(this.get(), {\n                attack: (duration * this.toSeconds(this.attack)) / totalDuration,\n                decay: (duration * this.toSeconds(this.decay)) / totalDuration,\n                release: (duration * this.toSeconds(this.release)) / totalDuration,\n                context,\n            }));\n            clone._sig.toDestination();\n            clone.triggerAttackRelease((duration * (attackPortion + sustainTime)) / totalDuration, 0);\n            const buffer = yield context.render();\n            return buffer.getChannelData(0);\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._sig.dispose();\n        return this;\n    }\n}\n__decorate([\n    timeRange(0)\n], Envelope.prototype, \"attack\", void 0);\n__decorate([\n    timeRange(0)\n], Envelope.prototype, \"decay\", void 0);\n__decorate([\n    range(0, 1)\n], Envelope.prototype, \"sustain\", void 0);\n__decorate([\n    timeRange(0)\n], Envelope.prototype, \"release\", void 0);\n/**\n * Generate some complex envelope curves.\n */\nconst EnvelopeCurves = (() => {\n    const curveLen = 128;\n    let i;\n    let k;\n    // cosine curve\n    const cosineCurve = [];\n    for (i = 0; i < curveLen; i++) {\n        cosineCurve[i] = Math.sin((i / (curveLen - 1)) * (Math.PI / 2));\n    }\n    // ripple curve\n    const rippleCurve = [];\n    const rippleCurveFreq = 6.4;\n    for (i = 0; i < curveLen - 1; i++) {\n        k = i / (curveLen - 1);\n        const sineWave = Math.sin(k * (Math.PI * 2) * rippleCurveFreq - Math.PI / 2) + 1;\n        rippleCurve[i] = sineWave / 10 + k * 0.83;\n    }\n    rippleCurve[curveLen - 1] = 1;\n    // stairs curve\n    const stairsCurve = [];\n    const steps = 5;\n    for (i = 0; i < curveLen; i++) {\n        stairsCurve[i] = Math.ceil((i / (curveLen - 1)) * steps) / steps;\n    }\n    // in-out easing curve\n    const sineCurve = [];\n    for (i = 0; i < curveLen; i++) {\n        k = i / (curveLen - 1);\n        sineCurve[i] = 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n    // a bounce curve\n    const bounceCurve = [];\n    for (i = 0; i < curveLen; i++) {\n        k = i / (curveLen - 1);\n        const freq = Math.pow(k, 3) * 4 + 0.2;\n        const val = Math.cos(freq * Math.PI * 2 * k);\n        bounceCurve[i] = Math.abs(val * (1 - k));\n    }\n    /**\n     * Invert a value curve to make it work for the release\n     */\n    function invertCurve(curve) {\n        const out = new Array(curve.length);\n        for (let j = 0; j < curve.length; j++) {\n            out[j] = 1 - curve[j];\n        }\n        return out;\n    }\n    /**\n     * reverse the curve\n     */\n    function reverseCurve(curve) {\n        return curve.slice(0).reverse();\n    }\n    /**\n     * attack and release curve arrays\n     */\n    return {\n        bounce: {\n            In: invertCurve(bounceCurve),\n            Out: bounceCurve,\n        },\n        cosine: {\n            In: cosineCurve,\n            Out: reverseCurve(cosineCurve),\n        },\n        exponential: \"exponential\",\n        linear: \"linear\",\n        ripple: {\n            In: rippleCurve,\n            Out: invertCurve(rippleCurve),\n        },\n        sine: {\n            In: sineCurve,\n            Out: invertCurve(sineCurve),\n        },\n        step: {\n            In: stairsCurve,\n            Out: invertCurve(stairsCurve),\n        },\n    };\n})();\n//# sourceMappingURL=Envelope.js.map","import { Volume } from \"../component/channel/Volume.js\";\nimport { ToneAudioNode, } from \"../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { readOnly } from \"../core/util/Interface.js\";\n/**\n * Base-class for all instruments\n */\nexport class Instrument extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Instrument.getDefaults(), arguments);\n        super(options);\n        /**\n         * Keep track of all events scheduled to the transport\n         * when the instrument is 'synced'\n         */\n        this._scheduledEvents = [];\n        /**\n         * If the instrument is currently synced\n         */\n        this._synced = false;\n        this._original_triggerAttack = this.triggerAttack;\n        this._original_triggerRelease = this.triggerRelease;\n        /**\n         * The release which is scheduled to the timeline.\n         */\n        this._syncedRelease = (time) => this._original_triggerRelease(time);\n        this._volume = this.output = new Volume({\n            context: this.context,\n            volume: options.volume,\n        });\n        this.volume = this._volume.volume;\n        readOnly(this, \"volume\");\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            volume: 0,\n        });\n    }\n    /**\n     * Sync the instrument to the Transport. All subsequent calls of\n     * {@link triggerAttack} and {@link triggerRelease} will be scheduled along the transport.\n     * @example\n     * const fmSynth = new Tone.FMSynth().toDestination();\n     * fmSynth.volume.value = -6;\n     * fmSynth.sync();\n     * // schedule 3 notes when the transport first starts\n     * fmSynth.triggerAttackRelease(\"C4\", \"8n\", 0);\n     * fmSynth.triggerAttackRelease(\"E4\", \"8n\", \"8n\");\n     * fmSynth.triggerAttackRelease(\"G4\", \"8n\", \"4n\");\n     * // start the transport to hear the notes\n     * Tone.Transport.start();\n     */\n    sync() {\n        if (this._syncState()) {\n            this._syncMethod(\"triggerAttack\", 1);\n            this._syncMethod(\"triggerRelease\", 0);\n            this.context.transport.on(\"stop\", this._syncedRelease);\n            this.context.transport.on(\"pause\", this._syncedRelease);\n            this.context.transport.on(\"loopEnd\", this._syncedRelease);\n        }\n        return this;\n    }\n    /**\n     * set _sync\n     */\n    _syncState() {\n        let changed = false;\n        if (!this._synced) {\n            this._synced = true;\n            changed = true;\n        }\n        return changed;\n    }\n    /**\n     * Wrap the given method so that it can be synchronized\n     * @param method Which method to wrap and sync\n     * @param  timePosition What position the time argument appears in\n     */\n    _syncMethod(method, timePosition) {\n        const originalMethod = (this[\"_original_\" + method] = this[method]);\n        this[method] = (...args) => {\n            const time = args[timePosition];\n            const id = this.context.transport.schedule((t) => {\n                args[timePosition] = t;\n                originalMethod.apply(this, args);\n            }, time);\n            this._scheduledEvents.push(id);\n        };\n    }\n    /**\n     * Unsync the instrument from the Transport\n     */\n    unsync() {\n        this._scheduledEvents.forEach((id) => this.context.transport.clear(id));\n        this._scheduledEvents = [];\n        if (this._synced) {\n            this._synced = false;\n            this.triggerAttack = this._original_triggerAttack;\n            this.triggerRelease = this._original_triggerRelease;\n            this.context.transport.off(\"stop\", this._syncedRelease);\n            this.context.transport.off(\"pause\", this._syncedRelease);\n            this.context.transport.off(\"loopEnd\", this._syncedRelease);\n        }\n        return this;\n    }\n    /**\n     * Trigger the attack and then the release after the duration.\n     * @param  note     The note to trigger.\n     * @param  duration How long the note should be held for before\n     *                         triggering the release. This value must be greater than 0.\n     * @param time  When the note should be triggered.\n     * @param  velocity The velocity the note should be triggered at.\n     * @example\n     * const synth = new Tone.Synth().toDestination();\n     * // trigger \"C4\" for the duration of an 8th note\n     * synth.triggerAttackRelease(\"C4\", \"8n\");\n     */\n    triggerAttackRelease(note, duration, time, velocity) {\n        const computedTime = this.toSeconds(time);\n        const computedDuration = this.toSeconds(duration);\n        this.triggerAttack(note, computedTime, velocity);\n        this.triggerRelease(computedTime + computedDuration);\n        return this;\n    }\n    /**\n     * clean up\n     * @returns {Instrument} this\n     */\n    dispose() {\n        super.dispose();\n        this._volume.dispose();\n        this.unsync();\n        this._scheduledEvents = [];\n        return this;\n    }\n}\n//# sourceMappingURL=Instrument.js.map","import { __decorate } from \"tslib\";\nimport { FrequencyClass } from \"../core/type/Frequency.js\";\nimport { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { noOp } from \"../core/util/Interface.js\";\nimport { Instrument } from \"../instrument/Instrument.js\";\nimport { timeRange } from \"../core/util/Decorator.js\";\n/**\n * Abstract base class for other monophonic instruments to extend.\n */\nexport class Monophonic extends Instrument {\n    constructor() {\n        const options = optionsFromArguments(Monophonic.getDefaults(), arguments);\n        super(options);\n        this.portamento = options.portamento;\n        this.onsilence = options.onsilence;\n    }\n    static getDefaults() {\n        return Object.assign(Instrument.getDefaults(), {\n            detune: 0,\n            onsilence: noOp,\n            portamento: 0,\n        });\n    }\n    /**\n     * Trigger the attack of the note optionally with a given velocity.\n     * @param  note The note to trigger.\n     * @param  time When the note should start.\n     * @param  velocity The velocity determines how \"loud\" the note will be.\n     * @example\n     * const synth = new Tone.Synth().toDestination();\n     * // trigger the note a half second from now at half velocity\n     * synth.triggerAttack(\"C4\", \"+0.5\", 0.5);\n     */\n    triggerAttack(note, time, velocity = 1) {\n        this.log(\"triggerAttack\", note, time, velocity);\n        const seconds = this.toSeconds(time);\n        this._triggerEnvelopeAttack(seconds, velocity);\n        this.setNote(note, seconds);\n        return this;\n    }\n    /**\n     * Trigger the release portion of the envelope.\n     * @param  time If no time is given, the release happens immediately.\n     * @example\n     * const synth = new Tone.Synth().toDestination();\n     * synth.triggerAttack(\"C4\");\n     * // trigger the release a second from now\n     * synth.triggerRelease(\"+1\");\n     */\n    triggerRelease(time) {\n        this.log(\"triggerRelease\", time);\n        const seconds = this.toSeconds(time);\n        this._triggerEnvelopeRelease(seconds);\n        return this;\n    }\n    /**\n     * Set the note at the given time. If no time is given, the note\n     * will set immediately.\n     * @param note The note to change to.\n     * @param  time The time when the note should be set.\n     * @example\n     * const synth = new Tone.Synth().toDestination();\n     * synth.triggerAttack(\"C4\");\n     * // change to F#6 in one quarter note from now.\n     * synth.setNote(\"F#6\", \"+4n\");\n     */\n    setNote(note, time) {\n        const computedTime = this.toSeconds(time);\n        const computedFrequency = note instanceof FrequencyClass ? note.toFrequency() : note;\n        if (this.portamento > 0 && this.getLevelAtTime(computedTime) > 0.05) {\n            const portTime = this.toSeconds(this.portamento);\n            this.frequency.exponentialRampTo(computedFrequency, portTime, computedTime);\n        }\n        else {\n            this.frequency.setValueAtTime(computedFrequency, computedTime);\n        }\n        return this;\n    }\n}\n__decorate([\n    timeRange(0)\n], Monophonic.prototype, \"portamento\", void 0);\n//# sourceMappingURL=Monophonic.js.map","import { Gain } from \"../../core/context/Gain.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { Envelope } from \"./Envelope.js\";\n/**\n * AmplitudeEnvelope is a Tone.Envelope connected to a gain node.\n * Unlike Tone.Envelope, which outputs the envelope's value, AmplitudeEnvelope accepts\n * an audio signal as the input and will apply the envelope to the amplitude\n * of the signal.\n * Read more about ADSR Envelopes on [Wikipedia](https://en.wikipedia.org/wiki/Synthesizer#ADSR_envelope).\n *\n * @example\n * return Tone.Offline(() => {\n * \tconst ampEnv = new Tone.AmplitudeEnvelope({\n * \t\tattack: 0.1,\n * \t\tdecay: 0.2,\n * \t\tsustain: 1.0,\n * \t\trelease: 0.8\n * \t}).toDestination();\n * \t// create an oscillator and connect it\n * \tconst osc = new Tone.Oscillator().connect(ampEnv).start();\n * \t// trigger the envelopes attack and release \"8t\" apart\n * \tampEnv.triggerAttackRelease(\"8t\");\n * }, 1.5, 1);\n * @category Component\n */\nexport class AmplitudeEnvelope extends Envelope {\n    constructor() {\n        super(optionsFromArguments(AmplitudeEnvelope.getDefaults(), arguments, [\n            \"attack\",\n            \"decay\",\n            \"sustain\",\n            \"release\",\n        ]));\n        this.name = \"AmplitudeEnvelope\";\n        this._gainNode = new Gain({\n            context: this.context,\n            gain: 0,\n        });\n        this.output = this._gainNode;\n        this.input = this._gainNode;\n        this._sig.connect(this._gainNode.gain);\n        this.output = this._gainNode;\n        this.input = this._gainNode;\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this._gainNode.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=AmplitudeEnvelope.js.map","import { AmplitudeEnvelope } from \"../component/envelope/AmplitudeEnvelope.js\";\nimport { Envelope } from \"../component/envelope/Envelope.js\";\nimport { ToneAudioNode, } from \"../core/context/ToneAudioNode.js\";\nimport { omitFromObject, optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { readOnly } from \"../core/util/Interface.js\";\nimport { OmniOscillator } from \"../source/oscillator/OmniOscillator.js\";\nimport { Source } from \"../source/Source.js\";\nimport { Monophonic } from \"./Monophonic.js\";\n/**\n * Synth is composed simply of a {@link OmniOscillator} routed through an {@link AmplitudeEnvelope}.\n * ```\n * +----------------+   +-------------------+\n * | OmniOscillator +>--> AmplitudeEnvelope +>--> Output\n * +----------------+   +-------------------+\n * ```\n * @example\n * const synth = new Tone.Synth().toDestination();\n * synth.triggerAttackRelease(\"C4\", \"8n\");\n * @category Instrument\n */\nexport class Synth extends Monophonic {\n    constructor() {\n        const options = optionsFromArguments(Synth.getDefaults(), arguments);\n        super(options);\n        this.name = \"Synth\";\n        this.oscillator = new OmniOscillator(Object.assign({\n            context: this.context,\n            detune: options.detune,\n            onstop: () => this.onsilence(this),\n        }, options.oscillator));\n        this.frequency = this.oscillator.frequency;\n        this.detune = this.oscillator.detune;\n        this.envelope = new AmplitudeEnvelope(Object.assign({\n            context: this.context,\n        }, options.envelope));\n        // connect the oscillators to the output\n        this.oscillator.chain(this.envelope, this.output);\n        readOnly(this, [\"oscillator\", \"frequency\", \"detune\", \"envelope\"]);\n    }\n    static getDefaults() {\n        return Object.assign(Monophonic.getDefaults(), {\n            envelope: Object.assign(omitFromObject(Envelope.getDefaults(), Object.keys(ToneAudioNode.getDefaults())), {\n                attack: 0.005,\n                decay: 0.1,\n                release: 1,\n                sustain: 0.3,\n            }),\n            oscillator: Object.assign(omitFromObject(OmniOscillator.getDefaults(), [\n                ...Object.keys(Source.getDefaults()),\n                \"frequency\",\n                \"detune\",\n            ]), {\n                type: \"triangle\",\n            }),\n        });\n    }\n    /**\n     * start the attack portion of the envelope\n     * @param time the time the attack should start\n     * @param velocity the velocity of the note (0-1)\n     */\n    _triggerEnvelopeAttack(time, velocity) {\n        // the envelopes\n        this.envelope.triggerAttack(time, velocity);\n        this.oscillator.start(time);\n        // if there is no release portion, stop the oscillator\n        if (this.envelope.sustain === 0) {\n            const computedAttack = this.toSeconds(this.envelope.attack);\n            const computedDecay = this.toSeconds(this.envelope.decay);\n            this.oscillator.stop(time + computedAttack + computedDecay);\n        }\n    }\n    /**\n     * start the release portion of the envelope\n     * @param time the time the release should start\n     */\n    _triggerEnvelopeRelease(time) {\n        this.envelope.triggerRelease(time);\n        this.oscillator.stop(time + this.toSeconds(this.envelope.release));\n    }\n    getLevelAtTime(time) {\n        time = this.toSeconds(time);\n        return this.envelope.getValueAtTime(time);\n    }\n    /**\n     * clean up\n     */\n    dispose() {\n        super.dispose();\n        this.oscillator.dispose();\n        this.envelope.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Synth.js.map","import { __decorate } from \"tslib\";\nimport { FrequencyClass } from \"../core/type/Frequency.js\";\nimport { deepMerge, optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { readOnly } from \"../core/util/Interface.js\";\nimport { Monophonic } from \"./Monophonic.js\";\nimport { Synth } from \"./Synth.js\";\nimport { range, timeRange } from \"../core/util/Decorator.js\";\n/**\n * MembraneSynth makes kick and tom sounds using a single oscillator\n * with an amplitude envelope and frequency ramp. A Tone.OmniOscillator\n * is routed through a Tone.AmplitudeEnvelope to the output. The drum\n * quality of the sound comes from the frequency envelope applied\n * during MembraneSynth.triggerAttack(note). The frequency envelope\n * starts at <code>note * .octaves</code> and ramps to <code>note</code>\n * over the duration of <code>.pitchDecay</code>.\n * @example\n * const synth = new Tone.MembraneSynth().toDestination();\n * synth.triggerAttackRelease(\"C2\", \"8n\");\n * @category Instrument\n */\nexport class MembraneSynth extends Synth {\n    constructor() {\n        const options = optionsFromArguments(MembraneSynth.getDefaults(), arguments);\n        super(options);\n        this.name = \"MembraneSynth\";\n        /**\n         * Portamento is ignored in this synth. use pitch decay instead.\n         */\n        this.portamento = 0;\n        this.pitchDecay = options.pitchDecay;\n        this.octaves = options.octaves;\n        readOnly(this, [\"oscillator\", \"envelope\"]);\n    }\n    static getDefaults() {\n        return deepMerge(Monophonic.getDefaults(), Synth.getDefaults(), {\n            envelope: {\n                attack: 0.001,\n                attackCurve: \"exponential\",\n                decay: 0.4,\n                release: 1.4,\n                sustain: 0.01,\n            },\n            octaves: 10,\n            oscillator: {\n                type: \"sine\",\n            },\n            pitchDecay: 0.05,\n        });\n    }\n    setNote(note, time) {\n        const seconds = this.toSeconds(time);\n        const hertz = this.toFrequency(note instanceof FrequencyClass ? note.toFrequency() : note);\n        const maxNote = hertz * this.octaves;\n        this.oscillator.frequency.setValueAtTime(maxNote, seconds);\n        this.oscillator.frequency.exponentialRampToValueAtTime(hertz, seconds + this.toSeconds(this.pitchDecay));\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        return this;\n    }\n}\n__decorate([\n    range(0)\n], MembraneSynth.prototype, \"octaves\", void 0);\n__decorate([\n    timeRange(0)\n], MembraneSynth.prototype, \"pitchDecay\", void 0);\n//# sourceMappingURL=MembraneSynth.js.map","/**\n * All of the classes or functions which are loaded into the AudioWorkletGlobalScope\n */\nconst workletContext = new Set();\n/**\n * Add a class to the AudioWorkletGlobalScope\n */\nexport function addToWorklet(classOrFunction) {\n    workletContext.add(classOrFunction);\n}\n/**\n * Register a processor in the AudioWorkletGlobalScope with the given name\n */\nexport function registerProcessor(name, classDesc) {\n    const processor = /* javascript */ `registerProcessor(\"${name}\", ${classDesc})`;\n    workletContext.add(processor);\n}\n/**\n * Get all of the modules which have been registered to the AudioWorkletGlobalScope\n */\nexport function getWorkletGlobalScope() {\n    return Array.from(workletContext).join(\"\\n\");\n}\n//# sourceMappingURL=WorkletGlobalScope.js.map","import { addToWorklet } from \"./WorkletGlobalScope.js\";\nconst toneAudioWorkletProcessor = /* javascript */ `\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it's disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === \"dispose\") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n`;\naddToWorklet(toneAudioWorkletProcessor);\n//# sourceMappingURL=ToneAudioWorkletProcessor.worklet.js.map","import \"./ToneAudioWorkletProcessor.worklet.js\";\nimport { addToWorklet } from \"./WorkletGlobalScope.js\";\nexport const singleIOProcess = /* javascript */ `\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n`;\naddToWorklet(singleIOProcess);\n//# sourceMappingURL=SingleIOProcessor.worklet.js.map","import { addToWorklet } from \"./WorkletGlobalScope.js\";\nconst delayLine = /* javascript */ `\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n`;\naddToWorklet(delayLine);\n//# sourceMappingURL=DelayLine.worklet.js.map","import \"../../core/worklet/SingleIOProcessor.worklet.js\";\nimport \"../../core/worklet/DelayLine.worklet.js\";\nimport { registerProcessor } from \"../../core/worklet/WorkletGlobalScope.js\";\nexport const workletName = \"feedback-comb-filter\";\nconst feedbackCombFilter = /* javascript */ `\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"delayTime\",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}, {\n\t\t\t\tname: \"feedback\",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n`;\nregisterProcessor(workletName, feedbackCombFilter);\n//# sourceMappingURL=FeedbackCombFilter.worklet.js.map","import { MidiClass } from \"../core/type/Midi.js\";\nimport { deepMerge, omitFromObject, optionsFromArguments, } from \"../core/util/Defaults.js\";\nimport { isArray, isNumber } from \"../core/util/TypeCheck.js\";\nimport { Instrument } from \"./Instrument.js\";\nimport { Monophonic } from \"./Monophonic.js\";\nimport { Synth } from \"./Synth.js\";\nimport { assert, warn } from \"../core/util/Debug.js\";\n/**\n * PolySynth handles voice creation and allocation for any\n * instruments passed in as the second parameter. PolySynth is\n * not a synthesizer by itself, it merely manages voices of\n * one of the other types of synths, allowing any of the\n * monophonic synthesizers to be polyphonic.\n *\n * @example\n * const synth = new Tone.PolySynth().toDestination();\n * // set the attributes across all the voices using 'set'\n * synth.set({ detune: -1200 });\n * // play a chord\n * synth.triggerAttackRelease([\"C4\", \"E4\", \"A4\"], 1);\n * @category Instrument\n */\nexport class PolySynth extends Instrument {\n    constructor() {\n        const options = optionsFromArguments(PolySynth.getDefaults(), arguments, [\"voice\", \"options\"]);\n        super(options);\n        this.name = \"PolySynth\";\n        /**\n         * The voices which are not currently in use\n         */\n        this._availableVoices = [];\n        /**\n         * The currently active voices\n         */\n        this._activeVoices = [];\n        /**\n         * All of the allocated voices for this synth.\n         */\n        this._voices = [];\n        /**\n         * The GC timeout. Held so that it could be cancelled when the node is disposed.\n         */\n        this._gcTimeout = -1;\n        /**\n         * A moving average of the number of active voices\n         */\n        this._averageActiveVoices = 0;\n        /**\n         * The release which is scheduled to the timeline.\n         */\n        this._syncedRelease = (time) => this.releaseAll(time);\n        // check against the old API (pre 14.3.0)\n        assert(!isNumber(options.voice), \"DEPRECATED: The polyphony count is no longer the first argument.\");\n        const defaults = options.voice.getDefaults();\n        this.options = Object.assign(defaults, options.options);\n        this.voice = options.voice;\n        this.maxPolyphony = options.maxPolyphony;\n        // create the first voice\n        this._dummyVoice = this._getNextAvailableVoice();\n        // remove it from the voices list\n        const index = this._voices.indexOf(this._dummyVoice);\n        this._voices.splice(index, 1);\n        // kick off the GC interval\n        this._gcTimeout = this.context.setInterval(this._collectGarbage.bind(this), 1);\n    }\n    static getDefaults() {\n        return Object.assign(Instrument.getDefaults(), {\n            maxPolyphony: 32,\n            options: {},\n            voice: Synth,\n        });\n    }\n    /**\n     * The number of active voices.\n     */\n    get activeVoices() {\n        return this._activeVoices.length;\n    }\n    /**\n     * Invoked when the source is done making sound, so that it can be\n     * readded to the pool of available voices\n     */\n    _makeVoiceAvailable(voice) {\n        this._availableVoices.push(voice);\n        // remove the midi note from 'active voices'\n        const activeVoiceIndex = this._activeVoices.findIndex((e) => e.voice === voice);\n        this._activeVoices.splice(activeVoiceIndex, 1);\n    }\n    /**\n     * Get an available voice from the pool of available voices.\n     * If one is not available and the maxPolyphony limit is reached,\n     * steal a voice, otherwise return null.\n     */\n    _getNextAvailableVoice() {\n        // if there are available voices, return the first one\n        if (this._availableVoices.length) {\n            return this._availableVoices.shift();\n        }\n        else if (this._voices.length < this.maxPolyphony) {\n            // otherwise if there is still more maxPolyphony, make a new voice\n            const voice = new this.voice(Object.assign(this.options, {\n                context: this.context,\n                onsilence: this._makeVoiceAvailable.bind(this),\n            }));\n            assert(voice instanceof Monophonic, \"Voice must extend Monophonic class\");\n            voice.connect(this.output);\n            this._voices.push(voice);\n            return voice;\n        }\n        else {\n            warn(\"Max polyphony exceeded. Note dropped.\");\n        }\n    }\n    /**\n     * Occasionally check if there are any allocated voices which can be cleaned up.\n     */\n    _collectGarbage() {\n        this._averageActiveVoices = Math.max(this._averageActiveVoices * 0.95, this.activeVoices);\n        if (this._availableVoices.length &&\n            this._voices.length > Math.ceil(this._averageActiveVoices + 1)) {\n            // take off an available note\n            const firstAvail = this._availableVoices.shift();\n            const index = this._voices.indexOf(firstAvail);\n            this._voices.splice(index, 1);\n            if (!this.context.isOffline) {\n                firstAvail.dispose();\n            }\n        }\n    }\n    /**\n     * Internal method which triggers the attack\n     */\n    _triggerAttack(notes, time, velocity) {\n        notes.forEach((note) => {\n            const midiNote = new MidiClass(this.context, note).toMidi();\n            const voice = this._getNextAvailableVoice();\n            if (voice) {\n                voice.triggerAttack(note, time, velocity);\n                this._activeVoices.push({\n                    midi: midiNote,\n                    voice,\n                    released: false,\n                });\n                this.log(\"triggerAttack\", note, time);\n            }\n        });\n    }\n    /**\n     * Internal method which triggers the release\n     */\n    _triggerRelease(notes, time) {\n        notes.forEach((note) => {\n            const midiNote = new MidiClass(this.context, note).toMidi();\n            const event = this._activeVoices.find(({ midi, released }) => midi === midiNote && !released);\n            if (event) {\n                // trigger release on that note\n                event.voice.triggerRelease(time);\n                // mark it as released\n                event.released = true;\n                this.log(\"triggerRelease\", note, time);\n            }\n        });\n    }\n    /**\n     * Schedule the attack/release events. If the time is in the future, then it should set a timeout\n     * to wait for just-in-time scheduling\n     */\n    _scheduleEvent(type, notes, time, velocity) {\n        assert(!this.disposed, \"Synth was already disposed\");\n        // if the notes are greater than this amount of time in the future, they should be scheduled with setTimeout\n        if (time <= this.now()) {\n            // do it immediately\n            if (type === \"attack\") {\n                this._triggerAttack(notes, time, velocity);\n            }\n            else {\n                this._triggerRelease(notes, time);\n            }\n        }\n        else {\n            // schedule it to start in the future\n            this.context.setTimeout(() => {\n                if (!this.disposed) {\n                    this._scheduleEvent(type, notes, time, velocity);\n                }\n            }, time - this.now());\n        }\n    }\n    /**\n     * Trigger the attack portion of the note\n     * @param  notes The notes to play. Accepts a single Frequency or an array of frequencies.\n     * @param  time  The start time of the note.\n     * @param velocity The velocity of the note.\n     * @example\n     * const synth = new Tone.PolySynth(Tone.FMSynth).toDestination();\n     * // trigger a chord immediately with a velocity of 0.2\n     * synth.triggerAttack([\"Ab3\", \"C4\", \"F5\"], Tone.now(), 0.2);\n     */\n    triggerAttack(notes, time, velocity) {\n        if (!Array.isArray(notes)) {\n            notes = [notes];\n        }\n        const computedTime = this.toSeconds(time);\n        this._scheduleEvent(\"attack\", notes, computedTime, velocity);\n        return this;\n    }\n    /**\n     * Trigger the release of the note. Unlike monophonic instruments,\n     * a note (or array of notes) needs to be passed in as the first argument.\n     * @param  notes The notes to play. Accepts a single Frequency or an array of frequencies.\n     * @param  time  When the release will be triggered.\n     * @example\n     * const poly = new Tone.PolySynth(Tone.AMSynth).toDestination();\n     * poly.triggerAttack([\"Ab3\", \"C4\", \"F5\"]);\n     * // trigger the release of the given notes.\n     * poly.triggerRelease([\"Ab3\", \"C4\"], \"+1\");\n     * poly.triggerRelease(\"F5\", \"+3\");\n     */\n    triggerRelease(notes, time) {\n        if (!Array.isArray(notes)) {\n            notes = [notes];\n        }\n        const computedTime = this.toSeconds(time);\n        this._scheduleEvent(\"release\", notes, computedTime);\n        return this;\n    }\n    /**\n     * Trigger the attack and release after the specified duration\n     * @param  notes The notes to play. Accepts a single  Frequency or an array of frequencies.\n     * @param  duration the duration of the note\n     * @param  time  if no time is given, defaults to now\n     * @param  velocity the velocity of the attack (0-1)\n     * @example\n     * const poly = new Tone.PolySynth(Tone.AMSynth).toDestination();\n     * // can pass in an array of durations as well\n     * poly.triggerAttackRelease([\"Eb3\", \"G4\", \"Bb4\", \"D5\"], [4, 3, 2, 1]);\n     */\n    triggerAttackRelease(notes, duration, time, velocity) {\n        const computedTime = this.toSeconds(time);\n        this.triggerAttack(notes, computedTime, velocity);\n        if (isArray(duration)) {\n            assert(isArray(notes), \"If the duration is an array, the notes must also be an array\");\n            notes = notes;\n            for (let i = 0; i < notes.length; i++) {\n                const d = duration[Math.min(i, duration.length - 1)];\n                const durationSeconds = this.toSeconds(d);\n                assert(durationSeconds > 0, \"The duration must be greater than 0\");\n                this.triggerRelease(notes[i], computedTime + durationSeconds);\n            }\n        }\n        else {\n            const durationSeconds = this.toSeconds(duration);\n            assert(durationSeconds > 0, \"The duration must be greater than 0\");\n            this.triggerRelease(notes, computedTime + durationSeconds);\n        }\n        return this;\n    }\n    sync() {\n        if (this._syncState()) {\n            this._syncMethod(\"triggerAttack\", 1);\n            this._syncMethod(\"triggerRelease\", 1);\n            // make sure that the sound doesn't play after its been stopped\n            this.context.transport.on(\"stop\", this._syncedRelease);\n            this.context.transport.on(\"pause\", this._syncedRelease);\n            this.context.transport.on(\"loopEnd\", this._syncedRelease);\n        }\n        return this;\n    }\n    /**\n     * Set a member/attribute of the voices\n     * @example\n     * const poly = new Tone.PolySynth().toDestination();\n     * // set all of the voices using an options object for the synth type\n     * poly.set({\n     * \tenvelope: {\n     * \t\tattack: 0.25\n     * \t}\n     * });\n     * poly.triggerAttackRelease(\"Bb3\", 0.2);\n     */\n    set(options) {\n        // remove options which are controlled by the PolySynth\n        const sanitizedOptions = omitFromObject(options, [\n            \"onsilence\",\n            \"context\",\n        ]);\n        // store all of the options\n        this.options = deepMerge(this.options, sanitizedOptions);\n        this._voices.forEach((voice) => voice.set(sanitizedOptions));\n        this._dummyVoice.set(sanitizedOptions);\n        return this;\n    }\n    get() {\n        return this._dummyVoice.get();\n    }\n    /**\n     * Trigger the release portion of all the currently active voices immediately.\n     * Useful for silencing the synth.\n     */\n    releaseAll(time) {\n        const computedTime = this.toSeconds(time);\n        this._activeVoices.forEach(({ voice }) => {\n            voice.triggerRelease(computedTime);\n        });\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._dummyVoice.dispose();\n        this._voices.forEach((v) => v.dispose());\n        this._activeVoices = [];\n        this._availableVoices = [];\n        this.context.clearInterval(this._gcTimeout);\n        return this;\n    }\n}\n//# sourceMappingURL=PolySynth.js.map","import { __decorate } from \"tslib\";\nimport { ToneAudioBuffers } from \"../core/context/ToneAudioBuffers.js\";\nimport { ftomf, intervalToFrequencyRatio } from \"../core/type/Conversions.js\";\nimport { FrequencyClass } from \"../core/type/Frequency.js\";\nimport { optionsFromArguments } from \"../core/util/Defaults.js\";\nimport { noOp } from \"../core/util/Interface.js\";\nimport { isArray, isNote, isNumber } from \"../core/util/TypeCheck.js\";\nimport { Instrument } from \"../instrument/Instrument.js\";\nimport { ToneBufferSource, } from \"../source/buffer/ToneBufferSource.js\";\nimport { timeRange } from \"../core/util/Decorator.js\";\nimport { assert } from \"../core/util/Debug.js\";\n/**\n * Pass in an object which maps the note's pitch or midi value to the url,\n * then you can trigger the attack and release of that note like other instruments.\n * By automatically repitching the samples, it is possible to play pitches which\n * were not explicitly included which can save loading time.\n *\n * For sample or buffer playback where repitching is not necessary,\n * use {@link Player}.\n * @example\n * const sampler = new Tone.Sampler({\n * \turls: {\n * \t\tA1: \"A1.mp3\",\n * \t\tA2: \"A2.mp3\",\n * \t},\n * \tbaseUrl: \"https://tonejs.github.io/audio/casio/\",\n * \tonload: () => {\n * \t\tsampler.triggerAttackRelease([\"C1\", \"E1\", \"G1\", \"B1\"], 0.5);\n * \t}\n * }).toDestination();\n * @category Instrument\n */\nexport class Sampler extends Instrument {\n    constructor() {\n        const options = optionsFromArguments(Sampler.getDefaults(), arguments, [\"urls\", \"onload\", \"baseUrl\"], \"urls\");\n        super(options);\n        this.name = \"Sampler\";\n        /**\n         * The object of all currently playing BufferSources\n         */\n        this._activeSources = new Map();\n        const urlMap = {};\n        Object.keys(options.urls).forEach((note) => {\n            const noteNumber = parseInt(note, 10);\n            assert(isNote(note) || (isNumber(noteNumber) && isFinite(noteNumber)), `url key is neither a note or midi pitch: ${note}`);\n            if (isNote(note)) {\n                // convert the note name to MIDI\n                const mid = new FrequencyClass(this.context, note).toMidi();\n                urlMap[mid] = options.urls[note];\n            }\n            else if (isNumber(noteNumber) && isFinite(noteNumber)) {\n                // otherwise if it's numbers assume it's midi\n                urlMap[noteNumber] = options.urls[noteNumber];\n            }\n        });\n        this._buffers = new ToneAudioBuffers({\n            urls: urlMap,\n            onload: options.onload,\n            baseUrl: options.baseUrl,\n            onerror: options.onerror,\n        });\n        this.attack = options.attack;\n        this.release = options.release;\n        this.curve = options.curve;\n        // invoke the callback if it's already loaded\n        if (this._buffers.loaded) {\n            // invoke onload deferred\n            Promise.resolve().then(options.onload);\n        }\n    }\n    static getDefaults() {\n        return Object.assign(Instrument.getDefaults(), {\n            attack: 0,\n            baseUrl: \"\",\n            curve: \"exponential\",\n            onload: noOp,\n            onerror: noOp,\n            release: 0.1,\n            urls: {},\n        });\n    }\n    /**\n     * Returns the difference in steps between the given midi note at the closets sample.\n     */\n    _findClosest(midi) {\n        // searches within 8 octaves of the given midi note\n        const MAX_INTERVAL = 96;\n        let interval = 0;\n        while (interval < MAX_INTERVAL) {\n            // check above and below\n            if (this._buffers.has(midi + interval)) {\n                return -interval;\n            }\n            else if (this._buffers.has(midi - interval)) {\n                return interval;\n            }\n            interval++;\n        }\n        throw new Error(`No available buffers for note: ${midi}`);\n    }\n    /**\n     * @param  notes\tThe note to play, or an array of notes.\n     * @param  time     When to play the note\n     * @param  velocity The velocity to play the sample back.\n     */\n    triggerAttack(notes, time, velocity = 1) {\n        this.log(\"triggerAttack\", notes, time, velocity);\n        if (!Array.isArray(notes)) {\n            notes = [notes];\n        }\n        notes.forEach((note) => {\n            const midiFloat = ftomf(new FrequencyClass(this.context, note).toFrequency());\n            const midi = Math.round(midiFloat);\n            const remainder = midiFloat - midi;\n            // find the closest note pitch\n            const difference = this._findClosest(midi);\n            const closestNote = midi - difference;\n            const buffer = this._buffers.get(closestNote);\n            const playbackRate = intervalToFrequencyRatio(difference + remainder);\n            // play that note\n            const source = new ToneBufferSource({\n                url: buffer,\n                context: this.context,\n                curve: this.curve,\n                fadeIn: this.attack,\n                fadeOut: this.release,\n                playbackRate,\n            }).connect(this.output);\n            source.start(time, 0, buffer.duration / playbackRate, velocity);\n            // add it to the active sources\n            if (!isArray(this._activeSources.get(midi))) {\n                this._activeSources.set(midi, []);\n            }\n            this._activeSources.get(midi).push(source);\n            // remove it when it's done\n            source.onended = () => {\n                if (this._activeSources && this._activeSources.has(midi)) {\n                    const sources = this._activeSources.get(midi);\n                    const index = sources.indexOf(source);\n                    if (index !== -1) {\n                        sources.splice(index, 1);\n                    }\n                }\n            };\n        });\n        return this;\n    }\n    /**\n     * @param  notes\tThe note to release, or an array of notes.\n     * @param  time     \tWhen to release the note.\n     */\n    triggerRelease(notes, time) {\n        this.log(\"triggerRelease\", notes, time);\n        if (!Array.isArray(notes)) {\n            notes = [notes];\n        }\n        notes.forEach((note) => {\n            const midi = new FrequencyClass(this.context, note).toMidi();\n            // find the note\n            if (this._activeSources.has(midi) &&\n                this._activeSources.get(midi).length) {\n                const sources = this._activeSources.get(midi);\n                time = this.toSeconds(time);\n                sources.forEach((source) => {\n                    source.stop(time);\n                });\n                this._activeSources.set(midi, []);\n            }\n        });\n        return this;\n    }\n    /**\n     * Release all currently active notes.\n     * @param  time     \tWhen to release the notes.\n     */\n    releaseAll(time) {\n        const computedTime = this.toSeconds(time);\n        this._activeSources.forEach((sources) => {\n            while (sources.length) {\n                const source = sources.shift();\n                source.stop(computedTime);\n            }\n        });\n        return this;\n    }\n    sync() {\n        if (this._syncState()) {\n            this._syncMethod(\"triggerAttack\", 1);\n            this._syncMethod(\"triggerRelease\", 1);\n        }\n        return this;\n    }\n    /**\n     * Invoke the attack phase, then after the duration, invoke the release.\n     * @param  notes\tThe note to play and release, or an array of notes.\n     * @param  duration The time the note should be held\n     * @param  time     When to start the attack\n     * @param  velocity The velocity of the attack\n     */\n    triggerAttackRelease(notes, duration, time, velocity = 1) {\n        const computedTime = this.toSeconds(time);\n        this.triggerAttack(notes, computedTime, velocity);\n        if (isArray(duration)) {\n            assert(isArray(notes), \"notes must be an array when duration is array\");\n            notes.forEach((note, index) => {\n                const d = duration[Math.min(index, duration.length - 1)];\n                this.triggerRelease(note, computedTime + this.toSeconds(d));\n            });\n        }\n        else {\n            this.triggerRelease(notes, computedTime + this.toSeconds(duration));\n        }\n        return this;\n    }\n    /**\n     * Add a note to the sampler.\n     * @param  note      The buffer's pitch.\n     * @param  url  Either the url of the buffer, or a buffer which will be added with the given name.\n     * @param  callback  The callback to invoke when the url is loaded.\n     */\n    add(note, url, callback) {\n        assert(isNote(note) || isFinite(note), `note must be a pitch or midi: ${note}`);\n        if (isNote(note)) {\n            // convert the note name to MIDI\n            const mid = new FrequencyClass(this.context, note).toMidi();\n            this._buffers.add(mid, url, callback);\n        }\n        else {\n            // otherwise if it's numbers assume it's midi\n            this._buffers.add(note, url, callback);\n        }\n        return this;\n    }\n    /**\n     * If the buffers are loaded or not\n     */\n    get loaded() {\n        return this._buffers.loaded;\n    }\n    /**\n     * Clean up\n     */\n    dispose() {\n        super.dispose();\n        this._buffers.dispose();\n        this._activeSources.forEach((sources) => {\n            sources.forEach((source) => source.dispose());\n        });\n        this._activeSources.clear();\n        return this;\n    }\n}\n__decorate([\n    timeRange(0)\n], Sampler.prototype, \"attack\", void 0);\n__decorate([\n    timeRange(0)\n], Sampler.prototype, \"release\", void 0);\n//# sourceMappingURL=Sampler.js.map","import { Param } from \"../../core/context/Param.js\";\nimport { ToneAudioNode, } from \"../../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\n/**\n * Panner is an equal power Left/Right Panner. It is a wrapper around the StereoPannerNode.\n * @example\n * return Tone.Offline(() => {\n * // move the input signal from right to left\n * \tconst panner = new Tone.Panner(1).toDestination();\n * \tpanner.pan.rampTo(-1, 0.5);\n * \tconst osc = new Tone.Oscillator(100).connect(panner).start();\n * }, 0.5, 2);\n * @category Component\n */\nexport class Panner extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Panner.getDefaults(), arguments, [\n            \"pan\",\n        ]);\n        super(options);\n        this.name = \"Panner\";\n        /**\n         * the panner node\n         */\n        this._panner = this.context.createStereoPanner();\n        this.input = this._panner;\n        this.output = this._panner;\n        this.pan = new Param({\n            context: this.context,\n            param: this._panner.pan,\n            value: options.pan,\n            minValue: -1,\n            maxValue: 1,\n        });\n        // this is necessary for standardized-audio-context\n        // doesn't make any difference for the native AudioContext\n        // https://github.com/chrisguttandin/standardized-audio-context/issues/647\n        this._panner.channelCount = options.channelCount;\n        this._panner.channelCountMode = \"explicit\";\n        // initial value\n        readOnly(this, \"pan\");\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            pan: 0,\n            channelCount: 1,\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._panner.disconnect();\n        this.pan.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Panner.js.map","import \"../core/worklet/SingleIOProcessor.worklet.js\";\nimport { registerProcessor } from \"../core/worklet/WorkletGlobalScope.js\";\nexport const workletName = \"bit-crusher\";\nexport const bitCrusherWorklet = /* javascript */ `\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n`;\nregisterProcessor(workletName, bitCrusherWorklet);\n//# sourceMappingURL=BitCrusher.worklet.js.map","import { Gain } from \"../../core/context/Gain.js\";\nimport { ToneAudioNode, } from \"../../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\n/**\n * Solo lets you isolate a specific audio stream. When an instance is set to `solo=true`,\n * it will mute all other instances of Solo.\n * @example\n * const soloA = new Tone.Solo().toDestination();\n * const oscA = new Tone.Oscillator(\"C4\", \"sawtooth\").connect(soloA);\n * const soloB = new Tone.Solo().toDestination();\n * const oscB = new Tone.Oscillator(\"E4\", \"square\").connect(soloB);\n * soloA.solo = true;\n * // no audio will pass through soloB\n * @category Component\n */\nexport class Solo extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Solo.getDefaults(), arguments, [\n            \"solo\",\n        ]);\n        super(options);\n        this.name = \"Solo\";\n        this.input = this.output = new Gain({\n            context: this.context,\n        });\n        if (!Solo._allSolos.has(this.context)) {\n            Solo._allSolos.set(this.context, new Set());\n        }\n        Solo._allSolos.get(this.context).add(this);\n        // set initially\n        this.solo = options.solo;\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            solo: false,\n        });\n    }\n    /**\n     * Isolates this instance and mutes all other instances of Solo.\n     * Only one instance can be soloed at a time. A soloed\n     * instance will report `solo=false` when another instance is soloed.\n     */\n    get solo() {\n        return this._isSoloed();\n    }\n    set solo(solo) {\n        if (solo) {\n            this._addSolo();\n        }\n        else {\n            this._removeSolo();\n        }\n        Solo._allSolos.get(this.context).forEach((instance) => instance._updateSolo());\n    }\n    /**\n     * If the current instance is muted, i.e. another instance is soloed\n     */\n    get muted() {\n        return this.input.gain.value === 0;\n    }\n    /**\n     * Add this to the soloed array\n     */\n    _addSolo() {\n        if (!Solo._soloed.has(this.context)) {\n            Solo._soloed.set(this.context, new Set());\n        }\n        Solo._soloed.get(this.context).add(this);\n    }\n    /**\n     * Remove this from the soloed array\n     */\n    _removeSolo() {\n        if (Solo._soloed.has(this.context)) {\n            Solo._soloed.get(this.context).delete(this);\n        }\n    }\n    /**\n     * Is this on the soloed array\n     */\n    _isSoloed() {\n        return (Solo._soloed.has(this.context) &&\n            Solo._soloed.get(this.context).has(this));\n    }\n    /**\n     * Returns true if no one is soloed\n     */\n    _noSolos() {\n        // either does not have any soloed added\n        return (!Solo._soloed.has(this.context) ||\n            // or has a solo set but doesn't include any items\n            (Solo._soloed.has(this.context) &&\n                Solo._soloed.get(this.context).size === 0));\n    }\n    /**\n     * Solo the current instance and unsolo all other instances.\n     */\n    _updateSolo() {\n        if (this._isSoloed()) {\n            this.input.gain.value = 1;\n        }\n        else if (this._noSolos()) {\n            // no one is soloed\n            this.input.gain.value = 1;\n        }\n        else {\n            this.input.gain.value = 0;\n        }\n    }\n    dispose() {\n        super.dispose();\n        Solo._allSolos.get(this.context).delete(this);\n        this._removeSolo();\n        return this;\n    }\n}\n/**\n * Hold all of the solo'ed tracks belonging to a specific context\n */\nSolo._allSolos = new Map();\n/**\n * Hold the currently solo'ed instance(s)\n */\nSolo._soloed = new Map();\n//# sourceMappingURL=Solo.js.map","import { readOnly } from \"../../core/util/Interface.js\";\nimport { ToneAudioNode, } from \"../../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { Panner } from \"./Panner.js\";\nimport { Volume } from \"./Volume.js\";\n/**\n * PanVol is a Tone.Panner and Tone.Volume in one.\n * @example\n * // pan the incoming signal left and drop the volume\n * const panVol = new Tone.PanVol(-0.25, -12).toDestination();\n * const osc = new Tone.Oscillator().connect(panVol).start();\n * @category Component\n */\nexport class PanVol extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(PanVol.getDefaults(), arguments, [\n            \"pan\",\n            \"volume\",\n        ]);\n        super(options);\n        this.name = \"PanVol\";\n        this._panner = this.input = new Panner({\n            context: this.context,\n            pan: options.pan,\n            channelCount: options.channelCount,\n        });\n        this.pan = this._panner.pan;\n        this._volume = this.output = new Volume({\n            context: this.context,\n            volume: options.volume,\n        });\n        this.volume = this._volume.volume;\n        // connections\n        this._panner.connect(this._volume);\n        this.mute = options.mute;\n        readOnly(this, [\"pan\", \"volume\"]);\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            mute: false,\n            pan: 0,\n            volume: 0,\n            channelCount: 1,\n        });\n    }\n    /**\n     * Mute/unmute the volume\n     */\n    get mute() {\n        return this._volume.mute;\n    }\n    set mute(mute) {\n        this._volume.mute = mute;\n    }\n    dispose() {\n        super.dispose();\n        this._panner.dispose();\n        this.pan.dispose();\n        this._volume.dispose();\n        this.volume.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=PanVol.js.map","import { ToneAudioNode, } from \"../../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { Solo } from \"./Solo.js\";\nimport { PanVol } from \"./PanVol.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\nimport { Gain } from \"../../core/context/Gain.js\";\n/**\n * Channel provides a channel strip interface with volume, pan, solo and mute controls.\n * @see {@link PanVol} and {@link Solo}\n * @example\n * // pan the incoming signal left and drop the volume 12db\n * const channel = new Tone.Channel(-0.25, -12);\n * @category Component\n */\nexport class Channel extends ToneAudioNode {\n    constructor() {\n        const options = optionsFromArguments(Channel.getDefaults(), arguments, [\n            \"volume\",\n            \"pan\",\n        ]);\n        super(options);\n        this.name = \"Channel\";\n        this._solo = this.input = new Solo({\n            solo: options.solo,\n            context: this.context,\n        });\n        this._panVol = this.output = new PanVol({\n            context: this.context,\n            pan: options.pan,\n            volume: options.volume,\n            mute: options.mute,\n            channelCount: options.channelCount,\n        });\n        this.pan = this._panVol.pan;\n        this.volume = this._panVol.volume;\n        this._solo.connect(this._panVol);\n        readOnly(this, [\"pan\", \"volume\"]);\n    }\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            pan: 0,\n            volume: 0,\n            mute: false,\n            solo: false,\n            channelCount: 1,\n        });\n    }\n    /**\n     * Solo/unsolo the channel. Soloing is only relative to other {@link Channel}s and {@link Solo} instances\n     */\n    get solo() {\n        return this._solo.solo;\n    }\n    set solo(solo) {\n        this._solo.solo = solo;\n    }\n    /**\n     * If the current instance is muted, i.e. another instance is soloed,\n     * or the channel is muted\n     */\n    get muted() {\n        return this._solo.muted || this.mute;\n    }\n    /**\n     * Mute/unmute the volume\n     */\n    get mute() {\n        return this._panVol.mute;\n    }\n    set mute(mute) {\n        this._panVol.mute = mute;\n    }\n    /**\n     * Get the gain node belonging to the bus name. Create it if\n     * it doesn't exist\n     * @param name The bus name\n     */\n    _getBus(name) {\n        if (!Channel.buses.has(name)) {\n            Channel.buses.set(name, new Gain({ context: this.context }));\n        }\n        return Channel.buses.get(name);\n    }\n    /**\n     * Send audio to another channel using a string. `send` is a lot like\n     * {@link connect}, except it uses a string instead of an object. This can\n     * be useful in large applications to decouple sections since {@link send}\n     * and {@link receive} can be invoked separately in order to connect an object\n     * @param name The channel name to send the audio\n     * @param volume The amount of the signal to send.\n     * \tDefaults to 0db, i.e. send the entire signal\n     * @returns Returns the gain node of this connection.\n     */\n    send(name, volume = 0) {\n        const bus = this._getBus(name);\n        const sendKnob = new Gain({\n            context: this.context,\n            units: \"decibels\",\n            gain: volume,\n        });\n        this.connect(sendKnob);\n        sendKnob.connect(bus);\n        return sendKnob;\n    }\n    /**\n     * Receive audio from a channel which was connected with {@link send}.\n     * @param name The channel name to receive audio from.\n     */\n    receive(name) {\n        const bus = this._getBus(name);\n        bus.connect(this);\n        return this;\n    }\n    dispose() {\n        super.dispose();\n        this._panVol.dispose();\n        this.pan.dispose();\n        this.volume.dispose();\n        this._solo.dispose();\n        return this;\n    }\n}\n/**\n * Store the send/receive channels by name.\n */\nChannel.buses = new Map();\n//# sourceMappingURL=Channel.js.map","export { getContext, setContext } from \"./core/Global.js\";\nexport * from \"./classes.js\";\nexport * from \"./version.js\";\nimport { getContext } from \"./core/Global.js\";\nimport { ToneAudioBuffer } from \"./core/context/ToneAudioBuffer.js\";\nexport { start } from \"./core/Global.js\";\nexport { supported } from \"./core/context/AudioContext.js\";\n/**\n * The current audio context time of the global {@link BaseContext}.\n * @see {@link Context.now}\n * @category Core\n */\nexport function now() {\n    return getContext().now();\n}\n/**\n * The current audio context time of the global {@link Context} without the {@link Context.lookAhead}\n * @see {@link Context.immediate}\n * @category Core\n */\nexport function immediate() {\n    return getContext().immediate();\n}\n/**\n * The Transport object belonging to the global Tone.js Context.\n * @see {@link TransportClass}\n * @category Core\n * @deprecated Use {@link getTransport} instead\n */\nexport const Transport = getContext().transport;\n/**\n * The Transport object belonging to the global Tone.js Context.\n * @see {@link TransportClass}\n * @category Core\n */\nexport function getTransport() {\n    return getContext().transport;\n}\n/**\n * The Destination (output) belonging to the global Tone.js Context.\n * @see {@link DestinationClass}\n * @category Core\n * @deprecated Use {@link getDestination} instead\n */\nexport const Destination = getContext().destination;\n/**\n * @deprecated Use {@link getDestination} instead\n */\nexport const Master = getContext().destination;\n/**\n * The Destination (output) belonging to the global Tone.js Context.\n * @see {@link DestinationClass}\n * @category Core\n */\nexport function getDestination() {\n    return getContext().destination;\n}\n/**\n * The {@link ListenerClass} belonging to the global Tone.js Context.\n * @category Core\n * @deprecated Use {@link getListener} instead\n */\nexport const Listener = getContext().listener;\n/**\n * The {@link ListenerClass} belonging to the global Tone.js Context.\n * @category Core\n */\nexport function getListener() {\n    return getContext().listener;\n}\n/**\n * Draw is used to synchronize the draw frame with the Transport's callbacks.\n * @see {@link DrawClass}\n * @category Core\n * @deprecated Use {@link getDraw} instead\n */\nexport const Draw = getContext().draw;\n/**\n * Get the singleton attached to the global context.\n * Draw is used to synchronize the draw frame with the Transport's callbacks.\n * @see {@link DrawClass}\n * @category Core\n */\nexport function getDraw() {\n    return getContext().draw;\n}\n/**\n * A reference to the global context\n * @see {@link Context}\n * @deprecated Use {@link getContext} instead\n */\nexport const context = getContext();\n/**\n * Promise which resolves when all of the loading promises are resolved.\n * Alias for static {@link ToneAudioBuffer.loaded} method.\n * @category Core\n */\nexport function loaded() {\n    return ToneAudioBuffer.loaded();\n}\n// this fills in name changes from 13.x to 14.x\nimport { ToneAudioBuffers } from \"./core/context/ToneAudioBuffers.js\";\nimport { ToneBufferSource } from \"./source/buffer/ToneBufferSource.js\";\n/** @deprecated Use {@link ToneAudioBuffer} */\nexport const Buffer = ToneAudioBuffer;\n/** @deprecated Use {@link ToneAudioBuffers} */\nexport const Buffers = ToneAudioBuffers;\n/** @deprecated Use {@link ToneBufferSource} */\nexport const BufferSource = ToneBufferSource;\n//# sourceMappingURL=index.js.map","/**\n * Virtual Keyboard Component\n * Simulates MIDI input for testing sight reading practice\n * Uses Tone.js for audio synthesis\n */\n\nimport { useEffect, useCallback, useState, useRef } from 'react';\nimport * as Tone from 'tone';\nimport { Button } from '@hudak/ui/components/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Badge } from '@hudak/ui/components/badge';\nimport { Piano } from 'lucide-react';\n\ninterface VirtualKeyboardProps {\n  onNotePlay: (midiNote: number, noteName: string) => void;\n  enabled?: boolean;\n  startOctave?: number;\n  octaveCount?: number;\n}\n\nconst NOTE_NAMES = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n\n// Keyboard mapping for computer keys to piano keys\nconst KEY_TO_NOTE_OFFSET: Record<string, number> = {\n  // White keys (lower row)\n  'z': 0,  // C\n  'x': 2,  // D\n  'c': 4,  // E\n  'v': 5,  // F\n  'b': 7,  // G\n  'n': 9,  // A\n  'm': 11, // B\n  // Black keys (upper row)\n  's': 1,  // C#\n  'd': 3,  // D#\n  'g': 6,  // F#\n  'h': 8,  // G#\n  'j': 10, // A#\n};\n\nexport function VirtualKeyboard({\n  onNotePlay,\n  enabled = true,\n  startOctave = 4,\n  octaveCount = 2\n}: VirtualKeyboardProps) {\n  const [isAudioReady, setIsAudioReady] = useState(false);\n  const [activeNotes, setActiveNotes] = useState<Set<number>>(new Set());\n\n  // Initialize Tone.js synth with a piano-like sound\n  const synthRef = useRef<Tone.PolySynth | null>(null);\n\n  // Initialize audio context and synth\n  useEffect(() => {\n    const initAudio = async () => {\n      try {\n        // Create a polyphonic synth for multiple simultaneous notes\n        synthRef.current = new Tone.PolySynth(Tone.Synth, {\n          oscillator: {\n            type: 'triangle'\n          },\n          envelope: {\n            attack: 0.005,\n            decay: 0.1,\n            sustain: 0.3,\n            release: 1\n          }\n        }).toDestination();\n\n        setIsAudioReady(true);\n      } catch (error) {\n        console.error('Failed to initialize audio:', error);\n      }\n    };\n\n    void initAudio();\n\n    return () => {\n      // Cleanup synth on unmount\n      if (synthRef.current) {\n        synthRef.current.dispose();\n      }\n    };\n  }, []);\n\n  const getMidiNote = (octave: number, noteOffset: number): number => {\n    // MIDI note number: (octave + 1) * 12 + noteOffset\n    // Middle C (C4) is MIDI 60\n    return (octave + 1) * 12 + noteOffset;\n  };\n\n  const getNoteName = (midiNote: number): string => {\n    const noteIndex = midiNote % 12;\n    const octave = Math.floor(midiNote / 12) - 1;\n    return `${NOTE_NAMES[noteIndex]}${octave}`;\n  };\n\n  const playNote = useCallback(async (midiNote: number) => {\n    if (!enabled || !synthRef.current) return;\n\n    // Start audio context on first user interaction\n    if (Tone.getContext().state !== 'running') {\n      await Tone.start();\n    }\n\n    const noteName = getNoteName(midiNote);\n\n    // Convert MIDI note to frequency and play\n    const frequency = Tone.Frequency(midiNote, 'midi').toFrequency();\n    synthRef.current.triggerAttackRelease(frequency, '8n');\n\n    // Visual feedback\n    setActiveNotes(prev => new Set(prev).add(midiNote));\n    setTimeout(() => {\n      setActiveNotes(prev => {\n        const next = new Set(prev);\n        next.delete(midiNote);\n        return next;\n      });\n    }, 200);\n\n    // Notify parent component\n    onNotePlay(midiNote, noteName);\n  }, [enabled, onNotePlay]);\n\n  // Handle computer keyboard input\n  useEffect(() => {\n    if (!enabled) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Prevent repeat events\n      if (e.repeat) return;\n\n      const key = e.key.toLowerCase();\n      const noteOffset = KEY_TO_NOTE_OFFSET[key];\n\n      if (noteOffset !== undefined) {\n        // Use the middle octave of the displayed range\n        const octave = startOctave + Math.floor(octaveCount / 2);\n        const midiNote = getMidiNote(octave, noteOffset);\n        playNote(midiNote);\n        e.preventDefault();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [enabled, startOctave, octaveCount, playNote]);\n\n  const isBlackKey = (noteOffset: number): boolean => {\n    return [1, 3, 6, 8, 10].includes(noteOffset);\n  };\n\n  const renderOctave = (octave: number) => {\n    // Define white key notes and their positions\n    const whiteKeyNotes = [\n      { note: 0, name: 'C' },   // C\n      { note: 2, name: 'D' },   // D\n      { note: 4, name: 'E' },   // E\n      { note: 5, name: 'F' },   // F\n      { note: 7, name: 'G' },   // G\n      { note: 9, name: 'A' },   // A\n      { note: 11, name: 'B' }   // B\n    ];\n\n    // Define black key notes and their positions (relative to white keys)\n    const blackKeyNotes = [\n      { note: 1, name: 'C#', position: 0 },   // Between C and D\n      { note: 3, name: 'D#', position: 1 },   // Between D and E\n      { note: 6, name: 'F#', position: 3 },   // Between F and G\n      { note: 8, name: 'G#', position: 4 },   // Between G and A\n      { note: 10, name: 'A#', position: 5 }   // Between A and B\n    ];\n\n    const whiteKeyWidth = 48; // px\n    const blackKeyWidth = 32; // px\n\n    return (\n      <div key={octave} className=\"relative inline-block\">\n        {/* White keys container */}\n        <div className=\"flex\">\n          {whiteKeyNotes.map(({ note, name }) => {\n            const midiNote = getMidiNote(octave, note);\n            const displayName = `${name}${octave}`;\n            const isActive = activeNotes.has(midiNote);\n\n            return (\n              <button\n                key={`${octave}-${note}`}\n                onClick={() => void playNote(midiNote)}\n                disabled={!enabled}\n                className={`h-40 border border-gray-400 flex flex-col items-center justify-end pb-2 disabled:opacity-50 transition-colors ${\n                  isActive\n                    ? 'bg-blue-200'\n                    : 'bg-white hover:bg-gray-50'\n                }`}\n                style={{ width: `${whiteKeyWidth}px` }}\n              >\n                <span className=\"text-xs font-medium text-gray-700\">\n                  {displayName}\n                </span>\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Black keys container - positioned absolutely over white keys */}\n        <div className=\"absolute top-0 left-0 right-0 h-24 pointer-events-none\">\n          {blackKeyNotes.map(({ note, name, position }) => {\n            const midiNote = getMidiNote(octave, note);\n            const displayName = `${name}${octave}`;\n            const isActive = activeNotes.has(midiNote);\n\n            // Position black key between white keys\n            const leftOffset = position * whiteKeyWidth + whiteKeyWidth - (blackKeyWidth / 2);\n\n            return (\n              <button\n                key={`${octave}-${note}`}\n                onClick={() => void playNote(midiNote)}\n                disabled={!enabled}\n                className={`absolute h-24 border border-gray-800 pointer-events-auto disabled:opacity-50 transition-colors ${\n                  isActive\n                    ? 'bg-gray-600'\n                    : 'bg-black hover:bg-gray-800'\n                }`}\n                style={{\n                  width: `${blackKeyWidth}px`,\n                  left: `${leftOffset}px`\n                }}\n              >\n                <span className=\"text-[10px] font-medium text-gray-300 block mt-auto mb-1\">\n                  {displayName}\n                </span>\n              </button>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const octaves = Array.from({ length: octaveCount }, (_, i) => startOctave + i);\n\n  return (\n    <Card className=\"w-full\">\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Piano className=\"h-5 w-5\" />\n            <CardTitle className=\"text-lg\">Virtual Keyboard</CardTitle>\n          </div>\n          <div className=\"flex gap-2\">\n            <Badge variant={isAudioReady ? \"default\" : \"secondary\"}>\n              {isAudioReady ? \"Audio Ready\" : \"Loading Audio\"}\n            </Badge>\n            <Badge variant={enabled ? \"default\" : \"secondary\"}>\n              {enabled ? \"Active\" : \"Disabled\"}\n            </Badge>\n          </div>\n        </div>\n        <p className=\"text-sm text-muted-foreground mt-2\">\n          Click keys or use computer keyboard: Z-M for white keys, S-D-G-H-J for black keys\n        </p>\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex overflow-x-auto pb-2\">\n          {octaves.map(octave => renderOctave(octave))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","interface RadialTimerProps {\n  timeLeft: number;\n  maxTime: number;\n}\n\nexport function RadialTimer({ timeLeft, maxTime }: RadialTimerProps) {\n  const percentage = (timeLeft / maxTime) * 100;\n  const radius = 52;\n  const circumference = 2 * Math.PI * radius;\n  const strokeDashoffset = circumference - (percentage / 100) * circumference;\n\n  const isLow = percentage < 30;\n  const isMedium = percentage < 60 && percentage >= 30;\n\n  return (\n    <div className=\"relative\">\n      <svg width=\"130\" height=\"130\" viewBox=\"0 0 130 130\" className=\"transform -rotate-90\">\n        <circle\n          cx=\"65\"\n          cy=\"65\"\n          r={radius}\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"10\"\n          className=\"text-muted/30\"\n        />\n        <circle\n          cx=\"65\"\n          cy=\"65\"\n          r={radius}\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"10\"\n          strokeDasharray={circumference}\n          strokeDashoffset={strokeDashoffset}\n          strokeLinecap=\"round\"\n          className={`transition-all duration-100 ${\n            isLow ? 'text-red-500' : isMedium ? 'text-amber-500' : 'text-emerald-500'\n          }`}\n        />\n      </svg>\n      <div className=\"absolute inset-0 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className={`text-3xl font-bold tabular-nums ${isLow ? 'text-red-500 animate-pulse' : ''}`}>\n            {Math.ceil(timeLeft)}\n          </div>\n          <div className=\"text-xs text-muted-foreground uppercase tracking-wider\">sec</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Lives Display Component\n * Shows hearts representing remaining lives with animations\n */\n\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Heart } from 'lucide-react';\n\ninterface LivesDisplayProps {\n  lives: number;\n  maxLives: number;\n  className?: string;\n}\n\nexport function LivesDisplay({ lives, maxLives = 3, className = '' }: LivesDisplayProps) {\n  return (\n    <div className={`flex items-center gap-1 ${className}`}>\n      {[...Array(maxLives)].map((_, index) => {\n        const isAlive = index < lives;\n        const isLastLife = lives === 1 && index === 0;\n\n        return (\n          <motion.div\n            key={index}\n            initial={{ scale: 1 }}\n            animate={{\n              scale: isLastLife ? [1, 1.2, 1] : 1,\n              rotate: isLastLife ? [0, -10, 10, 0] : 0,\n            }}\n            transition={{\n              duration: 0.5,\n              repeat: isLastLife ? Infinity : 0,\n              repeatDelay: 0.5,\n            }}\n          >\n            <AnimatePresence mode=\"wait\">\n              {isAlive ? (\n                <motion.div\n                  key=\"alive\"\n                  initial={{ scale: 1 }}\n                  exit={{ scale: 0, rotate: -90, opacity: 0 }}\n                  transition={{\n                    type: 'spring',\n                    stiffness: 500,\n                    damping: 15,\n                  }}\n                >\n                  <Heart\n                    className={`h-6 w-6 ${\n                      isLastLife\n                        ? 'fill-red-500 text-red-500'\n                        : 'fill-red-400 text-red-400'\n                    }`}\n                  />\n                </motion.div>\n              ) : (\n                <motion.div\n                  key=\"lost\"\n                  initial={{ scale: 0, opacity: 0 }}\n                  animate={{ scale: 1, opacity: 1 }}\n                  transition={{\n                    type: 'spring',\n                    stiffness: 300,\n                    damping: 20,\n                  }}\n                >\n                  <Heart className=\"h-6 w-6 text-gray-300 dark:text-gray-600\" />\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </motion.div>\n        );\n      })}\n      <span className=\"ml-2 text-sm font-medium text-muted-foreground\">\n        {lives}/{maxLives}\n      </span>\n    </div>\n  );\n}\n","import { Trophy, Flame, Target } from 'lucide-react';\nimport type { GameMode } from '../../hooks/use-game-round';\nimport { LivesDisplay } from '../lives-display';\nimport type { GameRoundState } from '../../hooks/use-game-round';\n\ninterface PracticeStats {\n  correct: number;\n  incorrect: number;\n  streak: number;\n}\n\ninterface ScoreHudProps {\n  gameMode: GameMode;\n  roundState: GameRoundState;\n  stats: PracticeStats;\n}\n\nexport function ScoreHud({ gameMode, roundState, stats }: ScoreHudProps) {\n  return (\n    <div className=\"flex items-center justify-between px-4\">\n      <div className=\"flex items-center gap-8\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 rounded-full bg-amber-500/20\">\n            <Trophy className=\"h-5 w-5 text-amber-500\" />\n          </div>\n          <div>\n            <div className=\"text-xs text-muted-foreground uppercase tracking-wider\">Score</div>\n            <div className=\"text-2xl font-bold tabular-nums\">\n              {gameMode === 'timed' ? (roundState.currentScore?.finalScore || 0) : stats.correct * 10}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 rounded-full bg-orange-500/20\">\n            <Flame className=\"h-5 w-5 text-orange-500\" />\n          </div>\n          <div>\n            <div className=\"text-xs text-muted-foreground uppercase tracking-wider\">Streak</div>\n            <div className=\"flex items-baseline gap-2\">\n              <span className=\"text-2xl font-bold tabular-nums\">\n                {gameMode === 'timed' ? roundState.streak : stats.streak}\n              </span>\n              {stats.streak >= 3 && (\n                <span className=\"text-xs text-orange-500\"></span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-8\">\n        {gameMode === 'timed' && roundState.isActive ? (\n          <>\n            <LivesDisplay lives={roundState.lives} maxLives={roundState.maxLives} />\n            <div className=\"text-center\">\n              <div className=\"text-xs text-muted-foreground uppercase tracking-wider\">Progress</div>\n              <div className=\"text-2xl font-bold text-blue-500\">\n                {roundState.notesCompleted}/{roundState.notesRequired}\n              </div>\n            </div>\n          </>\n        ) : (\n          <>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-full bg-emerald-500/20\">\n                <Target className=\"h-5 w-5 text-emerald-500\" />\n              </div>\n              <div>\n                <div className=\"text-xs text-muted-foreground uppercase tracking-wider\">Correct</div>\n                <div className=\"text-2xl font-bold tabular-nums text-emerald-500\">{stats.correct}</div>\n              </div>\n            </div>\n            <div>\n              <div className=\"text-xs text-muted-foreground uppercase tracking-wider\">Incorrect</div>\n              <div className=\"text-2xl font-bold tabular-nums text-red-500\">{stats.incorrect}</div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([array(selector)], root);\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export const linear = t => +t;\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n","import {max, tau} from \"./math.js\";\n\nfunction range(i, j) {\n  return Array.from({length: j - i}, (_, k) => i + k);\n}\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  return chord(false, false);\n}\n\nexport function chordTranspose() {\n  return chord(false, true);\n}\n\nexport function chordDirected() {\n  return chord(true, false);\n}\n\nfunction chord(directed, transpose) {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = new Array(n),\n        groupIndex = range(0, n),\n        chords = new Array(n * n),\n        groups = new Array(n),\n        k = 0, dx;\n\n    matrix = Float64Array.from({length: n * n}, transpose\n        ? (_, i) => matrix[i % n][i / n | 0]\n        : (_, i) => matrix[i / n | 0][i % n]);\n\n    // Compute the scaling factor from value to angle in [0, 2pi].\n    for (let i = 0; i < n; ++i) {\n      let x = 0;\n      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];\n      k += groupSums[i] = x;\n    }\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the angles for each group and constituent chord.\n    {\n      let x = 0;\n      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));\n      for (const i of groupIndex) {\n        const x0 = x;\n        if (directed) {\n          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            if (j < 0) {\n              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};\n            } else {\n              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        } else {\n          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            let chord;\n            if (i < j) {\n              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            } else {\n              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n              if (i === j) chord.source = chord.target;\n            }\n            if (chord.source && chord.target && chord.source.value < chord.target.value) {\n              const source = chord.source;\n              chord.source = chord.target;\n              chord.target = source;\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        }\n        x += dx;\n      }\n    }\n\n    // Remove empty chords.\n    chords = Object.values(chords);\n    chords.groups = groups;\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(a, b) {\n  return a - b;\n}\n","export default function(ring) {\n  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n","export default x => () => x;\n","export default function(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","export default function() {}\n","import {extent, nice, thresholdSturges, ticks} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      const e = extent(values, finite);\n      tz = ticks(...nice(e[0], e[1], tz), tz);\n      while (tz[tz.length - 1] >= e[1]) tz.pop();\n      while (tz[1] < e[0]) tz.shift();\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(value => contour(values, value));\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    const v = value == null ? NaN : +value;\n    if (isNaN(v)) throw new Error(`invalid value: ${value}`);\n\n    var polygons = [],\n        holes = [];\n\n    isorings(values, v, function(ring) {\n      smooth(ring, values, v);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = above(values[0], value);\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = above(values[x + 1], value);\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = above(values[y * dx + dx], value);\n      t2 = above(values[y * dx], value);\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = above(values[y * dx + dx + x + 1], value);\n        t3 = t2, t2 = above(values[y * dx + x + 1], value);\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = above(values[y * dx + x + 1], value);\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v1 = valid(values[yt * dx + xt]);\n      if (x > 0 && x < dx && xt === x) {\n        point[0] = smooth1(x, valid(values[yt * dx + xt - 1]), v1, value);\n      }\n      if (y > 0 && y < dy && yt === y) {\n        point[1] = smooth1(y, valid(values[(yt - 1) * dx + xt]), v1, value);\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n\n// When computing the extent, ignore infinite values (as well as invalid ones).\nfunction finite(x) {\n  return isFinite(x) ? x : NaN;\n}\n\n// Is the (possibly invalid) x greater than or equal to the (known valid) value?\n// Treat any invalid value as below negative infinity.\nfunction above(x, value) {\n  return x == null ? false : +x >= value;\n}\n\n// During smoothing, treat any invalid value as negative infinity.\nfunction valid(v) {\n  return v == null || isNaN(v = +v) ? -Infinity : v;\n}\n\nfunction smooth1(x, v0, v1, value) {\n  const a = value - v0;\n  const b = v1 - v0;\n  const d = isFinite(a) || isFinite(b) ? a / b : Math.sign(a) / Math.sign(b);\n  return isNaN(d) ? x : x + d - 0.5;\n}\n","import {blur2, max, ticks} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport Contours from \"./contours.js\";\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nexport default function() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20, // blur radius\n      k = 2, // log2(grid cell size)\n      o = r * 3, // grid offset, to pad for blur\n      n = (dx + o * 2) >> k, // grid width\n      m = (dy + o * 2) >> k, // grid height\n      threshold = constant(20);\n\n  function grid(data) {\n    var values = new Float32Array(n * m),\n        pow2k = Math.pow(2, -k),\n        i = -1;\n\n    for (const d of data) {\n      var xi = (x(d, ++i, data) + o) * pow2k,\n          yi = (y(d, i, data) + o) * pow2k,\n          wi = +weight(d, i, data);\n      if (wi && xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        var x0 = Math.floor(xi),\n            y0 = Math.floor(yi),\n            xt = xi - x0 - 0.5,\n            yt = yi - y0 - 0.5;\n        values[x0 + y0 * n] += (1 - xt) * (1 - yt) * wi;\n        values[x0 + 1 + y0 * n] += xt * (1 - yt) * wi;\n        values[x0 + 1 + (y0 + 1) * n] += xt * yt * wi;\n        values[x0 + (y0 + 1) * n] += (1 - xt) * yt * wi;\n      }\n    }\n\n    blur2({data: values, width: n, height: m}, r * pow2k);\n    return values;\n  }\n\n  function density(data) {\n    var values = grid(data),\n        tz = threshold(values),\n        pow4k = Math.pow(2, 2 * k);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = ticks(Number.MIN_VALUE, max(values) / pow4k, tz);\n    }\n\n    return Contours()\n        .size([n, m])\n        .thresholds(tz.map(d => d * pow4k))\n      (values)\n        .map((c, i) => (c.value = +tz[i], transform(c)));\n  }\n\n  density.contours = function(data) {\n    var values = grid(data),\n        contours = Contours().size([n, m]),\n        pow4k = Math.pow(2, 2 * k),\n        contour = value => {\n          value = +value;\n          var c = transform(contours.contour(values, value * pow4k));\n          c.value = value; // preserve exact threshold value\n          return c;\n        };\n    Object.defineProperty(contour, \"max\", {get: () => max(values) / pow4k});\n    return contour;\n  };\n\n  function transform(geometry) {\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  }\n\n  // TODO Optimize.\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = (dx + o * 2) >> k;\n    m = (dy + o * 2) >> k;\n    return density;\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : constant(+_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = +_[0], _1 = +_[1];\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), density) : threshold;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = (Math.sqrt(4 * _ * _ + 1) - 1) / 2, resize();\n  };\n\n  return density;\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nimport {orient2d} from 'robust-predicates';\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0, minDist = Infinity; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        // find the point closest to the seed\n        for (let i = 0, minDist = Infinity; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                const d = this._dists[id];\n                if (d > d0) {\n                    hull[j++] = id;\n                    d0 = d;\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], orient2d(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient2d(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient2d(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n    let bx, by; // lazily computed barycenter of the hull\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (Math.abs(ab) < 1e-9) {\n        // For a degenerate triangle, the circumcenter is at the infinity, in a\n        // direction orthogonal to the halfedge and away from the center of\n        // the diagram <bx, by>, defined as the hulls barycenter.\n        if (bx === undefined) {\n          bx = by = 0;\n          for (const i of hull) bx += points[i * 2], by += points[i * 2 + 1];\n          bx /= hull.length, by /= hull.length;\n        }\n        const a = 1e9 * Math.sign((bx - x1) * ey - (by - y1) * ex);\n        x = (x1 + x3) / 2 - a * ey;\n        y = (y1 + y3) / 2 + a * ex;\n      } else {\n        const d = 1 / ab;\n        const bl = dx * dx + dy * dy;\n        const cl = ex * ex + ey * ey;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] === cj[aj]\n              && ci[ai + 1] === cj[aj + 1]\n              && ci[(ai + 2) % li] === cj[(aj + lj - 2) % lj]\n              && ci[(ai + 3) % li] === cj[(aj + lj - 1) % lj]) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return this._simplify(V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points));\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1 = 0;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    // for more robustness, always consider the segment in the same order\n    const flip = c0 < c1;\n    if (flip) [x0, y0, x1, y1, c0, c1] = [x1, y1, x0, y0, c1, c0];\n    while (true) {\n      if (c0 === 0 && c1 === 0) return flip ? [x1, y1, x0, y0] : [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n      // undefined, the conditional statement will be executed.\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n  _simplify(P) {\n    if (P && P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k] || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1]) {\n          P.splice(j, 2), i -= 2;\n        }\n      }\n      if (!P.length) P = null;\n    }\n    return P;\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) {\n        inedges[hull[1]] = 0;\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n      }\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r) {\n    if (r === undefined && (!context || typeof context.moveTo !== \"function\")) r = context, context = null;\n    r = r == undefined ? 2 : +r;\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text.js\";\n\nfunction parser(type) {\n  return (input, init) => text(input, init)\n    .then(text => (new DOMParser).parseFromString(text, type));\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import {Adder} from \"d3-array\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum,\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum = new Adder();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default x => x;\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n","import {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\nimport lcg from \"../lcg.js\";\nimport {packSiblingsRandom} from \"./siblings.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    const random = lcg();\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildrenRandom(padding, 0.5, random))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildrenRandom(constantZero, 1, random))\n          .eachAfter(packChildrenRandom(padding, root.r / Math.min(dx, dy), random))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildrenRandom(padding, k, random) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packSiblingsRandom(children, random);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\"  \"/foo\", \"/foo\"  \"/\", \"/\"  \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  const n = points.length,\n      indexes = [0, 1];\n  let size = 2, i;\n\n  for (i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.hypot(xa, ya);\n  }\n\n  return perimeter;\n}\n","export default Math.random;\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _react = require(\"react\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isDeepEquals = function isDeepEquals(toCompare, reference) {\n  return (0, _isEqual.default)(toCompare, reference);\n};\n\nvar useDeepCompareMemo = function useDeepCompareMemo(dependencies) {\n  var ref = (0, _react.useRef)(null);\n\n  if (isDeepEquals(dependencies, ref.current)) {\n    ref.current = dependencies;\n  }\n\n  return ref.current;\n}; // this function compares deeply new dependencies with old one\n// It works like useEffect but we are using isEqual from lodash to compares deeply\n\n\nvar useDeepCompareEffect = function useDeepCompareEffect(callback, dependencies) {\n  (0, _react.useEffect)(callback, [useDeepCompareMemo(dependencies), callback]);\n};\n\nvar _default = useDeepCompareEffect;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _d = require(\"d3\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _customHooks = _interopRequireDefault(require(\"./customHooks\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/*\nGaugeChart creates a gauge chart using D3\nThe chart is responsive and will have the same width as the \"container\"\nThe radius of the gauge depends on the width and height of the container\nIt will use whichever is smallest of width or height\nThe svg element surrounding the gauge will always be square\n\"container\" is the div where the chart should be placed\n*/\n//Constants\nvar startAngle = -Math.PI / 2; //Negative x-axis\n\nvar endAngle = Math.PI / 2; //Positive x-axis\n\nvar defaultStyle = {\n  width: \"100%\"\n}; // Props that should cause an animation on update\n\nvar animateNeedleProps = [\"marginInPercent\", \"arcPadding\", \"percent\", \"nrOfLevels\", \"animDelay\"];\n\nvar GaugeChart = function GaugeChart(props) {\n  var svg = (0, _react.useRef)({});\n  var g = (0, _react.useRef)({});\n  var width = (0, _react.useRef)({});\n  var height = (0, _react.useRef)({});\n  var doughnut = (0, _react.useRef)({});\n  var needle = (0, _react.useRef)({});\n  var outerRadius = (0, _react.useRef)({});\n  var margin = (0, _react.useRef)({}); // = {top: 20, right: 50, bottom: 50, left: 50},\n\n  var container = (0, _react.useRef)({});\n  var nbArcsToDisplay = (0, _react.useRef)(0);\n  var colorArray = (0, _react.useRef)([]);\n  var arcChart = (0, _react.useRef)((0, _d.arc)());\n  var arcData = (0, _react.useRef)([]);\n  var pieChart = (0, _react.useRef)((0, _d.pie)());\n  var prevProps = (0, _react.useRef)(props);\n  var selectedRef = (0, _react.useRef)({});\n  var initChart = (0, _react.useCallback)(function (update) {\n    var resize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var prevProps = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (update) {\n      renderChart(resize, prevProps, width, margin, height, outerRadius, g, doughnut, arcChart, needle, pieChart, svg, props, container, arcData);\n      return;\n    }\n\n    container.current.select(\"svg\").remove();\n    svg.current = container.current.append(\"svg\");\n    g.current = svg.current.append(\"g\"); //Used for margins\n\n    doughnut.current = g.current.append(\"g\").attr(\"class\", \"doughnut\"); //Set up the pie generator\n    //Each arc should be of equal length (or should they?)\n\n    pieChart.current.value(function (d) {\n      return d.value;\n    }) //.padAngle(arcPadding)\n    .startAngle(startAngle).endAngle(endAngle).sort(null); //Add the needle element\n\n    needle.current = g.current.append(\"g\").attr(\"class\", \"needle\");\n    renderChart(resize, prevProps, width, margin, height, outerRadius, g, doughnut, arcChart, needle, pieChart, svg, props, container, arcData);\n  }, [props]);\n  (0, _react.useLayoutEffect)(function () {\n    setArcData(props, nbArcsToDisplay, colorArray, arcData);\n    container.current = (0, _d.select)(selectedRef); //Initialize chart\n\n    initChart();\n  }, [props, initChart]);\n  (0, _customHooks.default)(function () {\n    if (props.nrOfLevels || prevProps.current.arcsLength.every(function (a) {\n      return props.arcsLength.includes(a);\n    }) || prevProps.current.colors.every(function (a) {\n      return props.colors.includes(a);\n    })) {\n      setArcData(props, nbArcsToDisplay, colorArray, arcData);\n    } //Initialize chart\n    // Always redraw the chart, but potentially do not animate it\n\n\n    var resize = !animateNeedleProps.some(function (key) {\n      return prevProps.current[key] !== props[key];\n    });\n    initChart(true, resize, prevProps.current);\n    prevProps.current = props;\n  }, [props.nrOfLevels, props.arcsLength, props.colors, props.percent, props.needleColor, props.needleBaseColor]);\n  (0, _react.useEffect)(function () {\n    var handleResize = function handleResize() {\n      var resize = true;\n      renderChart(resize, prevProps, width, margin, height, outerRadius, g, doughnut, arcChart, needle, pieChart, svg, props, container, arcData);\n    }; //Set up resize event listener to re-render the chart everytime the window is resized\n\n\n    window.addEventListener(\"resize\", handleResize);\n    return function () {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [props]);\n  var id = props.id,\n      style = props.style,\n      className = props.className;\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    id: id,\n    className: className,\n    style: style,\n    ref: function ref(svg) {\n      return selectedRef = svg;\n    }\n  });\n};\n\nvar _default = GaugeChart;\nexports.default = _default;\nGaugeChart.defaultProps = {\n  style: defaultStyle,\n  marginInPercent: 0.05,\n  cornerRadius: 6,\n  nrOfLevels: 3,\n  percent: 0.4,\n  arcPadding: 0.05,\n  //The padding between arcs, in rad\n  arcWidth: 0.2,\n  //The width of the arc given in percent of the radius\n  colors: [\"#00FF00\", \"#FF0000\"],\n  //Default defined colors\n  textColor: \"#fff\",\n  needleColor: \"#464A4F\",\n  needleBaseColor: \"#464A4F\",\n  hideText: false,\n  animate: true,\n  animDelay: 500,\n  formatTextValue: null,\n  fontSize: null,\n  animateDuration: 3000\n};\nGaugeChart.propTypes = {\n  id: _propTypes.default.string,\n  className: _propTypes.default.string,\n  style: _propTypes.default.object,\n  marginInPercent: _propTypes.default.number,\n  cornerRadius: _propTypes.default.number,\n  nrOfLevels: _propTypes.default.number,\n  percent: _propTypes.default.number,\n  arcPadding: _propTypes.default.number,\n  arcWidth: _propTypes.default.number,\n  arcsLength: _propTypes.default.array,\n  colors: _propTypes.default.array,\n  textColor: _propTypes.default.string,\n  needleColor: _propTypes.default.string,\n  needleBaseColor: _propTypes.default.string,\n  hideText: _propTypes.default.bool,\n  animate: _propTypes.default.bool,\n  formatTextValue: _propTypes.default.func,\n  fontSize: _propTypes.default.string,\n  animateDuration: _propTypes.default.number,\n  animDelay: _propTypes.default.number\n}; // This function update arc's datas when component is mounting or when one of arc's props is updated\n\nvar setArcData = function setArcData(props, nbArcsToDisplay, colorArray, arcData) {\n  // We have to make a decision about number of arcs to display\n  // If arcsLength is setted, we choose arcsLength length instead of nrOfLevels\n  nbArcsToDisplay.current = props.arcsLength ? props.arcsLength.length : props.nrOfLevels; //Check if the number of colors equals the number of levels\n  //Otherwise make an interpolation\n\n  if (nbArcsToDisplay.current === props.colors.length) {\n    colorArray.current = props.colors;\n  } else {\n    colorArray.current = getColors(props, nbArcsToDisplay);\n  } //The data that is used to create the arc\n  // Each arc could have hiw own value width arcsLength prop\n\n\n  arcData.current = [];\n\n  for (var i = 0; i < nbArcsToDisplay.current; i++) {\n    var arcDatum = {\n      value: props.arcsLength && props.arcsLength.length > i ? props.arcsLength[i] : 1,\n      color: colorArray.current[i]\n    };\n    arcData.current.push(arcDatum);\n  }\n}; //Renders the chart, should be called every time the window is resized\n\n\nvar renderChart = function renderChart(resize, prevProps, width, margin, height, outerRadius, g, doughnut, arcChart, needle, pieChart, svg, props, container, arcData) {\n  updateDimensions(props, container, margin, width, height); //Set dimensions of svg element and translations\n\n  svg.current.attr(\"width\", width.current + margin.current.left + margin.current.right).attr(\"height\", height.current + margin.current.top + margin.current.bottom);\n  g.current.attr(\"transform\", \"translate(\" + margin.current.left + \", \" + margin.current.top + \")\"); //Set the radius to lesser of width or height and remove the margins\n  //Calculate the new radius\n\n  calculateRadius(width, height, outerRadius, margin, g);\n  doughnut.current.attr(\"transform\", \"translate(\" + outerRadius.current + \", \" + outerRadius.current + \")\"); //Setup the arc\n\n  arcChart.current.outerRadius(outerRadius.current).innerRadius(outerRadius.current * (1 - props.arcWidth)).cornerRadius(props.cornerRadius).padAngle(props.arcPadding); //Remove the old stuff\n\n  doughnut.current.selectAll(\".arc\").remove();\n  needle.current.selectAll(\"*\").remove();\n  g.current.selectAll(\".text-group\").remove(); //Draw the arc\n\n  var arcPaths = doughnut.current.selectAll(\".arc\").data(pieChart.current(arcData.current)).enter().append(\"g\").attr(\"class\", \"arc\");\n  arcPaths.append(\"path\").attr(\"d\", arcChart.current).style(\"fill\", function (d) {\n    return d.data.color;\n  });\n  drawNeedle(resize, prevProps, props, width, needle, container, outerRadius, g); //Translate the needle starting point to the middle of the arc\n\n  needle.current.attr(\"transform\", \"translate(\" + outerRadius.current + \", \" + outerRadius.current + \")\");\n}; //Depending on the number of levels in the chart\n//This function returns the same number of colors\n\n\nvar getColors = function getColors(props, nbArcsToDisplay) {\n  var colors = props.colors;\n  var colorScale = (0, _d.scaleLinear)().domain([1, nbArcsToDisplay.current]).range([colors[0], colors[colors.length - 1]]) //Use the first and the last color as range\n  .interpolate(_d.interpolateHsl);\n  var colorArray = [];\n\n  for (var i = 1; i <= nbArcsToDisplay.current; i++) {\n    colorArray.push(colorScale(i));\n  }\n\n  return colorArray;\n}; //If 'resize' is true then the animation does not play\n\n\nvar drawNeedle = function drawNeedle(resize, prevProps, props, width, needle, container, outerRadius, g) {\n  var percent = props.percent,\n      needleColor = props.needleColor,\n      needleBaseColor = props.needleBaseColor,\n      hideText = props.hideText,\n      animate = props.animate;\n  var needleRadius = 15 * (width.current / 500),\n      // Make the needle radius responsive\n  centerPoint = [0, -needleRadius / 2]; //Draw the triangle\n  //var pathStr = `M ${leftPoint[0]} ${leftPoint[1]} L ${topPoint[0]} ${topPoint[1]} L ${rightPoint[0]} ${rightPoint[1]}`;\n\n  var prevPercent = prevProps ? prevProps.percent : 0;\n  var pathStr = calculateRotation(prevPercent || percent, outerRadius, width);\n  needle.current.append(\"path\").attr(\"d\", pathStr).attr(\"fill\", needleColor); //Add a circle at the bottom of needle\n\n  needle.current.append(\"circle\").attr(\"cx\", centerPoint[0]).attr(\"cy\", centerPoint[1]).attr(\"r\", needleRadius).attr(\"fill\", needleBaseColor);\n\n  if (!hideText) {\n    addText(percent, props, outerRadius, width, g);\n  } //Rotate the needle\n\n\n  if (!resize && animate) {\n    needle.current.transition().delay(props.animDelay).ease(_d.easeElastic).duration(props.animateDuration).tween(\"progress\", function () {\n      var currentPercent = (0, _d.interpolateNumber)(prevPercent, percent);\n      return function (percentOfPercent) {\n        var progress = currentPercent(percentOfPercent);\n        return container.current.select(\".needle path\").attr(\"d\", calculateRotation(progress, outerRadius, width));\n      };\n    });\n  } else {\n    container.current.select(\".needle path\").attr(\"d\", calculateRotation(percent, outerRadius, width));\n  }\n};\n\nvar calculateRotation = function calculateRotation(percent, outerRadius, width) {\n  var needleLength = outerRadius.current * 0.55,\n      //TODO: Maybe it should be specified as a percentage of the arc radius?\n  needleRadius = 15 * (width.current / 500),\n      theta = percentToRad(percent),\n      centerPoint = [0, -needleRadius / 2],\n      topPoint = [centerPoint[0] - needleLength * Math.cos(theta), centerPoint[1] - needleLength * Math.sin(theta)],\n      leftPoint = [centerPoint[0] - needleRadius * Math.cos(theta - Math.PI / 2), centerPoint[1] - needleRadius * Math.sin(theta - Math.PI / 2)],\n      rightPoint = [centerPoint[0] - needleRadius * Math.cos(theta + Math.PI / 2), centerPoint[1] - needleRadius * Math.sin(theta + Math.PI / 2)];\n  var pathStr = \"M \".concat(leftPoint[0], \" \").concat(leftPoint[1], \" L \").concat(topPoint[0], \" \").concat(topPoint[1], \" L \").concat(rightPoint[0], \" \").concat(rightPoint[1]);\n  return pathStr;\n}; //Returns the angle (in rad) for the given 'percent' value where percent = 1 means 100% and is 180 degree angle\n\n\nvar percentToRad = function percentToRad(percent) {\n  return percent * Math.PI;\n}; //Adds text undeneath the graft to display which percentage is the current one\n\n\nvar addText = function addText(percentage, props, outerRadius, width, g) {\n  var formatTextValue = props.formatTextValue,\n      fontSize = props.fontSize;\n  var textPadding = 20;\n  var text = formatTextValue ? formatTextValue(floatingNumber(percentage)) : floatingNumber(percentage) + \"%\";\n  g.current.append(\"g\").attr(\"class\", \"text-group\").attr(\"transform\", \"translate(\".concat(outerRadius.current, \", \").concat(outerRadius.current / 2 + textPadding, \")\")).append(\"text\").text(text) // this computation avoid text overflow. When formatted value is over 10 characters, we should reduce font size\n  .style(\"font-size\", function () {\n    return fontSize ? fontSize : \"\".concat(width.current / 11 / (text.length > 10 ? text.length / 10 : 1), \"px\");\n  }).style(\"fill\", props.textColor).style(\"text-anchor\", \"middle\");\n};\n\nvar floatingNumber = function floatingNumber(value) {\n  var maxDigits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return Math.round(value * 100 * Math.pow(10, maxDigits)) / Math.pow(10, maxDigits);\n};\n\nvar calculateRadius = function calculateRadius(width, height, outerRadius, margin, g) {\n  //The radius needs to be constrained by the containing div\n  //Since it is a half circle we are dealing with the height of the div\n  //Only needs to be half of the width, because the width needs to be 2 * radius\n  //For the whole arc to fit\n  //First check if it is the width or the height that is the \"limiting\" dimension\n  if (width.current < 2 * height.current) {\n    //Then the width limits the size of the chart\n    //Set the radius to the width - the horizontal margins\n    outerRadius.current = (width.current - margin.current.left - margin.current.right) / 2;\n  } else {\n    outerRadius.current = height.current - margin.current.top - margin.current.bottom;\n  }\n\n  centerGraph(width, g, outerRadius, margin);\n}; //Calculates new margins to make the graph centered\n\n\nvar centerGraph = function centerGraph(width, g, outerRadius, margin) {\n  margin.current.left = width.current / 2 - outerRadius.current + margin.current.right;\n  g.current.attr(\"transform\", \"translate(\" + margin.current.left + \", \" + margin.current.top + \")\");\n};\n\nvar updateDimensions = function updateDimensions(props, container, margin, width, height) {\n  //TODO: Fix so that the container is included in the component\n  var marginInPercent = props.marginInPercent;\n  var divDimensions = container.current.node().getBoundingClientRect(),\n      divWidth = divDimensions.width,\n      divHeight = divDimensions.height; //Set the new width and horizontal margins\n\n  margin.current.left = divWidth * marginInPercent;\n  margin.current.right = divWidth * marginInPercent;\n  width.current = divWidth - margin.current.left - margin.current.right;\n  margin.current.top = divHeight * marginInPercent;\n  margin.current.bottom = divHeight * marginInPercent;\n  height.current = width.current / 2 - margin.current.top - margin.current.bottom; //height.current = divHeight - margin.current.top - margin.current.bottom;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _GaugeChart = _interopRequireDefault(require(\"./GaugeChart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = _GaugeChart.default;\nexports.default = _default;","import React, { useState, useRef, useEffect, useMemo } from 'react';\nimport GaugeChart from 'react-gauge-chart';\nimport { jsxs, jsx } from 'react/jsx-runtime';\n\n// src/components/pitch-gauge.tsx\nvar mapCentsToPercent = (cents) => {\n  const clampedCents = Math.max(-50, Math.min(50, cents));\n  return (clampedCents + 50) / 100;\n};\nvar smoothValue = (current, target, alpha = 0.3) => {\n  return current + (target - current) * alpha;\n};\nvar FLAT_COLOR = \"#ef4444\";\nvar INTUNE_COLOR = \"#10b981\";\nvar SHARP_COLOR = \"#f59e0b\";\nvar GAUGE_COLORS = [\n  ...Array(10).fill(FLAT_COLOR),\n  // Left 1/3: flat (red)\n  ...Array(10).fill(INTUNE_COLOR),\n  // Center 1/3: in-tune (green)\n  ...Array(10).fill(SHARP_COLOR)\n  // Right 1/3: sharp (yellow)\n];\nvar PitchGaugeComponent = ({\n  note,\n  cents,\n  className = \"\",\n  clarity,\n  inTuneThreshold = 5,\n  smoothingFactor = 0.7\n}) => {\n  const [smoothedCents, setSmoothedCents] = useState(cents);\n  const animationFrameRef = useRef(null);\n  useEffect(() => {\n    let isAnimating = true;\n    const updateSmoothedValue = () => {\n      if (!isAnimating) return;\n      setSmoothedCents((prevSmoothed) => {\n        const baseAlpha = 0.05 + (1 - smoothingFactor) * 0.75;\n        const diff = Math.abs(cents - prevSmoothed);\n        const adaptiveFactor = diff > 10 ? 1.5 : diff > 5 ? 1 : 0.6;\n        const alpha = Math.min(1, baseAlpha * adaptiveFactor);\n        const newValue = smoothValue(prevSmoothed, cents, alpha);\n        if (Math.abs(newValue - cents) < 0.5) {\n          return cents;\n        }\n        return newValue;\n      });\n      if (isAnimating) {\n        animationFrameRef.current = requestAnimationFrame(updateSmoothedValue);\n      }\n    };\n    animationFrameRef.current = requestAnimationFrame(updateSmoothedValue);\n    return () => {\n      isAnimating = false;\n      if (animationFrameRef.current !== null) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [cents, smoothingFactor]);\n  const percent = useMemo(() => mapCentsToPercent(smoothedCents), [smoothedCents]);\n  const displayCents = useMemo(() => Math.round(smoothedCents), [smoothedCents]);\n  const direction = useMemo(\n    () => displayCents < -inTuneThreshold ? \"\\u266D\" : displayCents > inTuneThreshold ? \"\\u266F\" : \"\",\n    [displayCents, inTuneThreshold]\n  );\n  const inTune = Math.abs(displayCents) <= inTuneThreshold;\n  return /* @__PURE__ */ jsxs(\"div\", { className: `flex flex-col items-center p-4 ${className}`, children: [\n    /* @__PURE__ */ jsxs(\"div\", { className: \"relative w-56 h-56 mb-2\", children: [\n      /* @__PURE__ */ jsx(\n        GaugeChart,\n        {\n          id: \"pitch-gauge\",\n          nrOfLevels: 30,\n          colors: GAUGE_COLORS,\n          arcWidth: 0.2,\n          percent,\n          needleColor: \"#374151\",\n          needleBaseColor: \"#374151\",\n          textColor: \"transparent\",\n          hideText: true,\n          animate: false,\n          animDelay: 0\n        }\n      ),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\", style: { marginTop: \"20px\" }, children: [\n        /* @__PURE__ */ jsx(\"span\", { className: `text-4xl font-bold drop-shadow-md transition-colors duration-200 ${inTune ? \"text-green-600 dark:text-green-400\" : \"text-gray-800 dark:text-gray-200\"}`, children: note }),\n        clarity !== void 0 && /* @__PURE__ */ jsxs(\"span\", { className: \"text-xs text-muted-foreground mt-1\", children: [\n          \"clarity: \",\n          Math.round(clarity * 100),\n          \"%\"\n        ] })\n      ] })\n    ] }),\n    /* @__PURE__ */ jsxs(\"div\", { className: \"text-center mt-2\", children: [\n      /* @__PURE__ */ jsx(\"div\", { className: \"flex items-center justify-center gap-2\", children: /* @__PURE__ */ jsxs(\"span\", { className: `text-2xl font-mono font-semibold transition-colors duration-200 ${Math.abs(displayCents) <= inTuneThreshold ? \"text-green-600 dark:text-green-400\" : displayCents < 0 ? \"text-red-500 dark:text-red-400\" : \"text-amber-500 dark:text-amber-400\"}`, children: [\n        direction && /* @__PURE__ */ jsx(\"span\", { className: \"mr-1\", children: direction }),\n        Math.abs(displayCents),\n        \"\\xA2\"\n      ] }) }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"text-sm text-muted-foreground mt-1\", children: inTune ? \"In tune! \\u2713\" : displayCents < 0 ? \"Too flat\" : \"Too sharp\" })\n    ] })\n  ] });\n};\nvar PitchGauge = React.memo(PitchGaugeComponent, (prevProps, nextProps) => {\n  return prevProps.note === nextProps.note && Math.abs(prevProps.cents - nextProps.cents) < 0.5 && // Ignore tiny changes\n  prevProps.clarity === nextProps.clarity && prevProps.className === nextProps.className && prevProps.inTuneThreshold === nextProps.inTuneThreshold && prevProps.smoothingFactor === nextProps.smoothingFactor;\n});\n\nexport { PitchGauge };\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map","import { AnimatePresence, motion } from 'framer-motion';\nimport { Volume2 } from 'lucide-react';\nimport { Badge } from '@hudak/ui/components/badge';\nimport { Card, CardContent } from '@hudak/ui/components/card';\nimport { PitchGauge } from '@hudak/audio-components';\nimport type { RefObject } from 'react';\n\ninterface DetectedNote {\n  note: number;\n  noteName: string;\n  centsOff?: number;\n}\n\ninterface DetectedPitch {\n  note: string;\n  cents: number;\n  clarity: number;\n}\n\ninterface NotationCardProps {\n  instrument: string;\n  tabDisplayMode: 'staff' | 'tab' | 'both';\n  isMicrophoneInstrument: boolean;\n  staffContainerRef: RefObject<HTMLDivElement>;\n  tabContainerRef: RefObject<HTMLDivElement>;\n  detectedPitch: DetectedPitch | null;\n  pitchSensitivity: number;\n  pitchSmoothing: number;\n  feedback: string;\n  lastDetectedNote: DetectedNote | null;\n}\n\nexport function NotationCard({\n  instrument,\n  tabDisplayMode,\n  isMicrophoneInstrument,\n  staffContainerRef,\n  tabContainerRef,\n  detectedPitch,\n  pitchSensitivity,\n  pitchSmoothing,\n  feedback,\n  lastDetectedNote,\n}: NotationCardProps) {\n  return (\n    <Card className=\"border-2 shadow-2xl bg-card/95 backdrop-blur overflow-hidden\">\n      <CardContent className=\"p-0\">\n        <div className={`flex ${isMicrophoneInstrument ? 'flex-row' : 'flex-col'} items-center justify-center`}>\n          <div className={`flex-1 p-8 flex items-center justify-center ${\n            instrument === 'guitar' && tabDisplayMode === 'both' ? 'min-h-[400px]' : 'min-h-[300px]'\n          }`}>\n            <div\n              id=\"staff-display\"\n              ref={staffContainerRef}\n              className={(instrument === 'guitar' && tabDisplayMode !== 'staff') ? 'hidden' : 'block'}\n            />\n            <div\n              id=\"tab-display\"\n              ref={tabContainerRef}\n              className={(instrument === 'guitar' && (tabDisplayMode === 'tab' || tabDisplayMode === 'both')) ? 'block' : 'hidden'}\n            />\n          </div>\n\n          {isMicrophoneInstrument && (\n            <div className=\"flex-shrink-0 p-6 border-l border-border bg-gradient-to-br from-blue-50/50 to-purple-50/50 dark:from-blue-950/30 dark:to-purple-950/30\">\n              {detectedPitch ? (\n                <PitchGauge\n                  note={detectedPitch.note}\n                  cents={detectedPitch.cents}\n                  clarity={detectedPitch.clarity}\n                  inTuneThreshold={pitchSensitivity}\n                  smoothingFactor={pitchSmoothing}\n                />\n              ) : (\n                <div className=\"w-56 h-56 flex items-center justify-center\">\n                  <div className=\"text-center text-muted-foreground\">\n                    <Volume2 className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                    <p className=\"text-sm\">Waiting for audio...</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        <AnimatePresence mode=\"wait\">\n          {feedback && (\n            <motion.div\n              key={feedback}\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              className={`px-6 py-3 text-center text-sm font-medium ${\n                feedback.includes('')\n                  ? 'bg-emerald-500/10 text-emerald-600 dark:text-emerald-400'\n                  : feedback.includes('') || feedback.includes('Try again')\n                  ? 'bg-red-500/10 text-red-600 dark:text-red-400'\n                  : 'bg-muted/50 text-muted-foreground'\n              }`}\n            >\n              {feedback}\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {(instrument === 'piano' || instrument === 'piano-virtual') && lastDetectedNote && (\n          <div className=\"px-6 py-3 flex items-center justify-center gap-4 bg-blue-50/50 dark:bg-blue-950/30 border-t border-border\">\n            <Volume2 className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n            <span className=\"text-sm font-medium text-blue-900 dark:text-blue-100\">\n              Detected: {lastDetectedNote.noteName}\n            </span>\n            {lastDetectedNote.centsOff !== undefined && (\n              <Badge variant={Math.abs(lastDetectedNote.centsOff) < 10 ? \"default\" : \"secondary\"}>\n                {lastDetectedNote.centsOff > 0 ? '+' : ''}{lastDetectedNote.centsOff.toFixed(0)}\n              </Badge>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","'use strict';\n\n// t: current time, b: beginning value, _c: final value, d: total duration\nvar tweenFunctions = {\n  linear: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * t / d + b;\n  },\n  easeInQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    } else {\n      return -c / 2 * ((--t) * (t - 2) - 1) + b;\n    }\n  },\n  easeInCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  easeInQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t + b;\n    } else {\n      return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  easeInQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  easeInSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sin(t / d * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n  },\n  easeInExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n  },\n  easeOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n  },\n  easeInOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    if (t === 0) {\n      return b;\n    }\n    if (t === d) {\n      return b + c;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n    } else {\n      return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  easeInCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n    } else {\n      return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  easeInElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  easeOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  easeInOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    } else {\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n    }\n  },\n  easeInBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  easeInBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    v = tweenFunctions.easeOutBounce(d - t, 0, c, d);\n    return c - v + b;\n  },\n  easeOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    if (t < d / 2) {\n      v = tweenFunctions.easeInBounce(t * 2, 0, c, d);\n      return v * 0.5 + b;\n    } else {\n      v = tweenFunctions.easeOutBounce(t * 2 - d, 0, c, d);\n      return v * 0.5 + c * 0.5 + b;\n    }\n  }\n};\n\nmodule.exports = tweenFunctions;\n","import { jsx } from 'react/jsx-runtime';\nimport React from 'react';\nimport * as tweens from 'tween-functions';\n\nfunction degreesToRads(degrees) {\n    return (degrees * Math.PI) / 180;\n}\nfunction randomRange(min, max) {\n    return min + Math.random() * (max - min);\n}\nfunction randomInt(min, max) {\n    return Math.floor(min + Math.random() * (max - min + 1));\n}\n\nvar ParticleShape;\n(function (ParticleShape) {\n    ParticleShape[ParticleShape[\"Circle\"] = 0] = \"Circle\";\n    ParticleShape[ParticleShape[\"Square\"] = 1] = \"Square\";\n    ParticleShape[ParticleShape[\"Strip\"] = 2] = \"Strip\";\n})(ParticleShape || (ParticleShape = {}));\nvar RotationDirection;\n(function (RotationDirection) {\n    RotationDirection[RotationDirection[\"Positive\"] = 1] = \"Positive\";\n    RotationDirection[RotationDirection[\"Negative\"] = -1] = \"Negative\";\n})(RotationDirection || (RotationDirection = {}));\nconst DEFAULT_FRAME_TIME = 1000 / 60;\nclass Particle {\n    constructor(context, getOptions, x, y) {\n        this.getOptions = getOptions;\n        const { colors, initialVelocityX, initialVelocityY } = this.getOptions();\n        this.context = context;\n        this.x = x;\n        this.y = y;\n        this.w = randomRange(5, 20);\n        this.h = randomRange(5, 20);\n        this.radius = randomRange(5, 10);\n        this.vx =\n            typeof initialVelocityX === 'number'\n                ? randomRange(-initialVelocityX, initialVelocityX)\n                : randomRange(initialVelocityX.min, initialVelocityX.max);\n        this.vy =\n            typeof initialVelocityY === 'number'\n                ? randomRange(-initialVelocityY, 0)\n                : randomRange(initialVelocityY.min, initialVelocityY.max);\n        this.shape = randomInt(0, 2);\n        this.angle = degreesToRads(randomRange(0, 360));\n        this.angularSpin = randomRange(-0.2, 0.2);\n        this.color = colors[Math.floor(Math.random() * colors.length)];\n        this.rotateY = randomRange(0, 1);\n        this.rotationDirection = randomRange(0, 1)\n            ? RotationDirection.Positive\n            : RotationDirection.Negative;\n    }\n    update(elapsed) {\n        const { gravity, wind, friction, opacity, drawShape } = this.getOptions();\n        const frameTimeMultiplier = elapsed / DEFAULT_FRAME_TIME;\n        this.x += this.vx * frameTimeMultiplier;\n        this.y += this.vy * frameTimeMultiplier;\n        this.vy += gravity * frameTimeMultiplier;\n        this.vx += wind * frameTimeMultiplier;\n        this.vx *= friction ** frameTimeMultiplier;\n        this.vy *= friction ** frameTimeMultiplier;\n        if (this.rotateY >= 1 &&\n            this.rotationDirection === RotationDirection.Positive) {\n            this.rotationDirection = RotationDirection.Negative;\n        }\n        else if (this.rotateY <= -1 &&\n            this.rotationDirection === RotationDirection.Negative) {\n            this.rotationDirection = RotationDirection.Positive;\n        }\n        const rotateDelta = 0.1 * this.rotationDirection * frameTimeMultiplier;\n        this.rotateY += rotateDelta;\n        this.angle += this.angularSpin;\n        this.context.save();\n        this.context.translate(this.x, this.y);\n        this.context.rotate(this.angle);\n        this.context.scale(1, this.rotateY);\n        this.context.rotate(this.angle);\n        this.context.beginPath();\n        this.context.fillStyle = this.color;\n        this.context.strokeStyle = this.color;\n        this.context.globalAlpha = opacity;\n        this.context.lineCap = 'round';\n        this.context.lineWidth = 2;\n        if (drawShape && typeof drawShape === 'function') {\n            drawShape.call(this, this.context);\n        }\n        else {\n            switch (this.shape) {\n                case ParticleShape.Circle: {\n                    this.context.beginPath();\n                    this.context.arc(0, 0, this.radius, 0, 2 * Math.PI);\n                    this.context.fill();\n                    break;\n                }\n                case ParticleShape.Square: {\n                    this.context.fillRect(-this.w / 2, -this.h / 2, this.w, this.h);\n                    break;\n                }\n                case ParticleShape.Strip: {\n                    this.context.fillRect(-this.w / 6, -this.h / 2, this.w / 3, this.h);\n                    break;\n                }\n            }\n        }\n        this.context.closePath();\n        this.context.restore();\n    }\n}\n\nclass ParticleGenerator {\n    constructor(canvas, getOptions) {\n        this.x = 0;\n        this.y = 0;\n        this.w = 0;\n        this.h = 0;\n        this.lastNumberOfPieces = 0;\n        this.tweenProgress = 0;\n        this.tweenFrom = 0;\n        this.particles = [];\n        this.particlesGenerated = 0;\n        this.removeParticleAt = (i) => {\n            this.particles.splice(i, 1);\n        };\n        this.getParticle = () => {\n            const newParticleX = randomRange(this.x, this.w + this.x);\n            const newParticleY = randomRange(this.y, this.h + this.y);\n            return new Particle(this.context, this.getOptions, newParticleX, newParticleY);\n        };\n        this.animate = (elapsed) => {\n            const { canvas, context, particlesGenerated, lastNumberOfPieces } = this;\n            const { run, recycle, numberOfPieces, debug, tweenFunction, tweenDuration, } = this.getOptions();\n            if (!run) {\n                return false;\n            }\n            const nP = this.particles.length;\n            const activeCount = recycle ? nP : particlesGenerated;\n            // Initial population\n            if (activeCount < numberOfPieces) {\n                // Use the numberOfPieces prop as a key to reset the easing timing\n                if (lastNumberOfPieces !== numberOfPieces) {\n                    this.tweenProgress = 0;\n                    this.tweenFrom = activeCount;\n                    this.lastNumberOfPieces = numberOfPieces;\n                }\n                // Clamp tweenProgress between 0 and tweenDuration\n                this.tweenProgress = Math.min(tweenDuration, Math.max(0, this.tweenProgress + elapsed));\n                const tweenedVal = tweenFunction(this.tweenProgress, this.tweenFrom, numberOfPieces, tweenDuration);\n                const numToAdd = Math.round(tweenedVal - activeCount);\n                for (let i = 0; i < numToAdd; i++) {\n                    this.particles.push(this.getParticle());\n                }\n                this.particlesGenerated += numToAdd;\n            }\n            if (debug) {\n                // Draw debug text\n                context.font = '12px sans-serif';\n                context.fillStyle = '#333';\n                context.textAlign = 'right';\n                context.fillText(`Particles: ${nP}`, canvas.width - 10, canvas.height - 20);\n            }\n            // Maintain the population, iterating backwards to prevent issues when removing particles\n            for (let i = this.particles.length - 1; i >= 0; i--) {\n                const p = this.particles[i];\n                // Update each particle's position\n                p.update(elapsed);\n                // Prune the off-canvas particles\n                if (p.y > canvas.height ||\n                    p.y < -100 ||\n                    p.x > canvas.width + 100 ||\n                    p.x < -100) {\n                    if (recycle && activeCount <= numberOfPieces) {\n                        // Replace the particle with a brand new one\n                        this.particles[i] = this.getParticle();\n                    }\n                    else {\n                        this.removeParticleAt(i);\n                    }\n                }\n            }\n            return nP > 0 || activeCount < numberOfPieces;\n        };\n        this.canvas = canvas;\n        const ctx = this.canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get canvas context');\n        }\n        this.context = ctx;\n        this.getOptions = getOptions;\n    }\n}\n\nconst confettiDefaults = {\n    width: typeof window !== 'undefined' ? window.innerWidth : 300,\n    height: typeof window !== 'undefined' ? window.innerHeight : 200,\n    numberOfPieces: 200,\n    friction: 0.99,\n    wind: 0,\n    gravity: 0.1,\n    initialVelocityX: 4,\n    initialVelocityY: 10,\n    colors: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4CAF50',\n        '#8BC34A',\n        '#CDDC39',\n        '#FFEB3B',\n        '#FFC107',\n        '#FF9800',\n        '#FF5722',\n        '#795548',\n    ],\n    opacity: 1.0,\n    debug: false,\n    tweenFunction: tweens.easeInOutQuad,\n    tweenDuration: 5000,\n    recycle: true,\n    run: true,\n};\nclass Confetti {\n    constructor(canvas, opts) {\n        this.lastFrameTime = 0;\n        this.setOptionsWithDefaults = (opts) => {\n            const computedConfettiDefaults = {\n                confettiSource: {\n                    x: 0,\n                    y: 0,\n                    w: this.canvas.width,\n                    h: 0,\n                },\n            };\n            this._options = {\n                ...computedConfettiDefaults,\n                ...confettiDefaults,\n                ...opts,\n            };\n            Object.assign(this, opts.confettiSource);\n        };\n        this.update = (timestamp = 0) => {\n            const { options: { run, onConfettiComplete, frameRate }, canvas, context, } = this;\n            // Cap elapsed time to 50ms to prevent large time steps\n            const elapsed = Math.min(timestamp - this.lastFrameTime, 50);\n            // Throttle the frame rate if set\n            if (frameRate && elapsed < 1000 / frameRate) {\n                this.rafId = requestAnimationFrame(this.update);\n                return;\n            }\n            this.lastFrameTime = timestamp - (frameRate ? elapsed % frameRate : 0);\n            if (run) {\n                context.fillStyle = 'white';\n                context.clearRect(0, 0, canvas.width, canvas.height);\n            }\n            if (this.generator.animate(elapsed)) {\n                this.rafId = requestAnimationFrame(this.update);\n            }\n            else {\n                if (onConfettiComplete &&\n                    typeof onConfettiComplete === 'function' &&\n                    this.generator.particlesGenerated > 0) {\n                    onConfettiComplete.call(this, this);\n                }\n                this._options.run = false;\n            }\n        };\n        this.reset = () => {\n            if (this.generator && this.generator.particlesGenerated > 0) {\n                this.generator.particlesGenerated = 0;\n                this.generator.particles = [];\n                this.generator.lastNumberOfPieces = 0;\n            }\n        };\n        this.stop = () => {\n            this.options = { run: false };\n            if (this.rafId) {\n                cancelAnimationFrame(this.rafId);\n                this.rafId = undefined;\n            }\n        };\n        this.canvas = canvas;\n        const ctx = this.canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get canvas context');\n        }\n        this.context = ctx;\n        this.generator = new ParticleGenerator(this.canvas, () => this.options);\n        this.options = opts;\n        this.update();\n    }\n    get options() {\n        return this._options;\n    }\n    set options(opts) {\n        const lastRunState = this._options?.run;\n        const lastRecycleState = this._options?.recycle;\n        this.setOptionsWithDefaults(opts);\n        if (this.generator) {\n            Object.assign(this.generator, this.options.confettiSource);\n            if (typeof opts.recycle === 'boolean' &&\n                opts.recycle &&\n                lastRecycleState === false) {\n                this.generator.lastNumberOfPieces = this.generator.particles.length;\n            }\n        }\n        if (typeof opts.run === 'boolean' && opts.run && lastRunState === false) {\n            this.update();\n        }\n    }\n}\n\nconst ref = React.createRef();\nclass ReactConfettiInternal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.canvas = React.createRef();\n        this.canvas = props.canvasRef || ref;\n    }\n    componentDidMount() {\n        if (this.canvas.current) {\n            const opts = extractCanvasProps(this.props)[0];\n            this.confetti = new Confetti(this.canvas.current, opts);\n        }\n    }\n    componentDidUpdate() {\n        const confettiOptions = extractCanvasProps(this.props)[0];\n        if (this.confetti) {\n            this.confetti.options = confettiOptions;\n        }\n    }\n    componentWillUnmount() {\n        if (this.confetti) {\n            this.confetti.stop();\n        }\n        this.confetti = undefined;\n    }\n    render() {\n        const [confettiOptions, passedProps] = extractCanvasProps(this.props);\n        const canvasStyles = {\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none',\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0,\n            ...passedProps.style,\n        };\n        return (jsx(\"canvas\", { width: confettiOptions.width, height: confettiOptions.height, ref: this.canvas, ...passedProps, style: canvasStyles }));\n    }\n}\nReactConfettiInternal.defaultProps = {\n    ...confettiDefaults,\n};\nReactConfettiInternal.displayName = 'ReactConfetti';\nfunction extractCanvasProps(props) {\n    const confettiOptions = {};\n    const refs = {};\n    const rest = {};\n    const confettiOptionKeys = [\n        ...Object.keys(confettiDefaults),\n        'confettiSource',\n        'drawShape',\n        'onConfettiComplete',\n        'frameRate',\n    ];\n    const refProps = ['canvasRef'];\n    for (const prop in props) {\n        const val = props[prop];\n        if (confettiOptionKeys.includes(prop)) {\n            confettiOptions[prop] = val;\n        }\n        else if (refProps.includes(prop)) {\n            refProps[prop] = val;\n        }\n        else {\n            rest[prop] = val;\n        }\n    }\n    return [confettiOptions, rest, refs];\n}\nconst ReactConfetti = React.forwardRef((props, ref) => jsx(ReactConfettiInternal, { canvasRef: ref, ...props }));\n\nexport { ReactConfetti as default };\n//# sourceMappingURL=react-confetti.mjs.map\n","/**\n * Score Summary Component\n * Displays round results with confetti celebration\n */\n\nimport { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport Confetti from 'react-confetti';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Button } from '@hudak/ui/components/button';\nimport { Badge } from '@hudak/ui/components/badge';\nimport { Trophy, TrendingUp, Clock, Target } from 'lucide-react';\nimport { type ScoreResult, SCORE_RANKS } from '../lib/utils/scoring';\n\ninterface ScoreSummaryProps {\n  scoreResult: ScoreResult;\n  correctCount: number;\n  totalNotes: number;\n  isSuccessful: boolean;\n  onContinue: () => void;\n  onRetry?: () => void;\n  showConfetti?: boolean;\n  className?: string;\n}\n\nexport function ScoreSummary({\n  scoreResult,\n  correctCount,\n  totalNotes,\n  isSuccessful,\n  onContinue,\n  onRetry,\n  showConfetti = true,\n  className = '',\n}: ScoreSummaryProps) {\n  const [showConfettiEffect, setShowConfettiEffect] = useState(false);\n  const [windowSize, setWindowSize] = useState({ width: 0, height: 0 });\n\n  // Update window size for confetti\n  useEffect(() => {\n    const updateSize = () => {\n      setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n    };\n    updateSize();\n    window.addEventListener('resize', updateSize);\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n\n  // Trigger confetti on successful round\n  useEffect(() => {\n    if (isSuccessful && showConfetti) {\n      setShowConfettiEffect(true);\n      const timer = setTimeout(() => setShowConfettiEffect(false), 5000);\n      return () => clearTimeout(timer);\n    }\n    return undefined;\n  }, [isSuccessful, showConfetti]);\n\n  const rankInfo = SCORE_RANKS[scoreResult.rank];\n  const accuracy = totalNotes > 0 ? (correctCount / totalNotes) * 100 : 0;\n\n  return (\n    <>\n      {showConfettiEffect && (\n        <Confetti\n          width={windowSize.width}\n          height={windowSize.height}\n          recycle={false}\n          numberOfPieces={200}\n          gravity={0.2}\n          colors={['#3B82F6', '#10B981', '#F59E0B', '#8B5CF6', '#EC4899']}\n        />\n      )}\n\n      <motion.div\n        initial={{ scale: 0.8, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        transition={{ type: 'spring', stiffness: 300, damping: 20 }}\n        className={className}\n      >\n        <Card className=\"border-2\">\n          <CardHeader className=\"text-center\">\n            <motion.div\n              initial={{ rotate: -180, scale: 0 }}\n              animate={{ rotate: 0, scale: 1 }}\n              transition={{ type: 'spring', stiffness: 200, damping: 15, delay: 0.2 }}\n              className=\"flex justify-center mb-4\"\n            >\n              <Trophy className={`h-16 w-16 ${rankInfo.color}`} />\n            </motion.div>\n            <CardTitle className=\"text-3xl font-bold\">\n              {isSuccessful ? 'Round Complete!' : 'Round Failed'}\n            </CardTitle>\n            <CardDescription className=\"text-lg mt-2\">\n              <Badge\n                variant=\"outline\"\n                className={`text-2xl font-bold px-4 py-2 ${rankInfo.color} border-current`}\n              >\n                Rank {scoreResult.rank}\n              </Badge>\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent className=\"space-y-6\">\n            {/* Score Breakdown */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between p-4 bg-muted rounded-lg\">\n                <div className=\"flex items-center gap-3\">\n                  <Target className=\"h-6 w-6 text-blue-500\" />\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Accuracy</p>\n                    <p className=\"text-2xl font-bold\">{accuracy.toFixed(0)}%</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-sm text-muted-foreground\">Notes</p>\n                  <p className=\"text-xl font-semibold\">\n                    {correctCount}/{totalNotes}\n                  </p>\n                </div>\n              </div>\n\n              {scoreResult.speedBonus > 0 && (\n                <motion.div\n                  initial={{ x: -20, opacity: 0 }}\n                  animate={{ x: 0, opacity: 1 }}\n                  transition={{ delay: 0.3 }}\n                  className=\"flex items-center justify-between p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/20\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <Clock className=\"h-6 w-6 text-yellow-500\" />\n                    <div>\n                      <p className=\"text-sm text-muted-foreground\">Speed Bonus</p>\n                      <p className=\"text-xl font-bold text-yellow-500\">\n                        +{scoreResult.speedBonus}%\n                      </p>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n\n              {scoreResult.streakMultiplier > 1 && (\n                <motion.div\n                  initial={{ x: -20, opacity: 0 }}\n                  animate={{ x: 0, opacity: 1 }}\n                  transition={{ delay: 0.4 }}\n                  className=\"flex items-center justify-between p-4 bg-orange-500/10 rounded-lg border border-orange-500/20\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <TrendingUp className=\"h-6 w-6 text-orange-500\" />\n                    <div>\n                      <p className=\"text-sm text-muted-foreground\">Streak Multiplier</p>\n                      <p className=\"text-xl font-bold text-orange-500\">\n                        {scoreResult.streakMultiplier.toFixed(1)}\n                      </p>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n\n              <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ delay: 0.5, type: 'spring' }}\n                className=\"p-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg border-2 border-blue-500/20\"\n              >\n                <p className=\"text-sm text-muted-foreground text-center mb-2\">\n                  Total Score\n                </p>\n                <p className=\"text-5xl font-bold text-center text-blue-500\">\n                  {scoreResult.finalScore}\n                </p>\n                <p className=\"text-center text-lg font-medium mt-2 text-muted-foreground\">\n                  {rankInfo.label}\n                </p>\n              </motion.div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex gap-3 pt-4\">\n              {onRetry && !isSuccessful && (\n                <Button onClick={onRetry} variant=\"outline\" className=\"flex-1\">\n                  Try Again\n                </Button>\n              )}\n              <Button onClick={onContinue} className=\"flex-1\">\n                {isSuccessful ? 'Next Round' : 'Continue'}\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </>\n  );\n}\n","import { AnimatePresence } from 'framer-motion';\nimport { ScoreSummary } from '../score-summary';\nimport type { ScoreResult } from '../../lib/utils/scoring';\n\ninterface ScoreSummaryModalProps {\n  isOpen: boolean;\n  scoreResult: ScoreResult | null;\n  correctCount: number;\n  totalNotes: number;\n  isSuccessful: boolean;\n  onContinue: () => void;\n  onRetry?: () => void;\n}\n\nexport function ScoreSummaryModal({\n  isOpen,\n  scoreResult,\n  correctCount,\n  totalNotes,\n  isSuccessful,\n  onContinue,\n  onRetry,\n}: ScoreSummaryModalProps) {\n  return (\n    <AnimatePresence>\n      {isOpen && scoreResult && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\n          <ScoreSummary\n            scoreResult={scoreResult}\n            correctCount={correctCount}\n            totalNotes={totalNotes}\n            isSuccessful={isSuccessful}\n            onContinue={onContinue}\n            onRetry={onRetry}\n            showConfetti={isSuccessful}\n          />\n        </div>\n      )}\n    </AnimatePresence>\n  );\n}\n","/**\n * Play Route - Flash card game interface with centered notation display\n */\n\nimport { createFileRoute, useNavigate } from '@tanstack/react-router';\nimport { useEffect, useState, useRef, useCallback } from 'react';\nimport { Button } from '@hudak/ui/components/button';\nimport { Badge } from '@hudak/ui/components/badge';\nimport { X, SkipForward } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { motion } from 'framer-motion';\n\n// Import our libraries\nimport { MidiManager, type NoteOnEvent, type DeviceChangeEvent } from '../lib/input/midi-manager';\nimport { AudioManager, type PitchDetectedEvent } from '../lib/input/audio-manager';\nimport { StaffRenderer } from '../lib/notation/staff-renderer';\nimport { TabRenderer } from '../lib/notation/tab-renderer';\nimport { getInstrument, requiresMIDI } from '../lib/utils/instrument-config';\nimport { generateRandomNote, validateNote } from '../lib/utils/music-theory';\nimport { Storage } from '../lib/utils/storage';\nimport { AudioPlayback } from '../lib/utils/audio-playback';\nimport { getNoteRange } from '../lib/game/note-range';\nimport { renderPracticeNote } from '../lib/game/render-note';\n\n// Game components\nimport { useGameRound, type GameMode } from '../hooks/use-game-round';\nimport { getStreakMilestoneMessage } from '../lib/utils/scoring';\nimport { VirtualKeyboard } from '../components/virtual-keyboard';\nimport { RadialTimer } from '../components/play/radial-timer';\nimport { ScoreHud } from '../components/play/score-hud';\nimport { NotationCard } from '../components/play/notation-card';\nimport { ScoreSummaryModal } from '../components/play/score-summary-modal';\n\n// Search params for game settings\ninterface PlaySearchParams {\n  instrument?: string;\n  clef?: string;\n  difficulty?: string;\n  gameMode?: string;\n  tabDisplayMode?: string;\n  pitchSensitivity?: number;\n  pitchSmoothing?: number;\n  selectedAudioDevice?: string;\n}\n\nexport const Route = createFileRoute('/play')({\n  component: PlayRoute,\n  validateSearch: (search: Record<string, unknown>): PlaySearchParams => ({\n    instrument: (search.instrument as string) || 'piano',\n    clef: (search.clef as string) || 'treble',\n    difficulty: (search.difficulty as string) || 'beginner',\n    gameMode: (search.gameMode as string) || 'practice',\n    tabDisplayMode: (search.tabDisplayMode as string) || 'both',\n    pitchSensitivity: Number(search.pitchSensitivity) || 10,\n    pitchSmoothing: Number(search.pitchSmoothing) || 0.7,\n    selectedAudioDevice: (search.selectedAudioDevice as string) || '',\n  }),\n});\n\nfunction PlayRoute() {\n  const navigate = useNavigate();\n  const search = Route.useSearch();\n\n  // Extract settings from search params\n  const instrument = search.instrument || 'piano';\n  const clef = search.clef || 'treble';\n  const difficulty = (search.difficulty || 'beginner') as 'beginner' | 'intermediate' | 'advanced';\n  const gameMode = (search.gameMode || 'practice') as GameMode;\n  const tabDisplayMode = (search.tabDisplayMode || 'both') as 'staff' | 'tab' | 'both';\n  const pitchSensitivity = search.pitchSensitivity || 10;\n  const pitchSmoothing = search.pitchSmoothing || 0.7;\n  const selectedAudioDevice = search.selectedAudioDevice || '';\n\n  // Input status\n  const [midiConnected, setMidiConnected] = useState(false);\n  const [microphoneActive, setMicrophoneActive] = useState(false);\n\n  // Practice session state\n  const [sessionActive, setSessionActive] = useState(false);\n  const [stats, setStats] = useState({ correct: 0, incorrect: 0, streak: 0, avgTime: '-' });\n  const [feedback, setFeedback] = useState('');\n  const [, setCurrentNote] = useState<number | null>(null);\n  const [lastDetectedNote, setLastDetectedNote] = useState<{ note: number; noteName: string; centsOff?: number } | null>(null);\n  const [showScoreSummary, setShowScoreSummary] = useState(false);\n\n  // Pitch detection state\n  const [detectedPitch, setDetectedPitch] = useState<{ note: string; cents: number; clarity: number } | null>(null);\n\n  // Refs\n  const sessionActiveRef = useRef(false);\n  const currentNoteRef = useRef<number | null>(null);\n  const instrumentRef = useRef(instrument);\n  const clefRef = useRef(clef);\n  const gameModeRef = useRef(gameMode);\n  const roundActionsRef = useRef<any>(null);\n  const roundStateRef = useRef<any>(null);\n  const midiManager = useRef<MidiManager | null>(null);\n  const audioManager = useRef<AudioManager | null>(null);\n  const audioPlayback = useRef<AudioPlayback | null>(null);\n  const staffRenderer = useRef<StaffRenderer | null>(null);\n  const tabRenderer = useRef<TabRenderer | null>(null);\n  const staffContainerRef = useRef<HTMLDivElement>(null);\n  const tabContainerRef = useRef<HTMLDivElement>(null);\n  const lastIncorrectFeedbackRef = useRef(0);\n  const audioInitAttemptedRef = useRef(false);\n  const noteValidatedRef = useRef(false);\n  const correctDetectionsRef = useRef(0);\n  const lastDetectionTimeRef = useRef(0);\n\n  // Get note range based on difficulty and instrument\n  const noteRange = useCallback(() => getNoteRange(instrument, difficulty), [difficulty, instrument]);\n\n  // Stable callbacks for game round hook to prevent infinite re-renders\n  const handleRoundComplete = useCallback((state: any) => {\n    setShowScoreSummary(true);\n\n    // Calculate range inline to avoid dependency cycle\n    const range = getNoteRange(instrument, difficulty);\n\n    Storage.saveSession({\n      module: 'sightReading',\n      correct: state.correctCount,\n      incorrect: state.incorrectCount,\n      bestStreak: state.streak,\n      gameMode,\n      roundScore: state.currentScore?.finalScore,\n      timeLeft: state.timeLeft,\n      livesRemaining: state.lives,\n      instrument,\n      clef,\n      range,\n    });\n    toast.success('Round Complete! ', {\n      description: `Score: ${state.currentScore?.finalScore || 0} points`,\n    });\n  }, [gameMode, instrument, clef, difficulty]);\n\n  const handleRoundFail = useCallback((state: any) => {\n    setShowScoreSummary(true);\n    toast.error('Round Failed', {\n      description: `You scored ${state.currentScore?.finalScore || 0} points. Try again!`,\n    });\n  }, []);\n\n  const handleLifeLost = useCallback((livesLeft: number) => {\n    if (livesLeft === 1) {\n      toast.warning('Last Life! ', { description: 'Be careful on the next note!', duration: 2000 });\n    }\n  }, []);\n\n  const handleStreakMilestone = useCallback((streak: number) => {\n    const message = getStreakMilestoneMessage(streak);\n    if (message) toast.success(message, { duration: 2500 });\n  }, []);\n\n  // Game round hook\n  const [roundState, roundActions] = useGameRound({\n    difficulty,\n    gameMode,\n    onRoundComplete: handleRoundComplete,\n    onRoundFail: handleRoundFail,\n    onLifeLost: handleLifeLost,\n    onStreakMilestone: handleStreakMilestone,\n  });\n\n  // Next note function\n  const nextNote = useCallback(() => {\n    noteValidatedRef.current = false;\n    correctDetectionsRef.current = 0;\n    lastDetectionTimeRef.current = 0;\n\n    const note = generateRandomNote(noteRange(), clef as 'treble' | 'bass');\n    if (note) {\n      setCurrentNote(note.midiNote);\n      currentNoteRef.current = note.midiNote;\n\n      renderPracticeNote({\n        instrument,\n        tabDisplayMode,\n        clef: clef as 'treble' | 'bass',\n        midiNote: note.midiNote,\n        staffRenderer: staffRenderer.current,\n        tabRenderer: tabRenderer.current,\n      });\n    }\n  }, [clef, instrument, noteRange, tabDisplayMode]);\n\n  // Handle MIDI device changes\n  const handleMidiDeviceChange = useCallback((_event: DeviceChangeEvent) => {\n    if (midiManager.current) {\n      const devices = midiManager.current.getInputDevices();\n      setMidiConnected(devices.length > 0);\n    }\n  }, []);\n\n  // Handle pitch detection\n  const handlePitchDetected = useCallback((event: PitchDetectedEvent) => {\n    setDetectedPitch({ note: event.noteName, cents: event.cents, clarity: event.clarity });\n\n    let centsOff: number | undefined;\n    if (currentNoteRef.current !== null) {\n      const instrumentConfig = getInstrument(instrumentRef.current as 'piano' | 'violin' | 'guitar');\n      const result = validateNote(event.midi, currentNoteRef.current, {\n        allowOctaveError: instrumentConfig.validation.octaveFlexible,\n      });\n      centsOff = result.centsOff;\n    }\n\n    setLastDetectedNote({ note: event.midi, noteName: event.noteName, centsOff });\n\n    if (sessionActiveRef.current && currentNoteRef.current !== null) {\n      const instrumentConfig = getInstrument(instrumentRef.current as 'piano' | 'violin' | 'guitar');\n      const result = validateNote(event.midi, currentNoteRef.current, {\n        allowOctaveError: instrumentConfig.validation.octaveFlexible,\n      });\n\n      if (result.isCorrect) {\n        correctDetectionsRef.current += 1;\n        lastDetectionTimeRef.current = Date.now();\n        const REQUIRED_CONSECUTIVE_DETECTIONS = 4;\n\n        if (correctDetectionsRef.current >= REQUIRED_CONSECUTIVE_DETECTIONS && !noteValidatedRef.current) {\n          noteValidatedRef.current = true;\n          if (gameModeRef.current === 'timed' && roundStateRef.current?.isActive) {\n            roundActionsRef.current?.noteCorrect();\n          }\n          setStats(prev => ({\n            correct: prev.correct + 1,\n            incorrect: prev.incorrect,\n            streak: gameModeRef.current === 'timed' ? (roundStateRef.current?.streak || 0) : prev.streak + 1,\n            avgTime: prev.avgTime\n          }));\n          setFeedback('Correct! ');\n          if (staffRenderer.current) staffRenderer.current.showFeedback(true);\n        }\n      } else {\n        correctDetectionsRef.current = 0;\n        lastDetectionTimeRef.current = Date.now();\n        const now = Date.now();\n        if (now - lastIncorrectFeedbackRef.current > 1000 && !noteValidatedRef.current) {\n          if (gameModeRef.current === 'timed' && roundStateRef.current?.isActive) {\n            roundActionsRef.current?.noteIncorrect();\n          }\n          setStats(prev => ({ correct: prev.correct, incorrect: prev.incorrect + 1, streak: 0, avgTime: prev.avgTime }));\n          setFeedback(`Try again - you played ${event.noteName}`);\n          if (staffRenderer.current) staffRenderer.current.showFeedback(false);\n          lastIncorrectFeedbackRef.current = now;\n        }\n      }\n    }\n  }, []);\n\n  // Handle MIDI note input - use refs to avoid recreating callback\n  const nextNoteRef = useRef(nextNote);\n  useEffect(() => { nextNoteRef.current = nextNote; }, [nextNote]);\n\n  const handleMidiNoteOn = useCallback((event: NoteOnEvent) => {\n    if (audioPlayback.current) audioPlayback.current.playNote(event.note);\n\n    let centsOff: number | undefined;\n    if (currentNoteRef.current !== null) {\n      const instrumentConfig = getInstrument(instrumentRef.current as 'piano' | 'violin' | 'guitar');\n      const result = validateNote(event.note, currentNoteRef.current, {\n        allowOctaveError: instrumentConfig.validation.octaveFlexible,\n      });\n      centsOff = result.centsOff;\n    }\n\n    setLastDetectedNote({ note: event.note, noteName: event.noteName, centsOff });\n\n    if (sessionActiveRef.current && currentNoteRef.current !== null) {\n      const instrumentConfig = getInstrument(instrumentRef.current as 'piano' | 'violin' | 'guitar');\n      const result = validateNote(event.note, currentNoteRef.current, {\n        allowOctaveError: instrumentConfig.validation.octaveFlexible,\n      });\n\n      if (result.isCorrect) {\n        if (gameModeRef.current === 'timed' && roundStateRef.current?.isActive) {\n          roundActionsRef.current?.noteCorrect();\n        }\n        setStats(prev => ({\n          correct: prev.correct + 1,\n          incorrect: prev.incorrect,\n          streak: gameModeRef.current === 'timed' ? (roundStateRef.current?.streak || 0) : prev.streak + 1,\n          avgTime: prev.avgTime\n        }));\n        setFeedback('Correct! ');\n        if (staffRenderer.current) staffRenderer.current.showFeedback(true);\n        setTimeout(() => { if (!roundStateRef.current?.isComplete) nextNoteRef.current(); }, 500);\n      } else {\n        if (gameModeRef.current === 'timed' && roundStateRef.current?.isActive) {\n          roundActionsRef.current?.noteIncorrect();\n        }\n        setStats(prev => ({ correct: prev.correct, incorrect: prev.incorrect + 1, streak: 0, avgTime: prev.avgTime }));\n        setFeedback('Try again ');\n        if (staffRenderer.current) staffRenderer.current.showFeedback(false);\n      }\n    }\n  }, []);\n\n  // Initialize managers\n  useEffect(() => {\n    const initManagers = async () => {\n      audioPlayback.current = new AudioPlayback();\n\n      if (requiresMIDI(instrument as any)) {\n        midiManager.current = new MidiManager();\n        const success = await midiManager.current.init();\n        setMidiConnected(success);\n        if (success) {\n          midiManager.current.on('noteOn', handleMidiNoteOn);\n          midiManager.current.on('deviceChange', handleMidiDeviceChange);\n        }\n      }\n\n      setTimeout(() => {\n        if (staffContainerRef.current && !staffRenderer.current) {\n          staffRenderer.current = new StaffRenderer('staff-display');\n        }\n        if (tabContainerRef.current && !tabRenderer.current) {\n          tabRenderer.current = new TabRenderer('tab-display', instrumentRef.current);\n        }\n      }, 200);\n    };\n\n    initManagers();\n\n    return () => {\n      midiManager.current?.disconnectDevice();\n      audioManager.current?.disconnect();\n      audioPlayback.current?.cleanup();\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Sync refs\n  useEffect(() => {\n    instrumentRef.current = instrument;\n    if (tabRenderer.current && tabContainerRef.current) {\n      tabRenderer.current = new TabRenderer('tab-display', instrument);\n    }\n  }, [instrument]);\n\n  useEffect(() => { clefRef.current = clef; }, [clef]);\n  useEffect(() => { gameModeRef.current = gameMode; }, [gameMode]);\n\n  // Update refs in render phase - this is safe and doesn't cause re-renders\n  // React docs: \"You can mutate refs during rendering as long as the mutation doesn't affect rendering output\"\n  roundActionsRef.current = roundActions;\n  roundStateRef.current = roundState;\n\n  // Silence detection for microphone\n  useEffect(() => {\n    if (!sessionActive) return;\n    const SILENCE_THRESHOLD_MS = 800;\n    const checkInterval = setInterval(() => {\n      const timeSinceLastDetection = Date.now() - lastDetectionTimeRef.current;\n      if (noteValidatedRef.current && timeSinceLastDetection > SILENCE_THRESHOLD_MS) {\n        noteValidatedRef.current = false;\n        correctDetectionsRef.current = 0;\n        lastDetectionTimeRef.current = 0;\n        // Use refs to avoid dependency on roundState object and nextNote callback\n        if (!roundStateRef.current?.isComplete) nextNoteRef.current();\n      }\n    }, 100);\n    return () => clearInterval(checkInterval);\n  }, [sessionActive]); // Removed roundState.isComplete and nextNote dependencies\n\n  // Audio manager for microphone instruments\n  useEffect(() => {\n    const isMicrophoneInstrument = instrument === 'violin' || instrument === 'guitar';\n    if (isMicrophoneInstrument && !audioInitAttemptedRef.current) {\n      const initAudio = async () => {\n        audioInitAttemptedRef.current = true;\n        const devices = await AudioManager.getAudioInputDevices();\n        const deviceId = selectedAudioDevice || devices[0]?.deviceId;\n        audioManager.current = new AudioManager();\n        const success = await audioManager.current.init(deviceId);\n        setMicrophoneActive(success);\n        if (success) {\n          audioManager.current.on('pitchDetected', handlePitchDetected);\n          audioManager.current.on('statusChange', (status) => setMicrophoneActive(status.microphoneActive));\n          audioManager.current.startListening();\n        } else {\n          toast.error('Microphone Access Required', {\n            description: 'Click the camera/microphone icon in your browser\\'s address bar to allow microphone access.',\n            duration: 10000,\n          });\n        }\n      };\n      initAudio();\n    } else if (!isMicrophoneInstrument && audioManager.current) {\n      audioManager.current.disconnect();\n      audioManager.current = null;\n      setMicrophoneActive(false);\n      audioInitAttemptedRef.current = false;\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [instrument, selectedAudioDevice]);\n\n  // Auto-start session on mount\n  useEffect(() => {\n    const startSession = () => {\n      if (gameMode === 'timed') roundActions.startRound();\n      const note = generateRandomNote(noteRange(), clef as 'treble' | 'bass');\n      if (note) {\n        setCurrentNote(note.midiNote);\n        currentNoteRef.current = note.midiNote;\n\n        setTimeout(() => {\n          renderPracticeNote({\n            instrument,\n            tabDisplayMode,\n            clef: clef as 'treble' | 'bass',\n            midiNote: note.midiNote,\n            staffRenderer: staffRenderer.current,\n            tabRenderer: tabRenderer.current,\n          });\n        }, 100);\n\n        setSessionActive(true);\n        sessionActiveRef.current = true;\n        setFeedback('Play the note!');\n        setStats({ correct: 0, incorrect: 0, streak: 0, avgTime: '-' });\n      }\n    };\n\n    const timer = setTimeout(startSession, 600);\n    return () => clearTimeout(timer);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Stop session\n  const stopSession = () => {\n    if (gameMode === 'timed' && roundState.isActive) roundActions.endRound();\n    setSessionActive(false);\n    sessionActiveRef.current = false;\n    if (gameMode !== 'timed' && (stats.correct > 0 || stats.incorrect > 0)) {\n      Storage.saveSession({\n        module: 'sightReading',\n        instrument,\n        clef,\n        range: noteRange(),\n        ...stats,\n        timestamp: Date.now()\n      });\n    }\n    navigate({ to: '/' });\n  };\n\n  const isMicrophoneInstrument = instrument === 'violin' || instrument === 'guitar';\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 flex flex-col\">\n      {/* Exit Button - Top Right */}\n      <div className=\"fixed top-6 right-6 z-30\">\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={stopSession}\n          className=\"h-12 w-12 rounded-full bg-card/80 backdrop-blur hover:bg-destructive hover:text-destructive-foreground transition-all shadow-lg\"\n        >\n          <X className=\"h-5 w-5\" />\n        </Button>\n      </div>\n\n      {/* Connection Status - Top Left */}\n      <div className=\"fixed top-6 left-6 z-30 flex gap-2\">\n        {midiConnected && <Badge variant=\"default\" className=\"bg-emerald-600\">MIDI Connected</Badge>}\n        {microphoneActive && isMicrophoneInstrument && (\n          <Badge variant=\"default\" className=\"bg-emerald-600\"> Mic Active</Badge>\n        )}\n      </div>\n\n      {/* Main Game Area */}\n      <div className=\"flex-1 flex items-center justify-center p-8\">\n        <div className=\"w-full max-w-4xl space-y-8\">\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"flex items-center justify-between px-4\"\n          >\n            <ScoreHud gameMode={gameMode} roundState={roundState} stats={stats} />\n            {gameMode === 'timed' && roundState.isActive && (\n              <RadialTimer\n                timeLeft={roundState.timeLeft}\n                maxTime={roundState.maxTime}\n              />\n            )}\n          </motion.div>\n\n          {/* Flash Card with Notation */}\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ delay: 0.1 }}\n          >\n            <NotationCard\n              instrument={instrument}\n              tabDisplayMode={tabDisplayMode}\n              isMicrophoneInstrument={isMicrophoneInstrument}\n              staffContainerRef={staffContainerRef}\n              tabContainerRef={tabContainerRef}\n              detectedPitch={detectedPitch}\n              pitchSensitivity={pitchSensitivity}\n              pitchSmoothing={pitchSmoothing}\n              feedback={feedback}\n              lastDetectedNote={lastDetectedNote}\n            />\n          </motion.div>\n\n          {/* Skip Button (Practice Mode Only) */}\n          {gameMode === 'practice' && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.2 }}\n              className=\"flex justify-center\"\n            >\n              <Button\n                variant=\"ghost\"\n                onClick={nextNote}\n                className=\"gap-2\"\n              >\n                <SkipForward className=\"h-4 w-4\" />\n                Skip Note\n              </Button>\n            </motion.div>\n          )}\n        </div>\n      </div>\n\n      {/* Virtual Keyboard */}\n      {instrument === 'piano-virtual' && (\n        <div className=\"pb-8 px-8\">\n          <VirtualKeyboard\n            onNotePlay={(midiNote, noteName) => {\n              const frequency = 440 * Math.pow(2, (midiNote - 69) / 12);\n              handleMidiNoteOn({\n                note: midiNote,\n                noteName,\n                velocity: 100,\n                frequency,\n                timestamp: Date.now()\n              });\n            }}\n            enabled={true}\n            startOctave={3}\n            octaveCount={3}\n          />\n        </div>\n      )}\n\n      <ScoreSummaryModal\n        isOpen={showScoreSummary}\n        scoreResult={roundState.currentScore}\n        correctCount={roundState.correctCount}\n        totalNotes={roundState.notesRequired}\n        isSuccessful={roundState.isSuccessful || false}\n        onContinue={() => {\n          setShowScoreSummary(false);\n          roundActions.startRound();\n          const note = generateRandomNote(noteRange(), clef as 'treble' | 'bass');\n          if (note) {\n            setCurrentNote(note.midiNote);\n            currentNoteRef.current = note.midiNote;\n            setSessionActive(true);\n            sessionActiveRef.current = true;\n            setTimeout(() => {\n              renderPracticeNote({\n                instrument,\n                tabDisplayMode,\n                clef: clef as 'treble' | 'bass',\n                midiNote: note.midiNote,\n                staffRenderer: staffRenderer.current,\n                tabRenderer: tabRenderer.current,\n              });\n            }, 100);\n          }\n        }}\n        onRetry={!roundState.isSuccessful ? () => {\n          setShowScoreSummary(false);\n          roundActions.resetRound();\n          const note = generateRandomNote(noteRange(), clef as 'treble' | 'bass');\n          if (note) {\n            setCurrentNote(note.midiNote);\n            currentNoteRef.current = note.midiNote;\n            setSessionActive(true);\n            sessionActiveRef.current = true;\n            setTimeout(() => {\n              renderPracticeNote({\n                instrument,\n                tabDisplayMode,\n                clef: clef as 'treble' | 'bass',\n                midiNote: note.midiNote,\n                staffRenderer: staffRenderer.current,\n                tabRenderer: tabRenderer.current,\n              });\n            }, 100);\n          }\n        } : undefined}\n      />\n    </div>\n  );\n}\n"],"names":["Clock","createLucideIcon","Flame","Heart","SkipForward","Target","TrendingUp","Trophy","Volume2","X","isArray","isArray_1","freeGlobal","global","_freeGlobal","require$$0","freeSelf","root","_root","Symbol","_Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","value","isOwn","tag","unmasked","result","_getRawTag","objectToString","_objectToString","require$$1","require$$2","nullTag","undefinedTag","baseGetTag","_baseGetTag","isObjectLike","isObjectLike_1","isObject","type","isObject_1","asyncTag","funcTag","genTag","proxyTag","isFunction","isFunction_1","coreJsData","_coreJsData","maskSrcKey","uid","isMasked","func","_isMasked","funcProto","funcToString","toSource","_toSource","require$$3","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","pattern","_baseIsNative","getValue","object","key","_getValue","getNative","_getNative","nativeCreate","_nativeCreate","hashClear","_hashClear","hashDelete","_hashDelete","HASH_UNDEFINED","hashGet","data","_hashGet","hashHas","_hashHas","hashSet","_hashSet","require$$4","Hash","entries","index","length","entry","_Hash","listCacheClear","_listCacheClear","eq","other","eq_1","assocIndexOf","array","_assocIndexOf","arrayProto","splice","listCacheDelete","lastIndex","_listCacheDelete","listCacheGet","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","ListCache","_ListCache","Map","_Map","mapCacheClear","_mapCacheClear","isKeyable","_isKeyable","getMapData","map","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","size","_mapCacheSet","MapCache","_MapCache","constant$b","x","abs","atan2","cos","max","min","sin","sqrt","epsilon","pi","halfPi","tau","acos","asin","tauEpsilon","append","strings","i","appendRound","digits","d","k","n","Path$1","y","x1","y1","x2","y2","r","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","t01","t21","a0","a1","ccw","dx","dy","cw","da","w","h","path","Path","pathRound","withPath","shape","_","arcInnerRadius","arcOuterRadius","arcStartAngle","arcEndAngle","arcPadAngle","intersect","x3","y3","x10","y10","x32","y32","t","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","arc","innerRadius","outerRadius","cornerRadius","constant","padRadius","startAngle","endAngle","padAngle","context","buffer","r0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","t0","t1","p0","p1","oc","ax","ay","bx","by","kc","lc","a","slice","array$5","Linear","curveLinear","p","shapeLine","defined","curve","output","line","pointX","pointY","defined0","shapeArea","area","j","x0z","y0z","arealine","descending$2","b","identity$9","pie","identity","sortValues","descending","sort","sum","arcs","pa","v","curveRadialLinear","curveRadial","Radial","radial","lineRadial","c","lineRadial_default","areaRadial","pointRadial","Bump","BumpRadial","p2","p3","bumpX","bumpY","bumpRadial","linkSource","linkTarget","link","source","target","argv","s","linkHorizontal","linkVertical","linkRadial","sqrt3","asterisk","u","symbolCircle","symbolCross","tan30","tan30_2","symbolDiamond","diamond2","plus","symbolSquare","square2","ka","kr","kx","ky","symbolStar","symbolTriangle","triangle2","symbolWye","times","symbolsFill","circle","cross","diamond","square","star","triangle","wye","symbolsStroke","symbol","noop$3","point","that","Basis","curveBasis","BasisClosed","noop","curveBasisClosed","BasisOpen","curveBasisOpen","Bundle","beta","bundle","custom","Cardinal","tension","cardinal","CardinalClosed","cardinalClosed","CardinalOpen","cardinalOpen","m","CatmullRom","alpha","x23","y23","catmullRom","CatmullRomClosed","catmullRomClosed","CatmullRomOpen","catmullRomOpen","LinearClosed","curveLinearClosed","sign","slope3","h0","h1","s0","s1","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","px","controlPoints","py","i0","i1","curveNatural","Step","curveStep","stepBefore","stepAfter","stackOffsetNone","series","order","stackOrderNone","o","stackValue","stackSeries","shapeStack","keys","orderNone","offset","offsetNone","stack","sz","oz","stackOffsetExpand","none","diverging$1","yp","yn","stackOffsetSilhouette","stackOffsetWiggle","s2","si","sij0","sij1","s3","sk","skj0","skj1","appearance","peaks","peak","vi","vj","ascending$3","sums","descending$1","ascending","insideOut","top","bottom","tops","bottoms","reverse$1","stackClear","_stackClear","stackDelete","_stackDelete","stackGet","_stackGet","stackHas","_stackHas","LARGE_ARRAY_SIZE","stackSet","pairs","_stackSet","require$$5","Stack","_Stack","setCacheAdd","_setCacheAdd","setCacheHas","_setCacheHas","SetCache","values","_SetCache","arraySome","predicate","_arraySome","cacheHas","cache","_cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_equalArrays","Uint8Array","_Uint8Array","mapToArray","_mapToArray","setToArray","set","_setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","equalByTag","convert","stacked","_equalByTag","arrayPush","_arrayPush","baseGetAllKeys","keysFunc","symbolsFunc","_baseGetAllKeys","arrayFilter","resIndex","_arrayFilter","stubArray","stubArray_1","propertyIsEnumerable","nativeGetSymbols","getSymbols","_getSymbols","baseTimes","iteratee","_baseTimes","argsTag","baseIsArguments","_baseIsArguments","isArguments","isArguments_1","stubFalse","stubFalse_1","freeExports","exports","freeModule","module","moduleExports","Buffer","nativeIsBuffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","isIndex","_isIndex","isLength","isLength_1","arrayTag","objectTag","weakMapTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","_baseIsTypedArray","baseUnary","_baseUnary","freeProcess","nodeUtil","types","nodeIsTypedArray","isTypedArray","isTypedArray_1","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_arrayLikeKeys","isPrototype","Ctor","proto","_isPrototype","overArg","transform","arg","_overArg","nativeKeys","_nativeKeys","baseKeys","_baseKeys","isArrayLike","isArrayLike_1","keys_1","getAllKeys","_getAllKeys","equalObjects","objProps","objLength","othProps","objStacked","skipCtor","objValue","objCtor","othCtor","_equalObjects","DataView","_DataView","Promise","_Promise","Set","_Set","WeakMap","_WeakMap","require$$6","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","_getTag","require$$7","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqualDeep","baseIsEqual","_baseIsEqual","bisector","f","compare1","compare2","delta","zero","left","hi","mid","right","center","number","numbers","valueof","ascendingBisect","bisectRight","bisectLeft","bisectCenter","blur","blurf","temp","blur2","Blur2","blurImage","blurfImage","rx","ry","width","height","blurx","blury","blurh","blurv","T","S","radius","start","stop","step","radius0","bluri","count","empty","arrayify","reducer","reduce","lengths","product","cumsum","variance","mean","deviation","extent","Adder","fsum","adder","fcumsum","InternMap","keyof","intern_get","intern_set","intern_delete","InternSet","_intern","_key","group","nest","groups","flatten","g","flatGroup","flatRollup","rollups","rollup","unique","indexes","regroup","permute","F","ascendingDefined","compareDefined","compare","groupSort","ak","av","bk","bv","e10","e5","e2","tickSpec","power","error","factor","i2","inc","ticks","reverse","tickIncrement","tickStep","nice","prestep","thresholdSturges","bin","domain","threshold","sturges","histogram","xz","tz","tn","bins","bisect","maxIndex","minIndex","quickselect","z","sd","newLeft","newRight","swap","greatest","maxValue","element","quantile","value0","value1","quantileSorted","quantileIndex","thresholdFreedmanDiaconis","thresholdScott","median","medianIndex","arrays","merge","mode","counts","modeValue","modeCount","pairof","pair","previous","first","range","rank","V","R","compareIndex","least","minValue","leastIndex","greatestIndex","scan","shuffle$1","shuffler","random","transpose","matrix","row","zip","every","test","some","filter","mapper","iterator","done","next","difference","others","disjoint","intersection","out","superset","io","intern","ivalue","subset","union","initRange","initInterpolator","interpolator","implicit","ordinal","unknown","scale","band","ordinalRange","bandwidth","round","paddingInner","paddingOuter","align","rescale","sequence","pointish","copy","define","constructor","factory","prototype","extend","parent","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb","opacity","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","Hsl","hsl","m2","m1","hsl2rgb","clamph","clampt","radians","degrees","K","Xn","Yn","Zn","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","gray","lab","lab2xyz","lrgb2rgb","hclConvert","lch","hcl","A","B","C","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","basis","v0","v1","v2","v3","basis$1","basisClosed","constant$9","linear","exponential","hue","gamma","nogamma","interpolateRgb","rgbGamma","end","colorRgb","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","numberArray","isNumberArray","array$3","genericArray","nb","na","date$1","interpolateNumber","object$1","reA","reB","one","interpolateString","bi","am","bm","bs","q","interpolate$2","string","date","discrete","interpolateRound","decompose","e","scaleX","scaleY","skewX","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","interpolateTransformCss","interpolateTransformSvg","epsilon2","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","ux0","uy0","w0","ux1","uy1","w1","d1","b0","b1","coshr0","_1","_2","_4","colorHsl","hsl_default","hslLong","colorLab","colorHcl","hcl_default","hclLong","cubehelixGamma","colorCubehelix","cubehelix_default","cubehelixLong","piecewise","interpolate","I","quantize$1","samples","constants","unit","normalize","clamper","bimap","d0","polymap","transformer","interpolateValue","untransform","clamp","input","continuous","formatDecimal","formatDecimalParts","coefficient","exponent$1","formatGroup","grouping","thousands","formatNumerals","numerals","re","formatSpecifier","specifier","match","FormatSpecifier","formatTrim","prefixExponent","formatPrefixAuto","exponent","formatRounded","formatTypes","identity$5","prefixes","formatLocale$1","locale","currencyPrefix","currencySuffix","decimal","percent","minus","nan","newFormat","fill","comma","precision","trim","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","padding","formatPrefix","defaultLocale","formatLocale","precisionFixed","precisionPrefix","precisionRound","tickFormat","linearish","maxIter","interval","transformLog","transformExp","transformLogn","transformExpn","pow10","powp","base","logp","reflect","loggish","logs","pows","log","transformSymlog","transformSymexp","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","pow","unsquare","squared","thresholds","quantize","timeInterval","floori","offseti","field","millisecond","milliseconds","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","seconds","timeMinute","timeMinutes","utcMinute","utcMinutes","timeHour","timeHours","utcHour","utcHours","timeDay","timeDays","utcDay","utcDays","unixDay","unixDays","timeWeekday","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","timeSundays","timeMondays","timeTuesdays","timeWednesdays","timeThursdays","timeFridays","timeSaturdays","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","timeMonth","timeMonths","utcMonth","utcMonths","timeYear","timeYears","utcYear","utcYears","ticker","year","month","week","day","hour","minute","tickIntervals","tickInterval","utcTicks","utcTickInterval","timeTicks","timeTickInterval","localDate","utcDate","newDate","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","pad","pads","newParse","Z","parseSpecifier","numberRe","percentRe","requoteRe","requote","names","name","dISO","dow","UTCdISO","timeFormat","timeParse","utcFormat","utcParse","isoSpecifier","formatIsoNative","formatIso","parseIsoNative","parseIso","calendar","invert","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","time","timeWeek","timeSecond","utcTime","utcWeek","utcSecond","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","k21","r2","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","isEqual","isEqual_1","ReactPropTypesSecret","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","props","propName","componentName","location","propFullName","secret","err","getShim","ReactPropTypes","propTypesModule","MidiManager","devices","deviceId","message","status","note","velocity","callback","midiToNoteName","midiToFrequency","event","duration","StaffRenderer","containerId","svg","strokeColor","el","VF","clef","vexflowNote","options","stave","voice","_a","notes","staveNotes","midiNotes","vexflowNotes","midi","MusicTheory","notehead","isCorrect","noteheads","TabRenderer","instrumentId","midiNote","tabPosition","midiToTabPosition","tabStave","tabNote","tabPositions","pos","tabNotes","staffStave","connector","octave","noteIndex","noteNames","staffNote","staffVoice","tabVoice","text","noteText","AudioPlayback","frequency","now","osc1","osc2","osc3","gain1","gain2","gain3","envelopeGain","attackTime","decayTime","sustainLevel","releaseTime","volume","NOTE_RANGES","getNoteRange","instrument","difficulty","renderPracticeNote","tabDisplayMode","staffRenderer","tabRenderer","midiToVexflow","ROUND_CONFIGS","SCORE_RANKS","calculateScore","correct","total","timeLeft","maxTime","streak","accuracyPercent","speedBonus","streakMultiplier","baseScore","scoreWithSpeed","finalScore","getScoreRank","score","isRoundSuccessful","getStreakMilestoneMessage","useGameRound","gameMode","onRoundComplete","onRoundFail","onTimeUp","onLifeLost","onStreakMilestone","config","maxLives","state","setState","useState","stateRef","useRef","useEffect","timer","prev","newTimeLeft","startRound","useCallback","endRound","isSuccessful","newState","noteCorrect","newCorrect","newCompleted","newStreak","consecutiveWrong","roundComplete","noteIncorrect","newIncorrect","newLives","failedByLives","failedByConsecutive","roundFailed","resetRound","version","createExtendedExponentialRampToValueAutomationEvent","endTime","insertTime","createExtendedLinearRampToValueAutomationEvent","createSetValueAutomationEvent","startTime","createSetValueCurveAutomationEvent","getTargetValueAtTime","valueAtStartTime","timeConstant","isExponentialRampToValueAutomationEvent","automationEvent","isLinearRampToValueAutomationEvent","isAnyRampToValueAutomationEvent","isSetValueAutomationEvent","isSetValueCurveAutomationEvent","getValueOfAutomationEventAtIndexAtTime","automationEvents","defaultValue","getEndTimeAndValueOfPreviousAutomationEvent","currentAutomationEvent","nextAutomationEvent","isCancelAndHoldAutomationEvent","isCancelScheduledValuesAutomationEvent","getEventTime","getExponentialRampValueAtTime","getLinearRampValueAtTime","theoreticIndex","lowerIndex","upperIndex","getValueCurveValueAtTime","isSetTargetAutomationEvent","AutomationEventList","eventTime","removedAutomationEvent","lastAutomationEvent","startValue","truncatedAutomationEvent","ratio","fraction","previousAutomationEvent","persistentAutomationEvent","remainingAutomationEvents","firstRemainingAutomationEvent","indexOfNextEvent","indexOfCurrentEvent","createCancelAndHoldAutomationEvent","cancelTime","createCancelScheduledValuesAutomationEvent","createExponentialRampToValueAutomationEvent","createLinearRampToValueAutomationEvent","createSetTargetAutomationEvent","createAbortError","createAddActiveInputConnectionToAudioNode","insertElementInSet","activeInputs","eventListener","ignoreDuplicates","activeInputConnection","createAddAudioNodeConnections","audioNodeConnectionsStore","audioNode","audioNodeRenderer","nativeAudioNode","createAddAudioParamConnections","audioParamConnectionsStore","audioParam","audioParamRenderer","ACTIVE_AUDIO_NODE_STORE","AUDIO_NODE_CONNECTIONS_STORE","AUDIO_NODE_STORE","AUDIO_PARAM_CONNECTIONS_STORE","AUDIO_PARAM_STORE","CONTEXT_STORE","EVENT_LISTENERS","CYCLE_COUNTERS","NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS","NODE_TO_PROCESSOR_MAPS","handler","isConstructible","constructible","proxy","IMPORT_STATEMENT_REGEX","splitImportStatements","url","importStatements","sourceWithoutImportStatements","unresolvedUrl","importStatementWithResolvedUrl","verifyParameterDescriptors","parameterDescriptors","verifyProcessorCtor","processorCtor","createAddAudioWorkletModule","cacheTestResult","createNotSupportedError","evaluateSource","exposeCurrentFrameAndCurrentTime","fetchSource","getNativeContext","getOrCreateBackupOfflineAudioContext","isNativeOfflineAudioContext","nativeAudioWorkletNodeConstructor","ongoingRequests","resolvedRequests","testAudioWorkletProcessorPostMessageSupport","window","moduleURL","resolvedRequestsOfContext","ongoingRequestsOfContext","promiseOfOngoingRequest","nativeContext","promise","absoluteUrl","wrappedSource","evaluateAudioWorkletGlobalScope","nodeNameToProcessorConstructorMap","isSupportingPostMessage","currentIndex","blob","backupOfflineAudioContext","nativeContextOrBackupOfflineAudioContext","updatedResolvedRequestsOfContext","updatedOngoingRequestsOfContext","getValueForKey","pickElementFromSet","matchingElements","matchingElement","deletePassiveInputConnectionToAudioNode","passiveInputs","passiveInputConnections","matchingConnection","passiveInputConnection","getEventListenersOfAudioNode","setInternalStateToActive","isAudioWorkletNode","setInternalStateToPassive","setInternalStateToPassiveWhenNecessary","connections","createAddConnectionToAudioNode","addActiveInputConnectionToAudioNode","addPassiveInputConnectionToAudioNode","connectNativeAudioNodeToNativeAudioNode","deleteActiveInputConnectionToAudioNode","disconnectNativeAudioNodeFromNativeAudioNode","getAudioNodeConnections","getAudioNodeTailTime","getNativeAudioNode","isActiveAudioNode","isPartOfACycle","isPassiveAudioNode","tailTimeTimeoutIds","destination","isOffline","outputs","eventListeners","isActive","nativeDestinationAudioNode","nativeSourceAudioNode","partialConnection","tailTime","tailTimeTimeoutId","outputConnection","createAddPassiveInputConnectionToAudioNode","createAddSilentConnection","createNativeGainNode","nativeAudioScheduledSourceNode","nativeGainNode","disconnect","createAddUnrenderedAudioWorkletNode","getUnrenderedAudioWorkletNodes","audioWorkletNode","DEFAULT_OPTIONS","createAnalyserNodeConstructor","audionNodeConstructor","createAnalyserNodeRenderer","createIndexSizeError","createNativeAnalyserNode","mergedOptions","nativeAnalyserNode","analyserNodeRenderer","maxDecibels","minDecibels","isOwnedByContext","createAnalyserNodeRendererFactory","renderInputsOfAudioNode","renderedNativeAnalyserNodes","createAnalyserNode","nativeOfflineAudioContext","renderedNativeAnalyserNode","testAudioBufferCopyChannelMethodsOutOfBoundsSupport","nativeAudioBuffer","wrapAudioBufferGetChannelDataMethod","audioBuffer","getChannelData","channel","createAudioBufferConstructor","audioBufferStore","nativeAudioBufferConstructor","nativeOfflineAudioContextConstructor","testNativeAudioBufferConstructorSupport","wrapAudioBufferCopyChannelMethods","wrapAudioBufferCopyChannelMethodsOutOfBounds","AudioBuffer","numberOfChannels","sampleRate","instance","MOST_NEGATIVE_SINGLE_FLOAT","MOST_POSITIVE_SINGLE_FLOAT","createAudioBufferSourceNodeConstructor","audioNodeConstructor","createAudioBufferSourceNodeRenderer","createAudioParam","createInvalidStateError","createNativeAudioBufferSourceNode","wrapEventListener","nativeAudioBufferSourceNode","audioBufferSourceNodeRenderer","wrappedListener","nativeOnEnded","when","resetInternalStateToPassive","createAudioBufferSourceNodeRendererFactory","connectAudioParam","renderAutomation","renderedNativeAudioBufferSourceNodes","createAudioBufferSourceNode","nativeAudioBufferSourceNodeIsOwnedByContext","renderedNativeAudioBufferSourceNode","isAudioBufferSourceNode","isBiquadFilterNode","isConstantSourceNode","isGainNode","isOscillatorNode","isStereoPannerNode","getAudioParamConnections","deactivateActiveAudioNodeInputConnections","trace","audioParams","audioParamConnections","deactivateAudioGraph","isValidLatencyHint","latencyHint","createAudioContextConstructor","baseAudioContextConstructor","createUnknownError","mediaElementAudioSourceNodeConstructor","mediaStreamAudioDestinationNodeConstructor","mediaStreamAudioSourceNodeConstructor","mediaStreamTrackAudioSourceNodeConstructor","nativeAudioContextConstructor","nativeAudioContext","revokeState","mediaElement","mediaStream","mediaStreamTrack","resolve","reject","resolvePromise","createAudioDestinationNodeConstructor","createAudioDestinationNodeRenderer","createNativeAudioDestinationNode","channelCount","nativeAudioDestinationNode","audioDestinationNodeRenderer","renderedNativeAudioDestinationNodes","createAudioDestinationNode","renderedNativeAudioDestinationNode","createAudioListenerFactory","createNativeChannelMergerNode","createNativeConstantSourceNode","createNativeScriptProcessorNode","getFirstSample","overwriteAccessors","nativeListener","createFakeAudioParams","channelMergerNode","isScriptProcessorNodeCreated","lastOrientation","lastPosition","createScriptProcessorNode","scriptProcessorNode","inputBuffer","orientation","positon","createSetOrientation","createSetPosition","createFakeAudioParam","initialValue","setValue","constantSourceNode","get","cancelAndHoldAtTime","args","cancelScheduledValues","exponentialRampToValueAtTime","linearRampToValueAtTime","setTargetAtTime","setValueAtTime","setValueCurveAtTime","forwardX","forwardY","forwardZ","positionX","positionY","positionZ","upX","upY","upZ","isAudioNode","audioNodeOrAudioParam","isAudioNodeOutputConnection","lmnt","addActiveInputConnectionToAudioParam","addPassiveInputConnectionToAudioParam","isNativeAudioNodeFaker","nativeAudioNodeOrNativeAudioNodeFaker","fakeNativeDestinationAudioNode","deleteActiveInputConnection","activeInputConnections","deleteActiveInputConnectionToAudioParam","deleteEventListenerOfAudioNode","deletePassiveInputConnectionToAudioParam","getNativeAudioParam","testAudioNodeDisconnectMethodSupport","analyzer","dummy","ones","channelData","chnnlDt","sample","visitEachAudioNodeOnce","cycles","visitor","cycle","isNativeAudioNode","nativeAudioNodeOrAudioParam","wrapAudioNodeDisconnectMethod","connect","returnValue","connectionsToDestination","connection","destinationOrOutput","filteredConnections","addConnectionToAudioParamOfAudioContext","nativeAudioParam","deleteInputConnectionOfAudioNode","deleteInputConnectionOfAudioParam","deleteInputsOfAudioNode","listener","deleteInputsOfAudioParam","deleteAnyConnection","audioNodeConnectionsOfSource","destinations","deleteConnectionAtOutput","deleteConnectionToDestination","createAudioNodeConstructor","addAudioNodeConnections","addConnectionToAudioNode","createIncrementCycleCounter","createInvalidAccessError","decrementCycleCounter","detectCycles","eventTargetConstructor","isNativeAudioContext","isNativeAudioParam","isPassive","createAudioParamFactory","addAudioParamConnections","audioParamAudioNodeStore","audioParamStore","createAudioParamRenderer","setValueAtTimeUntilPossible","isAudioParamOfOfflineAudioContext","automationEventList","previousLastEvent","currentLastEvent","currentTime","convertedValues","firstSample","lastSample","numberOfInterpolatedValues","interpolatedValues","timeOfLastSample","ReadOnlyMap","parameters","thisArg","createAudioWorkletNodeConstructor","addUnrenderedAudioWorkletNode","createAudioWorkletNodeRenderer","createNativeAudioWorkletNode","getBackupOfflineAudioContext","sanitizeAudioWorkletNodeOptions","setActiveAudioWorkletNodeInputs","testAudioWorkletNodeOptionsClonability","processorConstructor","nativeAudioWorkletNode","audioWorkletNodeRenderer","nm","nativeOnProcessorError","copyFromChannel","channelNumber","bufferOffset","slicedInput","copyToChannel","createNestedArrays","getAudioWorkletProcessor","nodeToProcessorMap","processBuffer","renderedBuffer","outputChannelCount","numberOfInputChannels","numberOfOutputChannels","processedBuffer","audioNodeConnections","audioWorkletProcessor","inputs","prmtrs","potentiallyEmptyInputs","activeSourceFlag","outputChannelSplitterNodeOutput","createAudioWorkletNodeRendererFactory","connectMultipleOutputs","createNativeChannelSplitterNode","deleteUnrenderedAudioWorkletNode","disconnectMultipleOutputs","renderNativeOfflineAudioContext","renderedNativeAudioNodes","processedBufferPromise","createAudioNode","nativeOutputNodes","nativeAudioWorkletNodeIsOwnedByContext","outputChannelSplitterNode","outputChannelMergerNodes","outputGainNode","numberOfParameters","partialOfflineAudioContext","gainNodes","inputChannelSplitterNodes","constantSourceNodes","inputChannelMergerNode","gainNode","audioBufferSourceNode","outputChannelMergerNode","renderedNativeAudioWorkletNodeOrGainNode","createBaseAudioContextConstructor","addAudioWorkletModule","analyserNodeConstructor","audioBufferConstructor","audioBufferSourceNodeConstructor","biquadFilterNodeConstructor","channelMergerNodeConstructor","channelSplitterNodeConstructor","constantSourceNodeConstructor","convolverNodeConstructor","decodeAudioData","delayNodeConstructor","dynamicsCompressorNodeConstructor","gainNodeConstructor","iIRFilterNodeConstructor","minimalBaseAudioContextConstructor","oscillatorNodeConstructor","pannerNodeConstructor","periodicWaveConstructor","stereoPannerNodeConstructor","waveShaperNodeConstructor","_nativeContext","numberOfInputs","numberOfOutputs","maxDelayTime","feedforward","feedback","real","imag","constraints","audioData","successCallback","errorCallback","createBiquadFilterNodeConstructor","createBiquadFilterNodeRenderer","createNativeBiquadFilterNode","setAudioNodeTailTime","nativeBiquadFilterNode","biquadFilterNodeRenderer","frequencyHz","magResponse","phaseResponse","createBiquadFilterNodeRendererFactory","renderedNativeBiquadFilterNodes","createBiquadFilterNode","nativeBiquadFilterNodeIsOwnedByContext","renderedNativeBiquadFilterNode","createCacheTestResult","ongoingTests","testResults","tester","cachedTestResult","ongoingTest","synchronousTestResult","finalTestResult","createChannelMergerNodeConstructor","createChannelMergerNodeRenderer","nativeChannelMergerNode","channelMergerNodeRenderer","createChannelMergerNodeRendererFactory","renderedNativeAudioNode","createChannelSplitterNodeConstructor","createChannelSplitterNodeRenderer","sanitizeChannelSplitterOptions","nativeChannelSplitterNode","channelSplitterNodeRenderer","createChannelSplitterNodeRendererFactory","createConnectAudioParam","renderInputsOfAudioParam","createConnectMultipleOutputs","outputAudioNodes","outputAudioNode","createConnectedNativeAudioBufferSourceNodeFactory","createConstantSourceNodeConstructor","createConstantSourceNodeRendererFactory","nativeConstantSourceNode","constantSourceNodeRenderer","renderedNativeConstantSourceNodes","createConstantSourceNode","nativeConstantSourceNodeIsOwnedByContext","renderedNativeConstantSourceNode","createConvertNumberToUnsignedLong","unit32Array","createConvolverNodeConstructor","createConvolverNodeRenderer","createNativeConvolverNode","nativeConvolverNode","convolverNodeRenderer","createConvolverNodeRendererFactory","renderedNativeConvolverNodes","createConvolverNode","renderedNativeConvolverNode","createCreateNativeOfflineAudioContext","createDataCloneError","detachArrayBuffer","arrayBuffer","port1","port2","closeAndResolve","createDecodeAudioData","createEncodingError","detachedArrayBuffers","isNativeContext","testPromiseSupport","anyContext","complete","fail","createDecrementCycleCounter","cycleCounters","cycleCounter","nativeDestinationAudioParam","createDelayNodeConstructor","createDelayNodeRenderer","createNativeDelayNode","nativeDelayNode","delayNodeRenderer","createDelayNodeRendererFactory","renderedNativeDelayNodes","createDelayNode","nativeDelayNodeIsOwnedByContext","renderedNativeDelayNode","createDeleteActiveInputConnectionToAudioNode","createDeleteUnrenderedAudioWorkletNode","isDelayNode","createDetectCycles","chain","nextLink","mergedCycles","nestedCycles","getOutputAudioNodeAtIndex","createDisconnectMultipleOutputs","createDynamicsCompressorNodeConstructor","createDynamicsCompressorNodeRenderer","createNativeDynamicsCompressorNode","nativeDynamicsCompressorNode","dynamicsCompressorNodeRenderer","previousChannelCount","createDynamicsCompressorNodeRendererFactory","renderedNativeDynamicsCompressorNodes","createDynamicsCompressorNode","nativeDynamicsCompressorNodeIsOwnedByContext","renderedNativeDynamicsCompressorNode","createEvaluateSource","head","script","originalOnErrorHandler","removeErrorEventListenerAndRevokeUrl","src","lineno","colno","createEventTargetConstructor","_nativeEventTarget","wrappedEventListener","createExposeCurrentFrameAndCurrentTime","fn","createFetchSource","response","createGainNodeConstructor","createGainNodeRenderer","gainNodeRenderer","createGainNodeRendererFactory","renderedNativeGainNodes","createGainNode","nativeGainNodeIsOwnedByContext","renderedNativeGainNode","createGetActiveAudioWorkletNodeInputs","activeAudioWorkletNodeInputsStore","createGetAudioNodeRenderer","createGetAudioNodeTailTime","audioNodeTailTimeStore","createGetAudioParamRenderer","createGetBackupOfflineAudioContext","backupOfflineAudioContextStore","createGetNativeContext","contextStore","createGetOrCreateBackupOfflineAudioContext","createGetUnrenderedAudioWorkletNodes","unrenderedAudioWorkletNodeStore","unrenderedAudioWorkletNodes","wrapIIRFilterNodeGetFrequencyResponseMethod","nativeIIRFilterNode","getFrequencyResponse","createIIRFilterNodeConstructor","createNativeIIRFilterNode","createIIRFilterNodeRenderer","iirFilterNodeRenderer","filterBuffer","feedbackLength","feedforwardLength","minLength","xBuffer","yBuffer","bufferIndex","bufferLength","inputLength","filterFullBuffer","convertedFeedback","convertedFeedforward","filteredBuffer","createIIRFilterNodeRendererFactory","filteredBufferPromise","nativeIIRFilterNodeIsOwnedByContext","createIncrementCycleCounterFactory","createIsAnyAudioContext","anything","createIsAnyAudioNode","audioNodeStore","createIsAnyAudioParam","createIsAnyOfflineAudioContext","createIsNativeAudioContext","createIsNativeAudioNode","createIsNativeAudioParam","createIsNativeContext","createIsNativeOfflineAudioContext","createIsSecureContext","createMediaElementAudioSourceNodeConstructor","createNativeMediaElementAudioSourceNode","nativeMediaElementAudioSourceNode","createMediaStreamAudioDestinationNodeConstructor","createNativeMediaStreamAudioDestinationNode","nativeMediaStreamAudioDestinationNode","createMediaStreamAudioSourceNodeConstructor","createNativeMediaStreamAudioSourceNode","nativeMediaStreamAudioSourceNode","createMediaStreamTrackAudioSourceNodeConstructor","createNativeMediaStreamTrackAudioSourceNode","nativeMediaStreamTrackAudioSourceNode","createMinimalBaseAudioContextConstructor","audioDestinationNodeConstructor","createAudioListener","nativeOnStateChange","uint32Array","createMonitorConnections","whenConnected","whenDisconnected","wasDisconnected","wasConnected","isDisconnected","assignNativeAudioNodeOption","option","assignNativeAudioNodeOptions","testAnalyserNodeGetFloatTimeDomainDataMethodSupport","wrapAnalyserNodeGetFloatTimeDomainDataMethod","byteTimeDomainData","createNativeAnalyserNodeFactory","createNativeAudioBufferConstructor","assignNativeAudioNodeAudioParamValue","wrapAudioBufferSourceNodeStartMethodConsecutiveCalls","isScheduled","wrapAudioScheduledSourceNodeStartMethodNegativeParameters","wrapAudioScheduledSourceNodeStopMethodNegativeParameters","createNativeAudioBufferSourceNodeFactory","addSilentConnection","testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport","testAudioBufferSourceNodeStartMethodOffsetClampingSupport","testAudioBufferSourceNodeStopMethodNullifiedBufferSupport","testAudioScheduledSourceNodeStartMethodNegativeParametersSupport","testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport","testAudioScheduledSourceNodeStopMethodNegativeParametersSupport","wrapAudioBufferSourceNodeStartMethodOffsetClampling","wrapAudioBufferSourceNodeStopMethodNullifiedBuffer","wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls","createNativeAudioContextConstructor","createNativeAudioDestinationNodeFactory","isNodeOfNativeOfflineAudioContext","createNativeAudioWorkletNodeConstructor","testClonabilityOfAudioWorkletNodeOptions","audioWorkletNodeOptions","createNativeAudioWorkletNodeFactory","createNativeAudioWorkletNodeFaker","monitorConnections","baseLatency","patchedEventListeners","onprocessorerror","addEventListener","unpatchedEventListener","patchedEventListener","removeEventListener","computeBufferSize","cloneAudioWorkletNodeOptions","createAudioWorkletProcessorPromise","clonedAudioWorkletNodeOptions","createAudioWorkletProcessor","audioWorkletProcessorPromise","createNativeAudioWorkletNodeFakerFactory","getActiveAudioWorkletNodeInputs","messageChannel","bufferSize","parameterMap","channelInterpretation","nativeAudioWorkletNodeFaker","onmessage","dWrkltPrcssr","disconnectOutputsGraph","activeInputIndexes","outputBuffer","isConnected","disconnectFakeGraph","connectFakeGraph","createNativeChannelMergerNodeFactory","wrapChannelMergerNode","wrapChannelSplitterNode","channelSplitterNode","createNativeConstantSourceNodeFactory","createNativeConstantSourceNodeFaker","interceptConnections","original","interceptor","createNativeConstantSourceNodeFakerFactory","audioNodeOptions","nativeConstantSourceNodeFaker","createNativeConvolverNodeFactory","createNativeDynamicsCompressorNodeFactory","createNativeIIRFilterNodeFactory","createNativeIIRFilterNodeFaker","divide","denominator","multiply","evaluatePolynomial","createNativeIIRFilterNodeFakerFactory","channelCountMode","bufferIndexes","xBuffers","yBuffers","nyquist","omega","numerator","audioStreamTracks","filteredAudioStreamTracks","createNativeMediaStreamTrackAudioSourceNodeFactory","createNativeOfflineAudioContextConstructor","createNativeOscillatorNodeFactory","nativeOscillatorNode","createNativePannerNodeFactory","createNativePannerNodeFaker","nativePannerNode","createNativePannerNodeFakerFactory","createNativeWaveShaperNode","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","refDistance","rolloffFactor","pannerNode","SINGLE_CHANNEL_OPTIONS","inputGainNode","orientationXGainNode","orientationYGainNode","orientationZGainNode","positionXGainNode","positionYGainNode","positionZGainNode","waveShaperNode","nativePannerNodeFaker","createNativePeriodicWaveFactory","disableNormalization","convertedImag","convertedReal","nativePeriodicWave","createNativeStereoPannerNodeFactory","createNativeStereoPannerNodeFaker","nativeStereoPannerNode","createNativeStereoPannerNodeFakerFactory","DC_CURVE","HALF_PI","SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS","buildInternalGraphForMono","panGainNode","leftWaveShaperCurve","rightWaveShaperCurve","leftGainNode","leftWaveShaperNode","panWaveShaperNode","rightGainNode","rightWaveShaperNode","buildInternalGraphForStereo","leftInputForLeftOutputWaveShaperCurve","leftInputForRightOutputWaveShaperCurve","rightInputForLeftOutputWaveShaperCurve","rightInputForRightOutputWaveShaperCurve","centerIndex","leftInputForLeftOutputGainNode","leftInputForLeftOutputWaveShaperNode","leftInputForRightOutputGainNode","leftInputForRightOutputWaveShaperNode","rightInputForLeftOutputGainNode","rightInputForLeftOutputWaveShaperNode","rightInputForRightOutputGainNode","rightInputForRightOutputWaveShaperNode","buildInternalGraph","pan","connectGraph","disconnectGraph","nativeStereoPannerNodeFakerFactory","createNativeWaveShaperNodeFactory","createConnectedNativeAudioBufferSourceNode","createNativeWaveShaperNodeFaker","isDCCurve","nativeWaveShaperNode","disconnectNativeAudioBufferSourceNode","createNativeWaveShaperNodeFakerFactory","oversample","negativeWaveShaperNode","positiveWaveShaperNode","invertGainNode","revertGainNode","unmodifiedCurve","nativeWaveShaperNodeFaker","curveLength","negativeCurve","positiveCurve","createOfflineAudioContextConstructor","createNativeOfflineAudioContext","startRendering","delayStateChangeEvent","createOscillatorNodeConstructor","createNativeOscillatorNode","createOscillatorNodeRenderer","oscillatorNodeRenderer","periodicWave","createOscillatorNodeRendererFactory","renderedNativeOscillatorNodes","createOscillatorNode","nativeOscillatorNodeIsOwnedByContext","renderedNativeOscillatorNode","createPannerNodeConstructor","createNativePannerNode","createPannerNodeRenderer","pannerNodeRenderer","createPannerNodeRendererFactory","renderedBufferPromise","commonAudioNodeOptions","commonNativePannerNodeOptions","nativePannerNodeIsOwnedByContext","nativeConstantSourceNodes","channelDatas","gateGainNode","partialPannerNode","renderedNativeGainNodeOrNativePannerNode","createPeriodicWaveConstructor","createNativePeriodicWave","periodicWaveStore","sanitizePeriodicWaveOptions","PeriodicWave","createRenderAutomation","getAudioParamRenderer","createRenderInputsOfAudioNode","getAudioNodeRenderer","allRenderingPromises","renderingPromises","createRenderInputsOfAudioParam","createRenderNativeOfflineAudioContext","testOfflineAudioContextCurrentTimeSupport","isOfflineAudioContextCurrentTimeSupported","createSetActiveAudioWorkletNodeInputs","createSetAudioNodeTailTime","createStartRendering","createStereoPannerNodeConstructor","createNativeStereoPannerNode","createStereoPannerNodeRenderer","stereoPannerNodeRenderer","createStereoPannerNodeRendererFactory","renderedNativeStereoPannerNodes","createStereoPannerNode","nativeStereoPannerNodeIsOwnedByContext","renderedNativeStereoPannerNode","createTestAudioBufferConstructorSupport","createTestAudioWorkletProcessorPostMessageSupport","offlineAudioContext","isEmittingMessageEvents","isEmittingProcessorErrorEvents","oscillator","createTestOfflineAudioContextCurrentTimeSupport","createWaveShaperNodeConstructor","createWaveShaperNodeRenderer","waveShaperNodeRenderer","createWaveShaperNodeRendererFactory","renderedNativeWaveShaperNodes","createWaveShaperNode","renderedNativeWaveShaperNode","createWindow","createWrapAudioBufferCopyChannelMethods","convertNumberToUnsignedLong","channelNumberAsNumber","bufferOffsetAsNumber","audioBufferLength","destinationLength","sourceLength","createWrapAudioBufferCopyChannelMethodsOutOfBounds","createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer","nullifiedBuffer","createWrapChannelMergerNode","property","createGetter","createSetter","wrapAudioBufferSourceNodeStartMethodOffsetClamping","clampedOffset","disconnectGainNode","isStopped","descriptor","createConstantSourceNodeRenderer","isSecureContext","audioContextConstructor","audioWorkletNodeConstructor","offlineAudioContextConstructor","isAnyAudioContext","isAnyAudioNode","isAnyAudioParam","isAnyOfflineAudioContext","isUndef","isDefined","isNumber","isBoolean","isString","isNote","assert","statement","assertRange","gte","lte","assertContextRunning","warn","isInsideScheduledCallback","printedScheduledWarning","enterScheduledCallback","insideCallback","assertUsedScheduleTime","defaultLogger","createAudioContext","stdAudioContext","createOfflineAudioContext","stdOfflineAudioContext","theWindow","hasAudioContext","createAudioWorkletNode","stdAudioWorkletNode","Ticker","updateInterval","contextSampleRate","blobUrl","worker","isAudioParam","isOfflineAudioContext","isAudioContext","isAudioBuffer","noCopy","deepMerge","sources","deepEquals","arrayA","arrayB","optionsFromArguments","defaults","argsArray","objKey","opts","getDefaultsFromInstance","defaultArg","given","fallback","omitFromObject","obj","omit","prop","Tone","EPSILON","GT","GTE","EQ","LT","Timeline","lastValue","diff","param","len","after","beginning","midPoint","nextEvent","testEvent","lowerBound","upperBound","notifyNewContext","onContextInit","cb","initializeContext","ctx","notifyCloseContext","onContextClose","closeContext","Emitter","eventName","boundCallback","eventList","constr","BaseContext","Context","_b","feedForward","stream","__awaiter","val","arr","timeout","id","intervalFn","DummyContext","_numberOfChannels","_length","_sampleRate","_numberOfInputs","_numberOfOutputs","_maxDelayTime","_feedForward","_feedback","_real","_imag","_constraints","_stream","_element","_audioData","_name","_options","_url","_fn","_timeout","_id","_interval","_val","_d","readOnly","str","writable","noOp","ToneAudioBuffer","getContext","doneLoading","isMultidimensional","multiChannelArray","chanNum","outputArray","numChannels","channelArray","ret","startSamples","endSamples","retBuffer","rev","baseUrl","extensions","extension","OfflineContext","asynchronous","yieldEvery","dummyContext","globalContext","setContext","disposeOld","printString","dbToGain","db","gainToDb","gain","intervalToFrequencyRatio","A4","getA4","setA4","freq","ftom","ftomf","mtof","TimeBaseClass","units","dot","numericValue","scalar","typeName","quantity","expr","matching","beats","TimeClass","capture","quantTo","subdiv","subdivision","testNotations","closest","closestSeconds","notation","notationSeconds","quarterTime","quarters","measures","sixteenths","sixteenthString","FrequencyClass","pitch","noteNumber","noteToScaleIndex","intervals","scaleIndexToNote","Frequency","TransportTimeClass","ToneWithContext","attribute","member","StateTimeline","initial","Param","computedTime","before","previousVal","beforeValue","currentVal","rampTime","scaling","startingValue","segTime","valueAtTime","previousEvent","subdivisions","ToneAudioNode","node","nodeList","outputNum","inputNum","nodes","connectSeries","current","srcNode","dstNode","outputNumber","inputNumber","Gain","OneShotSource","fadeInTime","fadeOutTime","additionalTail","disposeCallback","ToneConstantSource","Signal","connectSignal","overridden","signal","TickParam","computedValue","prevEvent","segments","rampVal","ticksUntilTime","computedVal","segmentDur","val0","val1","onTheLineEvent","currentTick","tick","sol1","sol2","computedDuration","startTicks","TickSignal","TickSource","stopEvent","memoizedEvent","tmpEvent","lastState","elapsedTicks","eventToMemoize","periodStartTime","offsetEvent","elapsedSeconds","absoluteTicks","lastStateEvent","maxStartTime","ticksAtStart","nextTickTime","Volume","mute","DestinationClass","ListenerClass","ToneAudioBuffers","onerror","MidiClass","TicksClass","DrawClass","IntervalTimeline","IntervalNode","results","replacement","balance","isLeftChild","pivotNode","allNodes","low","high","TimelineValue","SignalOperator","WaveShaper","mapping","normalized","oversampling","isOverSampleType","Pow","TransportEvent","transport","tickDuration","TransportRepeatEvent","TransportClass","tickTime","progress","amount","eventId","item","timeline","computedAfter","offsetTicks","timeSig","startPosition","endPosition","loop","remainingTick","ppq","transportPos","remainingTicks","sourceValue","scaleFactor","scaleBefore","reciprocal","scaleAfter","ratioSignal","syncedSignal","Source","sched","stateEvent","startOffset","ToneBufferSource","computedOffset","loopEnd","loopStart","loopDuration","computedDur","generateWaveform","ToneOscillatorNode","Oscillator","description","oscProps","isBasicType","partials","wave","baseType","partial","fullPartials","phase","periodicWaveSize","partialCount","piFactor","twoPi","testPositions","AudioToGain","Multiply","AMOscillator","FMOscillator","PulseOscillator","FatOscillator","osc","spread","PWMOscillator","OmniOscillatorSourceMap","OmniOscillator","oscType","OscConstructor","oldOsc","sType","sourceType","mType","valueMap","propertyKey","newValue","timeRange","Player","origDuration","rate","__decorate","Envelope","direction","curveName","EnvelopeCurves","curveDef","attack","decay","currentValue","attackRate","decayValue","decayStart","release","attackPortion","envelopeDuration","sustainTime","totalDuration","clone","cosineCurve","rippleCurve","rippleCurveFreq","sineWave","stairsCurve","steps","sineCurve","bounceCurve","invertCurve","reverseCurve","Instrument","changed","method","timePosition","originalMethod","Monophonic","computedFrequency","portTime","AmplitudeEnvelope","Synth","computedAttack","computedDecay","MembraneSynth","hertz","maxNote","workletContext","addToWorklet","classOrFunction","registerProcessor","classDesc","processor","toneAudioWorkletProcessor","singleIOProcess","delayLine","workletName","feedbackCombFilter","PolySynth","activeVoiceIndex","firstAvail","released","durationSeconds","sanitizedOptions","Sampler","urlMap","midiFloat","remainder","closestNote","playbackRate","Panner","bitCrusherWorklet","Solo","solo","PanVol","Channel","bus","sendKnob","NOTE_NAMES","KEY_TO_NOTE_OFFSET","VirtualKeyboard","onNotePlay","enabled","startOctave","octaveCount","isAudioReady","setIsAudioReady","activeNotes","setActiveNotes","synthRef","Tone.PolySynth","Tone.Synth","getMidiNote","noteOffset","getNoteName","playNote","Tone.getContext","Tone.start","noteName","Tone.Frequency","handleKeyDown","renderOctave","whiteKeyNotes","blackKeyNotes","whiteKeyWidth","blackKeyWidth","jsxs","jsx","displayName","position","leftOffset","octaves","Card","CardHeader","Piano","CardTitle","Badge","CardContent","RadialTimer","percentage","circumference","strokeDashoffset","isLow","isMedium","LivesDisplay","lives","className","isAlive","isLastLife","motion","AnimatePresence","ScoreHud","roundState","stats","Fragment","identity$3","translateX","translateY","entering","axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","spacing","range0","range1","selection","tickExit","tickEnter","axisTop","axisRight","axisBottom","axisLeft","dispatch","Dispatch","parseTypenames","typenames","typename","xhtml","namespaces","namespace","creatorInherit","document","uri","creatorFixed","fullname","creator","selector","selection_select","select","subgroups","subgroup","subnode","Selection","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","childFirst","selection_selectChild","children","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","datum","child","constant$8","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","selection_data","bind","arraylike","enterGroup","updateGroup","exitGroup","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","groups0","groups1","m0","merges","group0","group1","selection_order","selection_sort","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","classList","ClassList","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create","constantNull","selection_insert","remove","selection_remove","selection_cloneShallow","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","onRemove","on","onAdd","selection_on","dispatchEvent","params","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","selection_selection","create$1","nextId","local","Local","sourceEvent","pointer","rect","pointers","events","selectAll","nonpassive","nonpassivecapture","nopropagation","noevent$2","dragDisable","view","noevent","yesdrag","noclick","constant$7","DragEvent","subject","identifier","active","defaultFilter","defaultContainer","defaultSubject","defaultTouchable","drag","container","touchable","gestures","listeners","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","touches","touch","frame","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","delay","sleep","timerFlush","wake","nap","poke","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","init","self","tween","interrupt","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate$1","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","styleNull","style","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","cancel","selection_prototype","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","polyOut","polyInOut","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b2","b3","b4","b5","b6","b7","b8","b9","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","amplitude","period","elasticIn","elasticOut","elasticInOut","defaultTiming","easeCubicInOut","selection_transition","constant$6","BrushEvent","noevent$1","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","xy","Y","XY","cursors","flipX","flipY","signsX","signsY","defaultExtent","brushSelection","brushX","brush","brushY","brush_default","dim","handleSize","overlay","initialize","handle","redraw","started","emitter","emit","selection0","selection1","clean","signX","signY","W","N","n0","n1","e0","e1","moving","shifting","lockX","lockY","points","pts","move","moved","ended","keydowned","keyupped","point0","dragEnable","compareValue","chord_default","chord","chordTranspose","chordDirected","directed","sortGroups","sortSubgroups","sortChords","groupSums","groupIndex","chords","subgroupIndex","constant$5","defaultSource","defaultTarget","defaultRadius","defaultStartAngle","defaultEndAngle","defaultPadAngle","defaultArrowheadRadius","ribbon","headRadius","sourceRadius","targetRadius","sr","sa0","sa1","tr","ta0","ta1","hr","tr2","ta2","ribbon_default","ribbonArrow","area$2","ring","constant$4","contains$2","hole","ringContains","contains","xi","yi","pj","xj","yj","segmentContains","collinear","within","noop$1","cases","Contours","smooth","smoothLinear","contours","finite","contour","polygons","holes","isorings","polygon","fragmentByStart","fragmentByEnd","above","stitch","startIndex","endIndex","xt","yt","valid","smooth1","_0","defaultX","defaultY","defaultWeight","density","weight","grid","pow2k","wi","pow4k","geometry","transformPolygon","coordinates","transformRing","transformPoint","resize","splitter","resulterrbound","elen","flen","Q","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","estimate","vec","ccwerrboundA","ccwerrboundB","ccwerrboundC","C1","C2","orient2dadapt","cx","cy","detsum","acxtail","acytail","bcxtail","bcytail","ahi","alo","bhi","blo","_i","_j","u3","acx","bcx","acy","bcy","det","errbound","C1len","C2len","Dlen","orient2d","detleft","detright","EDGE_STACK","Delaunator","getX","defaultGetX","getY","defaultGetY","coords","maxTriangles","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","minDist","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","circumcenter","hullSize","xp","pseudoAngle","triangles","halfedges","ar","al","pr","pl","inCircle","hbl","br","ex","ey","fx","fy","bp","cp","cl","ids","dists","tempDist","tmp","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","vectors","circumcenters","ab","inedges","ti","tj","cell","c0","c1","ci","cj","ai","li","aj","lj","P","sx0","sy0","sx1","sy1","flip","vx0","vy0","vxn","vyn","vx","vy","jitter","Delaunay","flatArray","flatIterable","bounds","hullIndex","_hullIndex","dc","dt","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","customConverter","inferColumns","rows","columnSet","column","formatDate","hours","minutes","dsvFormat","delimiter","reFormat","DELIMITER","parseRows","eof","eol","token","preformatBody","formatValue","formatBody","formatRows","formatRow","csv","dsv","csvParse","csvParseRows","csvFormat","csvFormatBody","csvFormatRows","csvFormatRow","csvFormatValue","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","tsvFormatRow","tsvFormatValue","autoType","fixtz","responseBlob","responseArrayBuffer","responseText","dsvParse","image","responseJson","json","parser","xml","html","strength","force","sx","sy","tree_add","add","tree","leaf","xm","ym","addAll","yz","tree_cover","tree_data","tree_extent","Quad","tree_find","quads","tree_remove","retainer","removeAll","tree_root","tree_size","tree_visit","tree_visitAfter","tree_x","tree_y","quadtree","Quadtree","leaf_copy","treeProto","tree_addAll","tree_removeAll","constant$3","jiggle","collide","radii","iterations","ri","ri2","prepare","apply","quad","rj","_nodes","_random","nodeById","nodeId","link$1","links","defaultStrength","strengths","distance","distances","bias","initializeStrength","initializeDistance","lcg$2","initialRadius","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","lcg","initializeNodes","angle","initializeForce","manyBody","distanceMin2","distanceMax2","theta2","accumulate","radiuses","quarterPi","atan","ceil","exp","hypot","tan","haversin","streamGeometry","streamGeometryType","streamObjectType","features","streamLine","streamPolygon","geometries","closed","coordinate","geoStream","areaRingSum","areaSum","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","area$1","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","phi0","lambda1","phi1","lambda2","deltaSum","ranges","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","equatorial","inflection","lambdai","phii","antimeridian","rangeCompare","rangeContains","feature","merged","deltaMax","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","centroid$1","constant$2","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","cosRadius","sinRadius","circleRadius","clipBuffer","lines","pointEqual","Intersection","clipRejoin","compareIntersection","startInside","clip","segment","isSubject","longitude","polygonContains","winding","sinPhi1","cosPhi1","point1","absDelta","phiArc","pointVisible","clipLine","sink","ringBuffer","ringSink","polygonStarted","lineStart","lineEnd","pointRing","ringStart","ringEnd","pointLine","ringSegments","validSegment","clipAntimeridian","clipAntimeridianLine","clipAntimeridianInterpolate","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","from","to","clipCircle","cr","smallRadius","notHemisphere","visible","v00","point2","code","two","pb","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","polar","meridian","q1","clipMax","clipMin","clipRectangle","corner","comparePoint","ca","activeStream","bufferStream","x__","y__","v__","x_","y_","v_","clipStream","polygonStart","polygonEnd","polygonInside","cleanInside","cacheStream","lengthSum","lengthStream","lengthLineStart","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","sinDelta","length$1","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ao","bo","ringRadians","pointRadians","contains$1","graticuleX","graticuleY","graticule","DX","DY","graticule10","kx0","ky0","kx1","ky1","identity$2","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","lengthRing","cacheDigits","cacheAppend","cacheRadius","cacheCircle","PathString","index$2","projection","pointRadius","projectionStream","contextStream","pathArea","pathMeasure","pathBounds","pathCentroid","transform$1","methods","TransformStream","fit","fitBounds","fitExtent","fitSize","fitWidth","fitHeight","maxDepth","cosMinDistance","resample","project","delta2","resampleNone","resampleLineTo","depth","phi2","dx2","dy2","dz","b00","c00","resampleStream","ringPoint","transformRadians","transformRotate","scaleTranslate","scaleTranslateRotate","cosAlpha","sinAlpha","fi","projectionMutator","projectAt","theta","preclip","postclip","projectResample","projectTransform","projectRotateTransform","reset","recenter","conicProjection","cylindricalEqualAreaRaw","conicEqualAreaRaw","r0y","conicEqualArea","albers","multiplex","streams","albersUsa","lower48","lower48Point","alaska","alaskaPoint","hawaii","hawaiiPoint","pointStream","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEqualArea","azimuthalEquidistantRaw","azimuthalEquidistant","mercatorRaw","mercator","mercatorProjection","clipExtent","reclip","tany","conicConformalRaw","conicConformal","equirectangularRaw","equirectangular","conicEquidistantRaw","gy","nx","conicEquidistant","A1","A2","A3","M","equalEarthRaw","l2","l6","fpy","equalEarth","gnomonicRaw","gnomonic","identity$1","tx","ty","sa","naturalEarth1Raw","phi4","naturalEarth1","orthographicRaw","orthographic","stereographicRaw","stereographic","transverseMercatorRaw","transverseMercator","defaultSeparation","meanX","meanXReduce","maxYReduce","leafLeft","leafRight","cluster","separation","nodeSize","previousNode","node_count","node_each","node_eachBefore","node_eachAfter","node_find","node_sum","node_sort","node_path","ancestor","leastCommonAncestor","aNodes","bNodes","node_ancestors","node_descendants","node_leaves","leaves","node_links","node_iterator","hierarchy","mapChildren","objectChildren","Node","childs","computeHeight","node_copy","copyData","optional","required","constantZero","constant$1","lcg$1","shuffle","enclose","circles","packEncloseRandom","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","r21","r3","a2","a3","c3","d3","place","intersects","packSiblingsRandom","aa","sj","pack","siblings","index$1","radiusLeaf","packChildrenRandom","translateChild","roundNode","treemapDice","partition","positionNode","preroot","ambiguous","imputed","defaultId","defaultParentId","stratify","parentId","currentId","currentParentId","nodeKey","nodeByKey","parentof","slash","nextLeft","nextRight","moveSubtree","wm","wp","shift","change","executeShifts","nextAncestor","vim","TreeNode","treeRoot","firstWalk","secondWalk","sizeNode","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","treemapSlice","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","squarify","tile","paddingStack","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","binary","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","sliceDice","dice","resquarify","lexicographicOrder","computeUpperHullIndexes","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","inside","perimeter","uniform","sourceRandomUniform","randomUniform","int","sourceRandomInt","randomInt","sourceRandomNormal","randomNormal","mu","sigma","logNormal","sourceRandomLogNormal","randomLogNormal","irwinHall","sourceRandomIrwinHall","randomIrwinHall","bates","sourceRandomBates","randomBates","sourceRandomExponential","randomExponential","pareto","sourceRandomPareto","randomPareto","bernoulli","sourceRandomBernoulli","randomBernoulli","geometric","sourceRandomGeometric","randomGeometric","sourceRandomGamma","randomGamma","multiplier","sourceRandomBeta","G","randomBeta","binomial","sourceRandomBinomial","randomBinomial","acc","nn","pp","pFinal","weibull","sourceRandomWeibull","randomWeibull","outerFunc","cauchy","sourceRandomCauchy","randomCauchy","logistic","sourceRandomLogistic","randomLogistic","poisson","sourceRandomPoisson","randomPoisson","mul","eps","seed","category10","Accent","Dark2","observable10","Paired","Pastel1","Pastel2","Set1","Set2","Set3","Tableau10","ramp$1","scheme","interpolateRgbBasis","BrBG","ramp","PRGn","PiYG","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral","BuGn","BuPu","GnBu","OrRd","PuBuGn","PuBu","PuRd","RdPu","YlGnBu","YlGn","YlOrBr","YlOrRd","Blues","Greens","Greys","Purples","Reds","Oranges","cividis","interpolateCubehelixLong","warm","cool","rainbow","ts","pi_1_3","pi_2_3","sinebow","turbo","viridis","magma","inferno","plasma","ZoomEvent","Transform","defaultTransform","defaultWheelDelta","defaultConstrain","translateExtent","constrain","wheelDelta","scaleExtent","touchstarting","touchfirst","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","collection","k0","k1","Gesture","wheelidled","currentTarget","l0","l1","dp","dl","customHooks","_isEqual","_interopRequireDefault","_react","isDeepEquals","toCompare","reference","useDeepCompareMemo","dependencies","ref","useDeepCompareEffect","_default","GaugeChart_1","_interopRequireWildcard","_propTypes","_customHooks","_getRequireWildcardCache","newObj","hasPropertyDescriptor","desc","defaultStyle","animateNeedleProps","GaugeChart","doughnut","needle","margin","nbArcsToDisplay","colorArray","arcChart","arcData","pieChart","prevProps","selectedRef","initChart","renderChart","setArcData","handleResize","getColors","arcDatum","updateDimensions","calculateRadius","arcPaths","drawNeedle","colorScale","needleColor","needleBaseColor","hideText","animate","needleRadius","centerPoint","prevPercent","pathStr","calculateRotation","addText","currentPercent","percentOfPercent","needleLength","percentToRad","topPoint","leftPoint","rightPoint","formatTextValue","fontSize","textPadding","floatingNumber","maxDigits","centerGraph","marginInPercent","divDimensions","divWidth","divHeight","_GaugeChart","mapCentsToPercent","cents","smoothValue","FLAT_COLOR","INTUNE_COLOR","SHARP_COLOR","GAUGE_COLORS","PitchGaugeComponent","clarity","inTuneThreshold","smoothingFactor","smoothedCents","setSmoothedCents","animationFrameRef","isAnimating","updateSmoothedValue","prevSmoothed","baseAlpha","adaptiveFactor","useMemo","displayCents","inTune","PitchGauge","React","nextProps","NotationCard","isMicrophoneInstrument","staffContainerRef","tabContainerRef","detectedPitch","pitchSensitivity","pitchSmoothing","lastDetectedNote","tweenFunctions","_c","tweenFunctions_1","degreesToRads","randomRange","ParticleShape","RotationDirection","DEFAULT_FRAME_TIME","Particle","getOptions","initialVelocityX","initialVelocityY","gravity","wind","friction","drawShape","frameTimeMultiplier","rotateDelta","ParticleGenerator","canvas","newParticleX","newParticleY","particlesGenerated","lastNumberOfPieces","run","recycle","numberOfPieces","debug","tweenDuration","nP","activeCount","tweenedVal","numToAdd","confettiDefaults","tweens.easeInOutQuad","Confetti","computedConfettiDefaults","timestamp","onConfettiComplete","frameRate","lastRunState","lastRecycleState","ReactConfettiInternal","extractCanvasProps","confettiOptions","passedProps","canvasStyles","refs","rest","confettiOptionKeys","refProps","ReactConfetti","ScoreSummary","scoreResult","correctCount","totalNotes","onContinue","onRetry","showConfetti","showConfettiEffect","setShowConfettiEffect","windowSize","setWindowSize","updateSize","rankInfo","accuracy","CardDescription","Button","ScoreSummaryModal","isOpen","PlayRoute","navigate","useNavigate","search","Route","useSearch","selectedAudioDevice","midiConnected","setMidiConnected","microphoneActive","setMicrophoneActive","sessionActive","setSessionActive","setStats","incorrect","avgTime","setFeedback","setCurrentNote","setLastDetectedNote","showScoreSummary","setShowScoreSummary","setDetectedPitch","sessionActiveRef","currentNoteRef","instrumentRef","clefRef","gameModeRef","roundActionsRef","roundStateRef","midiManager","audioManager","audioPlayback","lastIncorrectFeedbackRef","audioInitAttemptedRef","noteValidatedRef","correctDetectionsRef","lastDetectionTimeRef","noteRange","handleRoundComplete","Storage","saveSession","incorrectCount","bestStreak","roundScore","currentScore","livesRemaining","toast","success","handleRoundFail","handleLifeLost","livesLeft","warning","handleStreakMilestone","roundActions","nextNote","generateRandomNote","handleMidiDeviceChange","_event","getInputDevices","handlePitchDetected","centsOff","instrumentConfig","getInstrument","validateNote","allowOctaveError","validation","octaveFlexible","Date","showFeedback","nextNoteRef","handleMidiNoteOn","setTimeout","isComplete","requiresMIDI","initManagers","disconnectDevice","cleanup","SILENCE_THRESHOLD_MS","checkInterval","setInterval","timeSinceLastDetection","clearInterval","AudioManager","getAudioInputDevices","startListening","initAudio","startSession","clearTimeout","stopSession","Math","notesRequired","undefined"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,998,999]}