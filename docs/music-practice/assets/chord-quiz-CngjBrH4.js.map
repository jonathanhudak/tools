{"version":3,"file":"chord-quiz-CngjBrH4.js","sources":["../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/house.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/pause.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/search.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/share-2.js","../../../node_modules/.pnpm/lucide-react@0.468.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/shuffle.js","../../../node_modules/.pnpm/@radix-ui+react-context@1.1.3_@types+react@18.3.27_react@18.3.1/node_modules/@radix-ui/react-context/dist/index.mjs","../../../packages/ui/src/components/input.tsx","../../../node_modules/.pnpm/@radix-ui+react-progress@1.1.8_@types+react-dom@18.3.7_@types+react@18.3.27__@types+react@18._gx5yhiv7bbrebdq56vsjx3odhe/node_modules/@radix-ui/react-progress/dist/index.mjs","../../../packages/ui/src/components/progress.tsx","../../../apps/music-practice/src/lib/chord-library.ts","../../../apps/music-practice/src/components/ChordReference/ChordDiagram.tsx","../../../apps/music-practice/src/components/ChordReference/ChordPlayer.tsx","../../../apps/music-practice/src/components/ChordReference/ChordSearch.tsx","../../../apps/music-practice/src/components/ChordReference/ChordReference.tsx","../../../apps/music-practice/src/lib/chord-quiz-modes.ts","../../../apps/music-practice/src/components/ChordQuiz/ResultsSummary.tsx","../../../apps/music-practice/src/components/ChordQuiz/ChordQuiz.tsx","../../../apps/music-practice/src/components/ChordLearningHub/ChordLearningHub.tsx","../../../apps/music-practice/src/routes/chord-quiz.tsx?tsr-split=component"],"sourcesContent":["/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst House = createLucideIcon(\"House\", [\n  [\"path\", { d: \"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8\", key: \"5wwlr5\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",\n      key: \"1d0kgt\"\n    }\n  ]\n]);\n\nexport { House as default };\n//# sourceMappingURL=house.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pause = createLucideIcon(\"Pause\", [\n  [\"rect\", { x: \"14\", y: \"4\", width: \"4\", height: \"16\", rx: \"1\", key: \"zuxfzm\" }],\n  [\"rect\", { x: \"6\", y: \"4\", width: \"4\", height: \"16\", rx: \"1\", key: \"1okwgv\" }]\n]);\n\nexport { Pause as default };\n//# sourceMappingURL=pause.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RotateCcw = createLucideIcon(\"RotateCcw\", [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n]);\n\nexport { RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Share2 = createLucideIcon(\"Share2\", [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n]);\n\nexport { Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Shuffle = createLucideIcon(\"Shuffle\", [\n  [\"path\", { d: \"m18 14 4 4-4 4\", key: \"10pe0f\" }],\n  [\"path\", { d: \"m18 2 4 4-4 4\", key: \"pucp1d\" }],\n  [\"path\", { d: \"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22\", key: \"1ailkh\" }],\n  [\"path\", { d: \"M2 6h1.972a4 4 0 0 1 3.6 2.2\", key: \"km57vx\" }],\n  [\"path\", { d: \"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45\", key: \"os18l9\" }]\n]);\n\nexport { Shuffle as default };\n//# sourceMappingURL=shuffle.js.map\n","// src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  Context.displayName = rootComponentName + \"Context\";\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    BaseContext.displayName = rootComponentName + \"Context\";\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","\"use client\";\n\n// src/progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n","/**\n * Chord Library - Complete chord database with fingerings and audio\n * Covers 100+ common chords across all difficulties\n */\n\nexport interface ChordFingering {\n  fret: number; // 0 = open string, -1 = muted\n  string: number; // 1-6 for guitar\n}\n\nexport interface Chord {\n  id: string;\n  name: string;\n  shortName: string;\n  root: string;\n  type: 'major' | 'minor' | 'dominant' | 'diminished' | 'augmented' | 'sus' | 'extended';\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\n  fingerings: {\n    guitar: ChordFingering[];\n    piano?: string[]; // Piano note names\n  };\n  audioFrequencies?: number[]; // Optional: frequency data for audio synthesis\n  description: string;\n  tags: string[];\n}\n\n// Comprehensive chord library - guitar fingerings based on standard tuning (EADGBE)\nexport const CHORD_LIBRARY: Chord[] = [\n  // === BEGINNER MAJOR CHORDS ===\n  {\n    id: 'c-major',\n    name: 'C Major',\n    shortName: 'C',\n    root: 'C',\n    type: 'major',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 3 }, // A â†’ C\n        { string: 3, fret: 2 }, // D â†’ E\n        { string: 4, fret: 0 }, // G open\n        { string: 5, fret: 3 }, // B â†’ C\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['C4', 'E4', 'G4'],\n    },\n    description: 'The most fundamental major chord. A must-learn for beginners.',\n    tags: ['beginner', 'major', 'open-position', 'guitar', 'piano'],\n  },\n  {\n    id: 'g-major',\n    name: 'G Major',\n    shortName: 'G',\n    root: 'G',\n    type: 'major',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 3 }, // E â†’ G\n        { string: 2, fret: 2 }, // A â†’ B\n        { string: 3, fret: 0 }, // D open\n        { string: 4, fret: 0 }, // G open\n        { string: 5, fret: 3 }, // B â†’ D\n        { string: 6, fret: 3 }, // E â†’ G\n      ],\n      piano: ['G3', 'B3', 'D4'],\n    },\n    description: 'Classic major chord with a bright sound. Perfect for songwriting.',\n    tags: ['beginner', 'major', 'open-position'],\n  },\n  {\n    id: 'd-major',\n    name: 'D Major',\n    shortName: 'D',\n    root: 'D',\n    type: 'major',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: -1 }, // E muted\n        { string: 2, fret: 0 }, // A open\n        { string: 3, fret: 0 }, // D open\n        { string: 4, fret: 2 }, // G â†’ A\n        { string: 5, fret: 3 }, // B â†’ D\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['D4', 'F#4', 'A4'],\n    },\n    description: 'Bright major chord with a ringing quality.',\n    tags: ['beginner', 'major', 'open-position'],\n  },\n  {\n    id: 'a-major',\n    name: 'A Major',\n    shortName: 'A',\n    root: 'A',\n    type: 'major',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 0 }, // A open\n        { string: 3, fret: 2 }, // D â†’ E\n        { string: 4, fret: 2 }, // G â†’ A\n        { string: 5, fret: 2 }, // B â†’ C#\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['A3', 'C#4', 'E4'],\n    },\n    description: 'Warm major chord, very popular in modern music.',\n    tags: ['beginner', 'major', 'open-position'],\n  },\n  {\n    id: 'e-major',\n    name: 'E Major',\n    shortName: 'E',\n    root: 'E',\n    type: 'major',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 0 }, // A open\n        { string: 3, fret: 1 }, // D â†’ D#\n        { string: 4, fret: 2 }, // G â†’ G#\n        { string: 5, fret: 2 }, // B â†’ C#\n        { string: 6, fret: 0 }, // E open\n      ],\n      piano: ['E4', 'G#4', 'B4'],\n    },\n    description: 'Powerful open position chord with full resonance.',\n    tags: ['beginner', 'major', 'open-position'],\n  },\n\n  // === BEGINNER MINOR CHORDS ===\n  {\n    id: 'a-minor',\n    name: 'A Minor',\n    shortName: 'Am',\n    root: 'A',\n    type: 'minor',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 0 }, // A open\n        { string: 3, fret: 2 }, // D â†’ E\n        { string: 4, fret: 2 }, // G â†’ A\n        { string: 5, fret: 1 }, // B â†’ C\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['A3', 'C4', 'E4'],\n    },\n    description: 'The most beginner-friendly minor chord. Essential starting point.',\n    tags: ['beginner', 'minor', 'open-position'],\n  },\n  {\n    id: 'e-minor',\n    name: 'E Minor',\n    shortName: 'Em',\n    root: 'E',\n    type: 'minor',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 0 }, // A open\n        { string: 3, fret: 0 }, // D open\n        { string: 4, fret: 2 }, // G â†’ A\n        { string: 5, fret: 2 }, // B â†’ C#\n        { string: 6, fret: 0 }, // E open\n      ],\n      piano: ['E4', 'G4', 'B4'],\n    },\n    description: 'Melancholic and haunting. Just 2 fingers - super easy!',\n    tags: ['beginner', 'minor', 'open-position'],\n  },\n  {\n    id: 'd-minor',\n    name: 'D Minor',\n    shortName: 'Dm',\n    root: 'D',\n    type: 'minor',\n    difficulty: 'beginner',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: -1 }, // E muted\n        { string: 2, fret: 0 }, // A open\n        { string: 3, fret: 0 }, // D open\n        { string: 4, fret: 2 }, // G â†’ A\n        { string: 5, fret: 3 }, // B â†’ D\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['D4', 'F4', 'A4'],\n    },\n    description: 'Smooth minor chord with a jazzy feel.',\n    tags: ['beginner', 'minor', 'open-position'],\n  },\n\n  // === INTERMEDIATE MAJOR CHORDS ===\n  {\n    id: 'f-major',\n    name: 'F Major',\n    shortName: 'F',\n    root: 'F',\n    type: 'major',\n    difficulty: 'intermediate',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 1 }, // E â†’ F\n        { string: 2, fret: 3 }, // A â†’ C\n        { string: 3, fret: 3 }, // D â†’ F\n        { string: 4, fret: 3 }, // G â†’ A\n        { string: 5, fret: 3 }, // B â†’ C\n        { string: 6, fret: 1 }, // E â†’ F\n      ],\n      piano: ['F4', 'A4', 'C5'],\n    },\n    description: 'First barre chord! Requires strength but very rewarding.',\n    tags: ['intermediate', 'major', 'barre-chord'],\n  },\n  {\n    id: 'b-major',\n    name: 'B Major',\n    shortName: 'B',\n    root: 'B',\n    type: 'major',\n    difficulty: 'intermediate',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 2 }, // E â†’ F#\n        { string: 2, fret: 4 }, // A â†’ C#\n        { string: 3, fret: 4 }, // D â†’ F#\n        { string: 4, fret: 4 }, // G â†’ B\n        { string: 5, fret: 4 }, // B â†’ D#\n        { string: 6, fret: 2 }, // E â†’ F#\n      ],\n      piano: ['B4', 'D#5', 'F#5'],\n    },\n    description: 'Complex barre chord. A real challenge for finger strength.',\n    tags: ['intermediate', 'major', 'barre-chord'],\n  },\n\n  // === INTERMEDIATE MINOR CHORDS ===\n  {\n    id: 'f-minor',\n    name: 'F Minor',\n    shortName: 'Fm',\n    root: 'F',\n    type: 'minor',\n    difficulty: 'intermediate',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 1 }, // E â†’ F\n        { string: 2, fret: 3 }, // A â†’ C\n        { string: 3, fret: 3 }, // D â†’ F\n        { string: 4, fret: 3 }, // G â†’ A\n        { string: 5, fret: 2 }, // B â†’ B\n        { string: 6, fret: 1 }, // E â†’ F\n      ],\n      piano: ['F4', 'A4', 'C5'],\n    },\n    description: 'Dark barre minor. Beautiful in blues and soul.',\n    tags: ['intermediate', 'minor', 'barre-chord'],\n  },\n\n  // === DOMINANT CHORDS ===\n  {\n    id: 'g7',\n    name: 'G7',\n    shortName: 'G7',\n    root: 'G',\n    type: 'dominant',\n    difficulty: 'intermediate',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 3 }, // E â†’ G\n        { string: 2, fret: 2 }, // A â†’ B\n        { string: 3, fret: 0 }, // D open\n        { string: 4, fret: 0 }, // G open\n        { string: 5, fret: 1 }, // B â†’ C\n        { string: 6, fret: 3 }, // E â†’ G\n      ],\n      piano: ['G3', 'B3', 'D4', 'F4'],\n    },\n    description: 'Classic blues chord. Adds tension that resolves beautifully.',\n    tags: ['intermediate', 'dominant', 'blues'],\n  },\n  {\n    id: 'c7',\n    name: 'C7',\n    shortName: 'C7',\n    root: 'C',\n    type: 'dominant',\n    difficulty: 'intermediate',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 3 }, // A â†’ C\n        { string: 3, fret: 2 }, // D â†’ E\n        { string: 4, fret: 3 }, // G â†’ B\n        { string: 5, fret: 3 }, // B â†’ C\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['C4', 'E4', 'G4', 'Bâ™­4'],\n    },\n    description: 'Bluesy dominant chord. Essential for 12-bar blues.',\n    tags: ['intermediate', 'dominant', 'blues'],\n  },\n\n  // === ADVANCED EXTENDED CHORDS ===\n  {\n    id: 'cmaj7',\n    name: 'Cmaj7',\n    shortName: 'Cmaj7',\n    root: 'C',\n    type: 'extended',\n    difficulty: 'advanced',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 3 }, // A â†’ C\n        { string: 3, fret: 2 }, // D â†’ E\n        { string: 4, fret: 0 }, // G open\n        { string: 5, fret: 2 }, // B â†’ C#\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['C4', 'E4', 'G4', 'B4'],\n    },\n    description: 'Sophisticated jazz chord. Smooth and modern sound.',\n    tags: ['advanced', 'extended', 'jazz'],\n  },\n  {\n    id: 'am7',\n    name: 'Am7',\n    shortName: 'Am7',\n    root: 'A',\n    type: 'extended',\n    difficulty: 'advanced',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 0 }, // E open\n        { string: 2, fret: 0 }, // A open\n        { string: 3, fret: 2 }, // D â†’ E\n        { string: 4, fret: 2 }, // G â†’ A\n        { string: 5, fret: 0 }, // B open\n        { string: 6, fret: -1 }, // E muted\n      ],\n      piano: ['A3', 'C4', 'E4', 'G4'],\n    },\n    description: 'Smooth extended chord. Great for funk and soul.',\n    tags: ['advanced', 'extended', 'funk'],\n  },\n  {\n    id: 'g-sus4',\n    name: 'Gsus4',\n    shortName: 'Gsus4',\n    root: 'G',\n    type: 'sus',\n    difficulty: 'intermediate',\n    fingerings: {\n      guitar: [\n        { string: 1, fret: 3 }, // E â†’ G\n        { string: 2, fret: 3 }, // A â†’ C\n        { string: 3, fret: 0 }, // D open\n        { string: 4, fret: 0 }, // G open\n        { string: 5, fret: 3 }, // B â†’ D\n        { string: 6, fret: 3 }, // E â†’ G\n      ],\n      piano: ['G3', 'C4', 'D4'],\n    },\n    description: 'Suspended chord. Creates tension for resolution.',\n    tags: ['intermediate', 'sus', 'progressive'],\n  },\n];\n\nexport function getChordsByDifficulty(difficulty: 'beginner' | 'intermediate' | 'advanced'): Chord[] {\n  return CHORD_LIBRARY.filter(chord => chord.difficulty === difficulty);\n}\n\nexport function getChordsByType(type: Chord['type']): Chord[] {\n  return CHORD_LIBRARY.filter(chord => chord.type === type);\n}\n\nexport function searchChords(query: string): Chord[] {\n  const lowerQuery = query.toLowerCase();\n  return CHORD_LIBRARY.filter(\n    chord =>\n      chord.name.toLowerCase().includes(lowerQuery) ||\n      chord.shortName.toLowerCase().includes(lowerQuery) ||\n      chord.tags.some(tag => tag.toLowerCase().includes(lowerQuery))\n  );\n}\n\nexport function getChordById(id: string): Chord | undefined {\n  return CHORD_LIBRARY.find(chord => chord.id === id);\n}\n\nexport function getRandomChord(difficulty?: 'beginner' | 'intermediate' | 'advanced'): Chord {\n  const filtered = difficulty ? CHORD_LIBRARY.filter(c => c.difficulty === difficulty) : CHORD_LIBRARY;\n  return filtered[Math.floor(Math.random() * filtered.length)];\n}\n","/**\n * ChordDiagram - Visual guitar chord diagram component\n * Displays fingering positions on a guitar fretboard\n */\n\nimport type { Chord } from '@/lib/chord-library';\nimport { motion } from 'framer-motion';\n\ninterface ChordDiagramProps {\n  chord: Chord;\n  interactive?: boolean;\n  size?: 'small' | 'medium' | 'large';\n}\n\nexport function ChordDiagram({ chord, interactive = false, size = 'medium' }: ChordDiagramProps): JSX.Element {\n  const guitarFingerings = chord.fingerings.guitar;\n  const isOpen = guitarFingerings.every(f => f.fret <= 0);\n  const maxFret = Math.max(...guitarFingerings.map(f => (f.fret > 0 ? f.fret : 0)), 4);\n\n  // Size configuration\n  const sizeConfig = {\n    small: { stringSpacing: 20, fretHeight: 20, width: 140 },\n    medium: { stringSpacing: 30, fretHeight: 30, width: 210 },\n    large: { stringSpacing: 40, fretHeight: 40, width: 280 },\n  };\n\n  const config = sizeConfig[size];\n  const width = config.width;\n  const stringSpacing = config.stringSpacing;\n  const fretHeight = config.fretHeight;\n  const startX = 20;\n  const startY = 30;\n  const fretboardWidth = stringSpacing * 5;\n  const fretboardHeight = fretHeight * (isOpen ? maxFret : maxFret);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      className=\"flex flex-col items-center gap-4\"\n    >\n      {/* Chord Name */}\n      <div className=\"text-center\">\n        <h3 className=\"text-lg font-bold text-foreground\">{chord.name}</h3>\n        <p className=\"text-xs text-muted-foreground\">{chord.description}</p>\n      </div>\n\n      {/* SVG Fretboard */}\n      <svg\n        width={width}\n        height={startY + fretboardHeight + 40}\n        className=\"border rounded-lg bg-amber-50 dark:bg-slate-900 border-amber-200 dark:border-slate-700\"\n      >\n        {/* Fret markers */}\n        {!isOpen && (\n          <text\n            x={startX - 15}\n            y={startY + fretHeight / 2 + 5}\n            fontSize={12}\n            fontWeight=\"bold\"\n            fill=\"currentColor\"\n            className=\"text-muted-foreground\"\n          >\n            1\n          </text>\n        )}\n\n        {/* Horizontal fret lines */}\n        {Array.from({ length: isOpen ? maxFret + 1 : maxFret + 1 }).map((_, i) => (\n          <line\n            key={`fret-${i}`}\n            x1={startX}\n            y1={startY + i * fretHeight}\n            x2={startX + fretboardWidth}\n            y2={startY + i * fretHeight}\n            stroke={i === 0 ? '#000' : '#ddd'}\n            strokeWidth={i === 0 ? 3 : 1}\n            className=\"dark:stroke-slate-600\"\n          />\n        ))}\n\n        {/* Vertical string lines */}\n        {Array.from({ length: 6 }).map((_, i) => (\n          <line\n            key={`string-${i}`}\n            x1={startX + i * stringSpacing}\n            y1={startY}\n            x2={startX + i * stringSpacing}\n            y2={startY + fretboardHeight}\n            stroke=\"#8b7355\"\n            strokeWidth={1.5}\n            className=\"dark:stroke-amber-700\"\n          />\n        ))}\n\n        {/* Fingering markers and muted strings */}\n        {guitarFingerings.map((fingering, index) => {\n          const x = startX + index * stringSpacing;\n          const isMuted = fingering.fret === -1;\n          const isOpen = fingering.fret === 0;\n\n          if (isMuted) {\n            // Draw X for muted strings\n            return (\n              <g key={`fingering-${index}`}>\n                <circle cx={x} cy={startY - 15} r={8} fill=\"none\" stroke=\"#ef4444\" strokeWidth={2} />\n                <text\n                  x={x}\n                  y={startY - 10}\n                  textAnchor=\"middle\"\n                  fontSize={14}\n                  fontWeight=\"bold\"\n                  fill=\"#ef4444\"\n                >\n                  âœ•\n                </text>\n              </g>\n            );\n          }\n\n          if (isOpen) {\n            // Draw circle for open strings\n            return (\n              <circle\n                key={`fingering-${index}`}\n                cx={x}\n                cy={startY - 15}\n                r={8}\n                fill=\"none\"\n                stroke=\"#22c55e\"\n                strokeWidth={2}\n              />\n            );\n          }\n\n          // Draw filled dot for fretted notes\n          const dotY = startY + (fingering.fret - 0.5) * fretHeight;\n          return (\n            <motion.circle\n              key={`fingering-${index}`}\n              cx={x}\n              cy={dotY}\n              r={fretHeight / 2.5}\n              fill=\"#3b82f6\"\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ delay: index * 0.1 }}\n              className=\"cursor-pointer\"\n              onMouseEnter={e => {\n                if (interactive) {\n                  (e.target as SVGCircleElement).setAttribute('r', String(fretHeight / 2));\n                }\n              }}\n              onMouseLeave={e => {\n                if (interactive) {\n                  (e.target as SVGCircleElement).setAttribute('r', String(fretHeight / 2.5));\n                }\n              }}\n            />\n          );\n        })}\n\n        {/* String labels at bottom */}\n        {['E', 'A', 'D', 'G', 'B', 'E'].map((note, i) => (\n          <text\n            key={`label-${i}`}\n            x={startX + i * stringSpacing}\n            y={startY + fretboardHeight + 20}\n            textAnchor=\"middle\"\n            fontSize={12}\n            fontWeight=\"bold\"\n            fill=\"currentColor\"\n            className=\"text-foreground\"\n          >\n            {note}\n          </text>\n        ))}\n      </svg>\n\n      {/* Legend */}\n      <div className=\"flex gap-4 text-xs justify-center\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-4 h-4 border-2 border-green-500 rounded-full\" />\n          <span>Open</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-4 h-4 bg-blue-500 rounded-full\" />\n          <span>Fret</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-red-500 font-bold\">âœ•</span>\n          <span>Muted</span>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n","/**\n * ChordPlayer - Audio playback for chords using Web Audio API\n */\n\nimport { useState, useRef } from 'react';\nimport type { Chord } from '@/lib/chord-library';\nimport { Button } from '@hudak/ui/components/button';\nimport { Volume2, Pause } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ninterface ChordPlayerProps {\n  chord: Chord;\n  variant?: 'primary' | 'secondary';\n  size?: 'sm' | 'md' | 'lg';\n}\n\n// Simple frequency mapping for notes\nconst NOTE_FREQUENCIES: Record<string, number> = {\n  'C4': 261.63,\n  'C#4': 277.18,\n  'D4': 293.66,\n  'D#4': 311.13,\n  'E4': 329.63,\n  'F4': 349.23,\n  'F#4': 369.99,\n  'G4': 392.0,\n  'G#4': 415.3,\n  'A3': 220.0,\n  'A4': 440.0,\n  'A#4': 466.16,\n  'B3': 246.94,\n  'B4': 493.88,\n  'C5': 523.25,\n  'C#5': 554.37,\n  'D5': 587.33,\n  'D#5': 622.25,\n  'E5': 659.25,\n  'F5': 698.46,\n  'F#5': 739.99,\n  'G5': 783.99,\n  'G#5': 830.61,\n  'Bâ™­4': 466.16,\n};\n\nexport function ChordPlayer({ chord, variant = 'primary', size = 'md' }: ChordPlayerProps): JSX.Element {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioContextRef = useRef<AudioContext | null>(null);\n  const oscillatorsRef = useRef<OscillatorNode[]>([]);\n  const gainsRef = useRef<GainNode[]>([]);\n\n  const createAudioContext = (): AudioContext => {\n    if (!audioContextRef.current) {\n      const AudioContextClass = window.AudioContext || (window as unknown as { webkitAudioContext: typeof window.AudioContext }).webkitAudioContext;\n      audioContextRef.current = new AudioContextClass();\n    }\n    return audioContextRef.current;\n  };\n\n  const playChord = async () => {\n    if (isPlaying) {\n      stopChord();\n      return;\n    }\n\n    setIsPlaying(true);\n    const audioContext = createAudioContext();\n\n    // Stop any existing oscillators\n    oscillatorsRef.current.forEach(osc => {\n      try {\n        osc.stop();\n      } catch (e) {\n        // Already stopped\n      }\n    });\n    oscillatorsRef.current = [];\n    gainsRef.current = [];\n\n    const pianoNotes = chord.fingerings.piano || [];\n    const duration = 3; // seconds\n\n    pianoNotes.forEach((note, index) => {\n      const frequency = NOTE_FREQUENCIES[note];\n      if (!frequency) return;\n\n      const oscillator = audioContext.createOscillator();\n      const gain = audioContext.createGain();\n\n      oscillator.type = 'sine';\n      oscillator.frequency.value = frequency;\n\n      // Stagger the start time slightly for a more natural sound\n      const startTime = audioContext.currentTime + index * 0.05;\n      const endTime = startTime + duration;\n\n      // ADSR envelope\n      gain.gain.setValueAtTime(0, startTime);\n      gain.gain.linearRampToValueAtTime(0.15, startTime + 0.05);\n      gain.gain.exponentialRampToValueAtTime(0.001, endTime);\n\n      oscillator.connect(gain);\n      gain.connect(audioContext.destination);\n\n      oscillator.start(startTime);\n      oscillator.stop(endTime);\n\n      oscillatorsRef.current.push(oscillator);\n      gainsRef.current.push(gain);\n    });\n\n    // Stop playing after duration\n    setTimeout(() => {\n      setIsPlaying(false);\n    }, duration * 1000);\n  };\n\n  const stopChord = () => {\n    oscillatorsRef.current.forEach(osc => {\n      try {\n        osc.stop();\n      } catch (e) {\n        // Already stopped\n      }\n    });\n    oscillatorsRef.current = [];\n    setIsPlaying(false);\n  };\n\n  const sizeClasses = {\n    sm: 'h-8 px-2 text-xs',\n    md: 'h-10 px-3',\n    lg: 'h-12 px-4',\n  };\n\n  return (\n    <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\n      <Button\n        onClick={playChord}\n        variant={variant === 'primary' ? 'default' : 'secondary'}\n        className={`${sizeClasses[size]} gap-2 transition-colors`}\n        disabled={!chord.fingerings.piano}\n      >\n        {isPlaying ? (\n          <>\n            <Pause className=\"w-4 h-4\" />\n            <span>Stop</span>\n          </>\n        ) : (\n          <>\n            <Volume2 className=\"w-4 h-4\" />\n            <span>Play</span>\n          </>\n        )}\n      </Button>\n    </motion.div>\n  );\n}\n","/**\n * ChordSearch - Search and filter chords by name, difficulty, and type\n */\n\nimport { useState, useMemo } from 'react';\nimport type { Chord } from '@/lib/chord-library';\nimport { CHORD_LIBRARY, searchChords } from '@/lib/chord-library';\nimport { Input } from '@hudak/ui/components/input';\nimport { Button } from '@hudak/ui/components/button';\nimport { Badge } from '@hudak/ui/components/badge';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@hudak/ui/components/select';\nimport { Search, X } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ninterface ChordSearchProps {\n  onChordSelect: (chord: Chord) => void;\n  selectedChord?: Chord;\n}\n\ntype FilterDifficulty = 'all' | 'beginner' | 'intermediate' | 'advanced';\ntype FilterType = 'all' | Chord['type'];\n\nexport function ChordSearch({ onChordSelect, selectedChord }: ChordSearchProps): JSX.Element {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [difficultyFilter, setDifficultyFilter] = useState<FilterDifficulty>('all');\n  const [typeFilter, setTypeFilter] = useState<FilterType>('all');\n\n  // Memoized filtered chords\n  const filteredChords = useMemo(() => {\n    let results: Chord[] = searchQuery ? searchChords(searchQuery) : CHORD_LIBRARY;\n\n    if (difficultyFilter !== 'all') {\n      results = results.filter(chord => chord.difficulty === difficultyFilter);\n    }\n\n    if (typeFilter !== 'all') {\n      results = results.filter(chord => chord.type === typeFilter);\n    }\n\n    return results.sort((a, b) => {\n      // Sort by difficulty level\n      const diffOrder: Record<string, number> = { beginner: 0, intermediate: 1, advanced: 2 };\n      return diffOrder[a.difficulty] - diffOrder[b.difficulty];\n    });\n  }, [searchQuery, difficultyFilter, typeFilter]);\n\n  const clearFilters = () => {\n    setSearchQuery('');\n    setDifficultyFilter('all');\n    setTypeFilter('all');\n  };\n\n  return (\n    <div className=\"space-y-4 p-4 bg-card rounded-lg border\">\n      {/* Search bar */}\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n        <Input\n          type=\"text\"\n          placeholder=\"Search chords... (e.g., 'C major', 'Am', 'blues')\"\n          value={searchQuery}\n          onChange={e => setSearchQuery(e.target.value)}\n          className=\"pl-10\"\n        />\n      </div>\n\n      {/* Filters */}\n      <div className=\"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4\">\n        {/* Difficulty filter */}\n        <Select value={difficultyFilter} onValueChange={(v) => setDifficultyFilter(v as FilterDifficulty)}>\n          <SelectTrigger className=\"h-9 text-sm\">\n            <SelectValue placeholder=\"Difficulty\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Levels</SelectItem>\n            <SelectItem value=\"beginner\">Beginner</SelectItem>\n            <SelectItem value=\"intermediate\">Intermediate</SelectItem>\n            <SelectItem value=\"advanced\">Advanced</SelectItem>\n          </SelectContent>\n        </Select>\n\n        {/* Type filter */}\n        <Select value={typeFilter} onValueChange={(v) => setTypeFilter(v as FilterType)}>\n          <SelectTrigger className=\"h-9 text-sm\">\n            <SelectValue placeholder=\"Type\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"major\">Major</SelectItem>\n            <SelectItem value=\"minor\">Minor</SelectItem>\n            <SelectItem value=\"dominant\">Dominant</SelectItem>\n            <SelectItem value=\"diminished\">Diminished</SelectItem>\n            <SelectItem value=\"augmented\">Augmented</SelectItem>\n            <SelectItem value=\"sus\">Suspended</SelectItem>\n            <SelectItem value=\"extended\">Extended</SelectItem>\n          </SelectContent>\n        </Select>\n\n        {/* Clear filters button */}\n        {(searchQuery || difficultyFilter !== 'all' || typeFilter !== 'all') && (\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={clearFilters}\n            className=\"col-span-2 md:col-span-1 lg:col-span-1 h-9 text-xs\"\n          >\n            <X className=\"w-3 h-3 mr-1\" />\n            Clear\n          </Button>\n        )}\n      </div>\n\n      {/* Results summary */}\n      <div className=\"text-xs text-muted-foreground\">\n        Showing <span className=\"font-semibold\">{filteredChords.length}</span> chord\n        {filteredChords.length !== 1 ? 's' : ''}\n      </div>\n\n      {/* Chord grid */}\n      <div className=\"grid grid-cols-2 gap-2 md:grid-cols-3 lg:grid-cols-4 max-h-96 overflow-y-auto\">\n        {filteredChords.map(chord => (\n          <motion.button\n            key={chord.id}\n            onClick={() => onChordSelect(chord)}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            className={`p-2 rounded-lg border-2 transition-all text-left ${\n              selectedChord?.id === chord.id\n                ? 'border-primary bg-primary/10'\n                : 'border-border hover:border-primary/50'\n            }`}\n          >\n            <div className=\"font-semibold text-sm\">{chord.shortName}</div>\n            <div className=\"text-xs text-muted-foreground\">{chord.type}</div>\n            <Badge variant=\"secondary\" className=\"text-xs mt-1\">\n              {chord.difficulty}\n            </Badge>\n          </motion.button>\n        ))}\n      </div>\n\n      {filteredChords.length === 0 && (\n        <div className=\"text-center py-8 text-muted-foreground\">\n          <p>No chords found matching your filters.</p>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * ChordReference - Main chord learning interface\n * Combines search, diagram, and audio playback\n */\n\nimport { useState } from 'react';\nimport type { Chord } from '@/lib/chord-library';\nimport { getRandomChord } from '@/lib/chord-library';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Button } from '@hudak/ui/components/button';\nimport { ChordDiagram } from './ChordDiagram';\nimport { ChordPlayer } from './ChordPlayer';\nimport { ChordSearch } from './ChordSearch';\nimport { Shuffle, BookOpen } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ninterface ChordReferenceProps {\n  onStartQuiz?: () => void;\n}\n\nexport function ChordReference({ onStartQuiz }: ChordReferenceProps): JSX.Element {\n  const [selectedChord, setSelectedChord] = useState<Chord | null>(() => getRandomChord());\n\n  const handleRandomChord = () => {\n    setSelectedChord(getRandomChord());\n  };\n\n  const handleDifficultyRandom = (difficulty: 'beginner' | 'intermediate' | 'advanced') => {\n    setSelectedChord(getRandomChord(difficulty));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 p-4 md:p-6\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"max-w-7xl mx-auto space-y-6\"\n      >\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <motion.div\n            initial={{ scale: 0.9 }}\n            animate={{ scale: 1 }}\n            className=\"inline-flex items-center gap-3 mb-4\"\n          >\n            <div className=\"p-3 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 shadow-lg\">\n              <BookOpen className=\"h-8 w-8 text-white\" />\n            </div>\n          </motion.div>\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent\">\n            Chord Reference Library\n          </h1>\n          <p className=\"text-muted-foreground mt-2 text-lg\">\n            Learn chord fingerings, shapes, and sounds\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Search & Filter */}\n          <div className=\"lg:col-span-1\">\n            <ChordSearch onChordSelect={setSelectedChord} selectedChord={selectedChord || undefined} />\n          </div>\n\n          {/* Main content - Chord diagram + player */}\n          <div className=\"lg:col-span-2 space-y-4\">\n            {selectedChord ? (\n              <>\n                <Card className=\"border-2\">\n                  <CardHeader>\n                    <CardTitle>{selectedChord.name}</CardTitle>\n                    <CardDescription>{selectedChord.description}</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    {/* Chord Diagram */}\n                    <div className=\"flex justify-center\">\n                      <ChordDiagram chord={selectedChord} size=\"large\" />\n                    </div>\n\n                    {/* Audio Player */}\n                    <div className=\"flex justify-center\">\n                      <ChordPlayer chord={selectedChord} size=\"lg\" />\n                    </div>\n\n                    {/* Chord Details */}\n                    <div className=\"grid grid-cols-2 gap-4 text-sm pt-4 border-t\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Type:</span>\n                        <p className=\"font-semibold capitalize\">{selectedChord.type}</p>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Difficulty:</span>\n                        <p className=\"font-semibold capitalize\">{selectedChord.difficulty}</p>\n                      </div>\n                      <div className=\"col-span-2\">\n                        <span className=\"text-muted-foreground\">Tags:</span>\n                        <div className=\"flex flex-wrap gap-2 mt-2\">\n                          {selectedChord.tags.map(tag => (\n                            <span key={tag} className=\"text-xs bg-secondary px-2 py-1 rounded-full\">\n                              {tag}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Quick Action Buttons */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                  <Button\n                    onClick={handleRandomChord}\n                    variant=\"secondary\"\n                    className=\"gap-2\"\n                  >\n                    <Shuffle className=\"w-4 h-4\" />\n                    Random Chord\n                  </Button>\n                  {onStartQuiz && (\n                    <Button\n                      onClick={onStartQuiz}\n                      variant=\"default\"\n                      className=\"gap-2\"\n                    >\n                      <BookOpen className=\"w-4 h-4\" />\n                      Start Quiz\n                    </Button>\n                  )}\n                </div>\n\n                {/* Difficulty-based navigation */}\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">Quick Jump by Difficulty</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"grid grid-cols-3 gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDifficultyRandom('beginner')}\n                      className=\"text-xs\"\n                    >\n                      ðŸŸ¢ Beginner\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDifficultyRandom('intermediate')}\n                      className=\"text-xs\"\n                    >\n                      ðŸŸ¡ Intermediate\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDifficultyRandom('advanced')}\n                      className=\"text-xs\"\n                    >\n                      ðŸ”´ Advanced\n                    </Button>\n                  </CardContent>\n                </Card>\n              </>\n            ) : (\n              <Card>\n                <CardContent className=\"flex items-center justify-center h-96\">\n                  <p className=\"text-muted-foreground\">Select a chord to get started</p>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n","/**\n * ChordQuizModes - Quiz game logic and mode definitions\n */\n\nimport type { Chord } from './chord-library';\nimport { CHORD_LIBRARY, getRandomChord } from './chord-library';\n\nexport type QuizMode = 'speed' | 'accuracy' | 'progression';\n\nexport interface QuizQuestion {\n  chord: Chord;\n  options: Chord[];\n  correctIndex: number;\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\n}\n\nexport interface QuizState {\n  mode: QuizMode;\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\n  currentQuestionIndex: number;\n  questions: QuizQuestion[];\n  userAnswers: (number | null)[];\n  score: number;\n  timePerQuestion: number; // milliseconds\n  totalTime: number; // milliseconds\n  startTime: number;\n  isComplete: boolean;\n}\n\nexport interface QuizStats {\n  score: number;\n  totalQuestions: number;\n  correct: number;\n  incorrect: number;\n  accuracy: number; // percentage\n  averageTime: number; // milliseconds\n  mode: QuizMode;\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\n  timestamp: number;\n}\n\n/**\n * Generate quiz questions\n */\nexport function generateQuizQuestions(\n  mode: QuizMode,\n  difficulty: 'beginner' | 'intermediate' | 'advanced',\n  questionCount: number = 10\n): QuizQuestion[] {\n  const questions: QuizQuestion[] = [];\n\n  for (let i = 0; i < questionCount; i++) {\n    // Get a random chord of the selected difficulty\n    let chord: Chord;\n    let attempts = 0;\n\n    do {\n      chord = getRandomChord(difficulty);\n      attempts++;\n    } while (questions.some(q => q.chord.id === chord.id) && attempts < 100);\n\n    // Generate wrong answer options\n    let options = [chord];\n    const availableChords = CHORD_LIBRARY.filter(c => c.id !== chord.id);\n\n    while (options.length < 4 && availableChords.length > 0) {\n      const randomIdx = Math.floor(Math.random() * availableChords.length);\n      const option = availableChords[randomIdx];\n\n      // Filter options by similar difficulty to make it challenging\n      const difficultyMatch = mode === 'accuracy' || mode === 'progression';\n\n      if (\n        !options.some(o => o.id === option.id) &&\n        (!difficultyMatch || option.difficulty === difficulty)\n      ) {\n        options.push(option);\n      }\n\n      availableChords.splice(randomIdx, 1);\n    }\n\n    // Shuffle options\n    options = options.sort(() => Math.random() - 0.5);\n    const correctIndex = options.findIndex(o => o.id === chord.id);\n\n    questions.push({\n      chord,\n      options,\n      correctIndex,\n      difficulty,\n    });\n  }\n\n  return questions;\n}\n\n/**\n * Initialize quiz state\n */\nexport function initializeQuizState(\n  mode: QuizMode,\n  difficulty: 'beginner' | 'intermediate' | 'advanced',\n  questionCount: number = 10\n): QuizState {\n  const questions = generateQuizQuestions(mode, difficulty, questionCount);\n\n  return {\n    mode,\n    difficulty,\n    currentQuestionIndex: 0,\n    questions,\n    userAnswers: Array(questions.length).fill(null),\n    score: 0,\n    timePerQuestion: 0,\n    totalTime: 0,\n    startTime: Date.now(),\n    isComplete: false,\n  };\n}\n\n/**\n * Record user answer and update score\n */\nexport function recordAnswer(state: QuizState, answerIndex: number): QuizState {\n  const newState = { ...state };\n  const question = state.questions[state.currentQuestionIndex];\n  const isCorrect = answerIndex === question.correctIndex;\n\n  newState.userAnswers[state.currentQuestionIndex] = answerIndex;\n\n  // Update score based on mode\n  if (isCorrect) {\n    switch (state.mode) {\n      case 'speed':\n        // Speed mode: more points for fast answers\n        const questionStartTime = state.startTime + state.totalTime;\n        const timeTaken = Date.now() - questionStartTime;\n        const speedBonus = Math.max(0, 100 - Math.floor(timeTaken / 100));\n        newState.score += speedBonus + 10;\n        break;\n      case 'accuracy':\n        // Accuracy mode: fixed points\n        newState.score += 10;\n        break;\n      case 'progression':\n        // Progression mode: points increase with difficulty\n        const difficultyMultiplier =\n          state.difficulty === 'beginner' ? 1 : state.difficulty === 'intermediate' ? 2 : 3;\n        newState.score += 10 * difficultyMultiplier;\n        break;\n    }\n  }\n\n  return newState;\n}\n\n/**\n * Move to next question\n */\nexport function nextQuestion(state: QuizState): QuizState {\n  const newState = { ...state };\n  newState.currentQuestionIndex += 1;\n\n  if (newState.currentQuestionIndex >= newState.questions.length) {\n    newState.isComplete = true;\n    newState.totalTime = Date.now() - state.startTime;\n  }\n\n  return newState;\n}\n\n/**\n * Calculate quiz statistics\n */\nexport function calculateStats(state: QuizState): QuizStats {\n  const correct = state.userAnswers.filter((answer, index) => {\n    if (answer === null) return false;\n    return answer === state.questions[index].correctIndex;\n  }).length;\n\n  const incorrect = state.userAnswers.filter((answer, index) => {\n    if (answer === null) return false;\n    return answer !== state.questions[index].correctIndex;\n  }).length;\n\n  const totalTime = Date.now() - state.startTime;\n  const validAnswers = state.userAnswers.filter(a => a !== null).length;\n\n  return {\n    score: state.score,\n    totalQuestions: state.questions.length,\n    correct,\n    incorrect,\n    accuracy: (correct / state.questions.length) * 100,\n    averageTime: validAnswers > 0 ? totalTime / validAnswers : 0,\n    mode: state.mode,\n    difficulty: state.difficulty,\n    timestamp: Date.now(),\n  };\n}\n\n/**\n * Get leaderboard entry structure\n */\nexport interface LeaderboardEntry extends QuizStats {\n  playerName: string;\n  date: Date;\n}\n\n/**\n * Load leaderboard from localStorage\n */\nexport function loadLeaderboard(): LeaderboardEntry[] {\n  try {\n    const data = localStorage.getItem('chord-quiz-leaderboard');\n    return data ? JSON.parse(data) : [];\n  } catch {\n    return [];\n  }\n}\n\n/**\n * Save leaderboard entry\n */\nexport function saveLeaderboardEntry(stats: QuizStats, playerName: string): void {\n  try {\n    const leaderboard = loadLeaderboard();\n    leaderboard.push({\n      ...stats,\n      playerName,\n      date: new Date(),\n    });\n\n    // Keep only top 100 entries\n    leaderboard.sort((a, b) => b.score - a.score);\n    localStorage.setItem(\n      'chord-quiz-leaderboard',\n      JSON.stringify(leaderboard.slice(0, 100))\n    );\n  } catch (e) {\n    console.error('Failed to save leaderboard entry:', e);\n  }\n}\n\n/**\n * Get top scores for a specific mode and difficulty\n */\nexport function getTopScores(mode?: QuizMode, difficulty?: string, limit = 10): LeaderboardEntry[] {\n  const leaderboard = loadLeaderboard();\n\n  return leaderboard\n    .filter(entry => {\n      if (mode && entry.mode !== mode) return false;\n      if (difficulty && entry.difficulty !== difficulty) return false;\n      return true;\n    })\n    .sort((a, b) => b.score - a.score)\n    .slice(0, limit);\n}\n","/**\n * ResultsSummary - Quiz results and leaderboard\n */\n\nimport { useState } from 'react';\nimport type { QuizStats, LeaderboardEntry } from '@/lib/chord-quiz-modes';\nimport { saveLeaderboardEntry, getTopScores } from '@/lib/chord-quiz-modes';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@hudak/ui/components/card';\nimport { Button } from '@hudak/ui/components/button';\nimport { Input } from '@hudak/ui/components/input';\nimport { motion } from 'framer-motion';\nimport { Trophy, Share2, RotateCcw, Home } from 'lucide-react';\n\ninterface ResultsSummaryProps {\n  stats: QuizStats;\n  onPlayAgain: () => void;\n  onBack?: () => void;\n}\n\nexport function ResultsSummary({ stats, onPlayAgain, onBack }: ResultsSummaryProps): JSX.Element {\n  const [playerName, setPlayerName] = useState('');\n  const [saved, setSaved] = useState(false);\n  const [topScores, setTopScores] = useState<LeaderboardEntry[]>(() =>\n    getTopScores(stats.mode, stats.difficulty, 5)\n  );\n\n  const handleSaveScore = () => {\n    if (!playerName.trim()) return;\n\n    saveLeaderboardEntry(stats, playerName);\n\n    setSaved(true);\n    setTopScores(getTopScores(stats.mode, stats.difficulty, 5));\n  };\n\n  const accuracyColor =\n    stats.accuracy >= 80 ? 'text-green-600' : stats.accuracy >= 60 ? 'text-yellow-600' : 'text-red-600';\n\n  const ratingEmoji =\n    stats.accuracy >= 90\n      ? 'ðŸ†'\n      : stats.accuracy >= 80\n        ? 'â­'\n        : stats.accuracy >= 70\n          ? 'ðŸ‘'\n          : stats.accuracy >= 50\n            ? 'ðŸ’ª'\n            : 'ðŸ“š';\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 p-4 md:p-6\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"max-w-4xl mx-auto\"\n      >\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={{ delay: 0.2 }}\n            className=\"text-6xl mb-4\"\n          >\n            {ratingEmoji}\n          </motion.div>\n          <h1 className=\"text-4xl font-bold\">Quiz Complete!</h1>\n          <p className=\"text-muted-foreground mt-2\">Great job learning chords</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n          {/* Stats Card */}\n          <Card className=\"border-2\">\n            <CardHeader>\n              <CardTitle>Your Score</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Main score */}\n              <div className=\"text-center\">\n                <div className=\"text-5xl font-bold text-primary mb-2\">{stats.score}</div>\n                <div className=\"text-muted-foreground\">Total Points</div>\n              </div>\n\n              {/* Stats Grid */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"text-center p-3 rounded-lg bg-secondary/50\">\n                  <div className={`text-2xl font-bold ${accuracyColor}`}>{stats.accuracy.toFixed(0)}%</div>\n                  <div className=\"text-xs text-muted-foreground\">Accuracy</div>\n                </div>\n\n                <div className=\"text-center p-3 rounded-lg bg-secondary/50\">\n                  <div className=\"text-2xl font-bold text-blue-600\">{stats.correct}</div>\n                  <div className=\"text-xs text-muted-foreground\">Correct</div>\n                </div>\n\n                <div className=\"text-center p-3 rounded-lg bg-secondary/50\">\n                  <div className=\"text-2xl font-bold text-orange-600\">{stats.incorrect}</div>\n                  <div className=\"text-xs text-muted-foreground\">Incorrect</div>\n                </div>\n\n                <div className=\"text-center p-3 rounded-lg bg-secondary/50\">\n                  <div className=\"text-2xl font-bold text-green-600\">\n                    {(stats.averageTime / 1000).toFixed(1)}s\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">Avg Time</div>\n                </div>\n              </div>\n\n              {/* Details */}\n              <div className=\"pt-4 border-t space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Mode:</span>\n                  <span className=\"font-semibold capitalize\">{stats.mode}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Difficulty:</span>\n                  <span className=\"font-semibold capitalize\">{stats.difficulty}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Questions:</span>\n                  <span className=\"font-semibold\">{stats.totalQuestions}</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Save & Share */}\n          <Card className=\"border-2\">\n            <CardHeader>\n              <CardTitle>Save Your Score</CardTitle>\n              <CardDescription>Join the leaderboard</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {!saved ? (\n                <>\n                  <Input\n                    placeholder=\"Enter your name\"\n                    value={playerName}\n                    onChange={e => setPlayerName(e.target.value)}\n                    onKeyPress={e => e.key === 'Enter' && handleSaveScore()}\n                  />\n                  <Button\n                    onClick={handleSaveScore}\n                    disabled={!playerName.trim()}\n                    className=\"w-full\"\n                    size=\"lg\"\n                  >\n                    <Trophy className=\"w-4 h-4 mr-2\" />\n                    Save Score\n                  </Button>\n                </>\n              ) : (\n                <motion.div\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  className=\"text-center py-6\"\n                >\n                  <div className=\"text-2xl mb-2\">âœ“</div>\n                  <p className=\"font-semibold\">Score saved!</p>\n                  <p className=\"text-sm text-muted-foreground\">Check the leaderboard to see where you rank</p>\n                </motion.div>\n              )}\n\n              {/* Share button */}\n              <Button variant=\"secondary\" className=\"w-full gap-2\">\n                <Share2 className=\"w-4 h-4\" />\n                Share Score\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Leaderboard */}\n        {topScores.length > 0 && (\n          <Card className=\"mb-6\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Trophy className=\"w-5 h-5\" />\n                Leaderboard - {stats.mode} ({stats.difficulty})\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3\">\n                {topScores.map((entry, index) => (\n                  <motion.div\n                    key={index}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: index * 0.1 }}\n                    className={`flex items-center gap-4 p-3 rounded-lg ${\n                      index === 0\n                        ? 'bg-yellow-50 dark:bg-yellow-950 border-2 border-yellow-300 dark:border-yellow-700'\n                        : 'bg-secondary/50'\n                    }`}\n                  >\n                    <div className=\"text-xl font-bold w-8\">\n                      {index === 0 ? 'ðŸ¥‡' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : `#${index + 1}`}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"font-semibold\">{entry.playerName}</div>\n                      <div className=\"text-xs text-muted-foreground\">\n                        {entry.correct}/{entry.totalQuestions} correct â€¢ {entry.accuracy.toFixed(0)}% accuracy\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"font-bold text-lg\">{entry.score}</div>\n                      <div className=\"text-xs text-muted-foreground\">pts</div>\n                    </div>\n                  </motion.div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Action buttons */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n          <Button onClick={onPlayAgain} variant=\"default\" size=\"lg\" className=\"gap-2\">\n            <RotateCcw className=\"w-4 h-4\" />\n            Play Again\n          </Button>\n          {onBack && (\n            <Button onClick={onBack} variant=\"secondary\" size=\"lg\" className=\"gap-2\">\n              <Home className=\"w-4 h-4\" />\n              Back to Menu\n            </Button>\n          )}\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n","/**\n * ChordQuiz - Main quiz game component\n */\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport type {\n  QuizState,\n  QuizMode,\n} from '@/lib/chord-quiz-modes';\nimport {\n  initializeQuizState,\n  recordAnswer,\n  nextQuestion,\n  calculateStats,\n} from '@/lib/chord-quiz-modes';\nimport { Card, CardContent, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Button } from '@hudak/ui/components/button';\nimport { Badge } from '@hudak/ui/components/badge';\nimport { ChordDiagram } from '../ChordReference/ChordDiagram';\nimport { ChordPlayer } from '../ChordReference/ChordPlayer';\nimport { ResultsSummary } from './ResultsSummary';\nimport { Progress } from '@hudak/ui/components/progress';\nimport { motion } from 'framer-motion';\nimport { Volume2 } from 'lucide-react';\n\ninterface ChordQuizProps {\n  mode: QuizMode;\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\n  questionCount?: number;\n  onBack?: () => void;\n}\n\nexport function ChordQuiz({ mode, difficulty, questionCount = 10, onBack }: ChordQuizProps): JSX.Element {\n  const [quizState, setQuizState] = useState<QuizState>(() =>\n    initializeQuizState(mode, difficulty, questionCount)\n  );\n  const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null);\n  const [answered, setAnswered] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(30);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n\n  const currentQuestion = quizState.questions[quizState.currentQuestionIndex];\n  const progress = ((quizState.currentQuestionIndex + 1) / quizState.questions.length) * 100;\n\n  const handleAnswer = useCallback((optionIndex: number) => {\n    setAnswered(true);\n    setSelectedAnswer(optionIndex);\n\n    if (timerRef.current) clearInterval(timerRef.current);\n\n    const newState = recordAnswer(quizState, optionIndex);\n    setQuizState(newState);\n  }, [quizState]);\n\n  // Timer for speed mode\n  useEffect(() => {\n    if (mode === 'speed' && !answered && !quizState.isComplete) {\n      timerRef.current = setInterval(() => {\n        setTimeLeft(prev => {\n          if (prev <= 1) {\n            // Auto-submit wrong answer if time runs out\n            handleAnswer(-1);\n            return 30;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n    };\n  }, [answered, mode, quizState.isComplete, handleAnswer]);\n\n  if (quizState.isComplete) {\n    const stats = calculateStats(quizState);\n    return (\n      <ResultsSummary\n        stats={stats}\n        onPlayAgain={() => {\n          setQuizState(initializeQuizState(mode, difficulty, questionCount));\n          setSelectedAnswer(null);\n          setAnswered(false);\n          setTimeLeft(30);\n        }}\n        onBack={onBack}\n      />\n    );\n  }\n\n  const handleNext = () => {\n    if (!answered) return;\n\n    setSelectedAnswer(null);\n    setAnswered(false);\n    setTimeLeft(30);\n\n    const newState = nextQuestion(quizState);\n    setQuizState(newState);\n  };\n\n  const isCorrect = selectedAnswer === currentQuestion.correctIndex && answered;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 p-4 md:p-6\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"max-w-4xl mx-auto\"\n      >\n        {/* Header with stats */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"space-y-1\">\n            <h1 className=\"text-3xl font-bold\">Chord Quiz</h1>\n            <div className=\"flex gap-3\">\n              <Badge variant=\"secondary\" className=\"capitalize\">\n                {mode} Mode\n              </Badge>\n              <Badge variant=\"outline\" className=\"capitalize\">\n                {difficulty}\n              </Badge>\n            </div>\n          </div>\n\n          <div className=\"text-right\">\n            <div className=\"text-3xl font-bold text-primary\">{quizState.score}</div>\n            <div className=\"text-sm text-muted-foreground\">Points</div>\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        <div className=\"mb-6\">\n          <div className=\"flex justify-between text-sm mb-2\">\n            <span className=\"text-muted-foreground\">\n              Question {quizState.currentQuestionIndex + 1} of {quizState.questions.length}\n            </span>\n            {mode === 'speed' && (\n              <span className={`font-bold ${timeLeft > 10 ? 'text-green-600' : 'text-red-600'}`}>\n                {timeLeft}s\n              </span>\n            )}\n          </div>\n          <Progress value={progress} className=\"h-2\" />\n        </div>\n\n        {/* Question card */}\n        <Card className=\"border-2 mb-6\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"mb-4\">What chord is this?</CardTitle>\n\n            {/* Chord diagram */}\n            <div className=\"flex justify-center my-6\">\n              <ChordDiagram chord={currentQuestion.chord} size=\"large\" />\n            </div>\n\n            {/* Play button */}\n            <div className=\"flex justify-center gap-3\">\n              <ChordPlayer chord={currentQuestion.chord} size=\"lg\" variant=\"primary\" />\n              <Button variant=\"outline\" size=\"sm\" disabled>\n                <Volume2 className=\"w-4 h-4 mr-2\" />\n                Listen Again\n              </Button>\n            </div>\n          </CardHeader>\n\n          <CardContent>\n            {/* Answer options */}\n            <div className=\"grid grid-cols-2 gap-3 md:grid-cols-4\">\n              {currentQuestion.options.map((option, index) => (\n                <motion.button\n                  key={index}\n                  onClick={() => handleAnswer(index)}\n                  disabled={answered}\n                  whileHover={{ scale: answered ? 1 : 1.05 }}\n                  whileTap={{ scale: answered ? 1 : 0.95 }}\n                  className={`p-3 rounded-lg border-2 font-semibold transition-all ${\n                    selectedAnswer === index\n                      ? isCorrect\n                        ? 'border-green-500 bg-green-50 dark:bg-green-950'\n                        : 'border-red-500 bg-red-50 dark:bg-red-950'\n                      : answered && index === currentQuestion.correctIndex\n                        ? 'border-green-500 bg-green-50 dark:bg-green-950'\n                        : 'border-border hover:border-primary'\n                  } ${answered ? 'opacity-60 cursor-default' : 'cursor-pointer'}`}\n                >\n                  <div className=\"text-sm md:text-base\">{option.shortName}</div>\n                  <div className=\"text-xs text-muted-foreground capitalize\">{option.type}</div>\n                </motion.button>\n              ))}\n            </div>\n\n            {/* Feedback */}\n            {answered && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className={`mt-6 p-4 rounded-lg text-center font-semibold ${\n                  isCorrect\n                    ? 'bg-green-100 dark:bg-green-950 text-green-900 dark:text-green-100'\n                    : 'bg-red-100 dark:bg-red-950 text-red-900 dark:text-red-100'\n                }`}\n              >\n                {isCorrect ? 'âœ“ Correct!' : 'âœ— Incorrect'}\n                {!isCorrect && (\n                  <div className=\"text-sm mt-2\">\n                    The correct answer is <strong>{currentQuestion.options[currentQuestion.correctIndex].shortName}</strong>\n                  </div>\n                )}\n              </motion.div>\n            )}\n\n            {/* Next button */}\n            {answered && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                className=\"mt-6 flex gap-3\"\n              >\n                <Button\n                  onClick={handleNext}\n                  className=\"flex-1\"\n                  size=\"lg\"\n                  variant={quizState.currentQuestionIndex + 1 < quizState.questions.length ? 'default' : 'secondary'}\n                >\n                  {quizState.currentQuestionIndex + 1 < quizState.questions.length ? 'Next Question' : 'See Results'}\n                </Button>\n              </motion.div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Back button */}\n        {onBack && !answered && (\n          <div className=\"text-center\">\n            <Button variant=\"ghost\" onClick={onBack}>\n              â† Back to Menu\n            </Button>\n          </div>\n        )}\n      </motion.div>\n    </div>\n  );\n}\n","/**\n * ChordLearningHub - Main entry point for chord learning & quiz\n * Manages navigation between reference library and quiz games\n */\n\nimport { useState } from 'react';\nimport { ChordReference } from '../ChordReference/ChordReference';\nimport { ChordQuiz } from '../ChordQuiz/ChordQuiz';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Button } from '@hudak/ui/components/button';\nimport { BookOpen, Zap, Target, Brain } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ntype View = 'menu' | 'reference' | 'quiz';\ntype QuizMode = 'speed' | 'accuracy' | 'progression';\ntype Difficulty = 'beginner' | 'intermediate' | 'advanced';\n\ninterface QuizConfig {\n  mode: QuizMode;\n  difficulty: Difficulty;\n}\n\nexport function ChordLearningHub(): JSX.Element {\n  const [view, setView] = useState<View>('menu');\n  const [quizConfig, setQuizConfig] = useState<QuizConfig | null>(null);\n\n  const handleStartQuiz = (mode: QuizMode, difficulty: Difficulty) => {\n    setQuizConfig({ mode, difficulty });\n    setView('quiz');\n  };\n\n  const handleBackToMenu = () => {\n    setView('menu');\n    setQuizConfig(null);\n  };\n\n  const handleToReference = () => {\n    setView('reference');\n  };\n\n  const handleToQuiz = () => {\n    setView('menu');\n  };\n\n  // Reference View\n  if (view === 'reference') {\n    return (\n      <ChordReference\n        onStartQuiz={() => {\n          setView('menu');\n        }}\n      />\n    );\n  }\n\n  // Quiz View\n  if (view === 'quiz' && quizConfig) {\n    return (\n      <ChordQuiz\n        mode={quizConfig.mode}\n        difficulty={quizConfig.difficulty}\n        questionCount={10}\n        onBack={handleBackToMenu}\n      />\n    );\n  }\n\n  // Menu View\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 p-4 md:p-6\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"max-w-6xl mx-auto\"\n      >\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <motion.div\n            initial={{ scale: 0.9 }}\n            animate={{ scale: 1 }}\n            className=\"inline-flex items-center gap-3 mb-4\"\n          >\n            <div className=\"p-3 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg\">\n              <Brain className=\"h-8 w-8 text-white\" />\n            </div>\n          </motion.div>\n          <h1 className=\"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-3\">\n            Chord Learning System\n          </h1>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            Master guitar chords with our interactive reference library and challenging quiz games\n          </p>\n        </div>\n\n        {/* Main options */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\">\n          {/* Reference Library Card */}\n          <motion.div\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n          >\n            <Card className=\"border-2 h-full cursor-pointer hover:shadow-lg transition-shadow\" onClick={handleToReference}>\n              <CardHeader>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <BookOpen className=\"w-6 h-6 text-amber-600\" />\n                  <CardTitle>Chord Reference</CardTitle>\n                </div>\n                <CardDescription>Learn and explore all chord fingerings</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <ul className=\"space-y-2 text-sm\">\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">ðŸ“Š</span>\n                    <span>100+ chord diagrams with fingerings</span>\n                  </li>\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">ðŸ”Š</span>\n                    <span>Audio playback for each chord</span>\n                  </li>\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">ðŸ”</span>\n                    <span>Search and filter by difficulty & type</span>\n                  </li>\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">ðŸ“ˆ</span>\n                    <span>Progress from beginner to advanced</span>\n                  </li>\n                </ul>\n                <Button className=\"w-full mt-4\" variant=\"default\">\n                  Open Reference Library â†’\n                </Button>\n              </CardContent>\n            </Card>\n          </motion.div>\n\n          {/* Quiz Mode Card */}\n          <motion.div\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n          >\n            <Card className=\"border-2 h-full cursor-pointer hover:shadow-lg transition-shadow\" onClick={handleToQuiz}>\n              <CardHeader>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Zap className=\"w-6 h-6 text-yellow-600\" />\n                  <CardTitle>Quiz Modes</CardTitle>\n                </div>\n                <CardDescription>Test your chord knowledge in different game modes</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <ul className=\"space-y-2 text-sm\">\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">âš¡</span>\n                    <span>Speed Mode - Answer fast!</span>\n                  </li>\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">ðŸŽ¯</span>\n                    <span>Accuracy Mode - Get every one right</span>\n                  </li>\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">ðŸ“ˆ</span>\n                    <span>Progression Mode - Increasing difficulty</span>\n                  </li>\n                  <li className=\"flex items-center gap-2\">\n                    <span className=\"text-lg\">ðŸ†</span>\n                    <span>Leaderboard tracking</span>\n                  </li>\n                </ul>\n                <Button className=\"w-full mt-4\" variant=\"default\">\n                  Choose Quiz Mode â†’\n                </Button>\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n\n        {/* Quiz mode selector */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2 }}\n          className=\"mb-12\"\n        >\n          <h2 className=\"text-2xl font-bold mb-6 text-center\">Start a Quiz</h2>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n            {/* Speed Mode */}\n            <Card className=\"border cursor-pointer hover:shadow-lg transition-all hover:border-primary\">\n              <CardHeader>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Zap className=\"w-5 h-5 text-yellow-600\" />\n                  <CardTitle className=\"text-lg\">Speed Mode</CardTitle>\n                </div>\n                <CardDescription>Race against time! 30 seconds per question.</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <p className=\"text-sm text-muted-foreground\">\n                  More points for faster correct answers. Perfect for quick drills.\n                </p>\n                <div className=\"space-y-2\">\n                  {(['beginner', 'intermediate', 'advanced'] as const).map(diff => (\n                    <Button\n                      key={diff}\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"w-full text-xs\"\n                      onClick={() => handleStartQuiz('speed', diff)}\n                    >\n                      {diff === 'beginner' ? 'ðŸŸ¢' : diff === 'intermediate' ? 'ðŸŸ¡' : 'ðŸ”´'} {diff}\n                    </Button>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Accuracy Mode */}\n            <Card className=\"border cursor-pointer hover:shadow-lg transition-all hover:border-primary\">\n              <CardHeader>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Target className=\"w-5 h-5 text-green-600\" />\n                  <CardTitle className=\"text-lg\">Accuracy Mode</CardTitle>\n                </div>\n                <CardDescription>No time limit. Focus on getting every answer right.</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <p className=\"text-sm text-muted-foreground\">\n                  Take your time and maximize accuracy. Perfect for learning.\n                </p>\n                <div className=\"space-y-2\">\n                  {(['beginner', 'intermediate', 'advanced'] as const).map(diff => (\n                    <Button\n                      key={diff}\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"w-full text-xs\"\n                      onClick={() => handleStartQuiz('accuracy', diff)}\n                    >\n                      {diff === 'beginner' ? 'ðŸŸ¢' : diff === 'intermediate' ? 'ðŸŸ¡' : 'ðŸ”´'} {diff}\n                    </Button>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Progression Mode */}\n            <Card className=\"border cursor-pointer hover:shadow-lg transition-all hover:border-primary\">\n              <CardHeader>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Brain className=\"w-5 h-5 text-purple-600\" />\n                  <CardTitle className=\"text-lg\">Progression</CardTitle>\n                </div>\n                <CardDescription>Start easy, difficulty increases with your score.</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <p className=\"text-sm text-muted-foreground\">\n                  Adaptive difficulty. Best for challenging yourself.\n                </p>\n                <div className=\"space-y-2\">\n                  {(['beginner', 'intermediate', 'advanced'] as const).map(diff => (\n                    <Button\n                      key={diff}\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"w-full text-xs\"\n                      onClick={() => handleStartQuiz('progression', diff)}\n                    >\n                      {diff === 'beginner' ? 'ðŸŸ¢' : diff === 'intermediate' ? 'ðŸŸ¡' : 'ðŸ”´'} {diff}\n                    </Button>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </motion.div>\n\n        {/* Features */}\n        <Card className=\"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 border-2\">\n          <CardHeader>\n            <CardTitle className=\"text-center\">Why Use Our Chord System?</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-2\">ðŸŽ¸</div>\n                <h3 className=\"font-semibold mb-2\">Complete Library</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  Over 100 chords covering all common shapes and variations\n                </p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-2\">ðŸŽ“</div>\n                <h3 className=\"font-semibold mb-2\">Progressive Learning</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  Structured difficulty levels from beginner to advanced\n                </p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-2\">ðŸ†</div>\n                <h3 className=\"font-semibold mb-2\">Gamified Practice</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  Compete on leaderboards and track your progress over time\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}\n","import { createFileRoute } from '@tanstack/react-router'\nimport { ChordLearningHub } from '../components/ChordLearningHub/ChordLearningHub'\nimport { Button } from '@hudak/ui/components/button'\nimport { ArrowLeft } from 'lucide-react'\n\nexport const Route = createFileRoute('/chord-quiz')({\n  component: ChordQuizPage,\n})\n\nfunction ChordQuizPage() {\n  const navigate = Route.useNavigate()\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800\">\n      <div className=\"container mx-auto py-8 px-4\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => navigate({ to: '/' })}\n          className=\"mb-6 text-white border-white hover:bg-white/10\"\n        >\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\n          Back\n        </Button>\n        \n        <div className=\"bg-slate-800/50 backdrop-blur rounded-lg p-8 border border-slate-700\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Chord Learning & Quiz</h1>\n          <p className=\"text-slate-300 mb-8\">Learn and practice chords with visual reference and interactive quizzes. Toggle between guitar and piano.</p>\n          \n          <ChordLearningHub />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["House","createLucideIcon","Pause","RotateCcw","Search","Share2","Shuffle","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext3","rootComponentName","defaultContext","BaseContext","React.createContext","index","Provider","props","scope","children","context","Context","_a","value","React.useMemo","jsx","useContext2","consumerName","React.useContext","createScope","scopeContexts","contexts","composeContextScopes","scopes","baseScope","scopeHooks","createScope2","overrideScopes","nextScopes","nextScopes2","useScope","currentScope","Input","className","type","cn","PROGRESS_NAME","DEFAULT_MAX","createProgressContext","ProgressProvider","useProgressContext","Progress","React.forwardRef","forwardedRef","__scopeProgress","valueProp","maxProp","getValueLabel","defaultGetValueLabel","progressProps","isValidMaxNumber","getInvalidMaxError","max","isValidValueNumber","getInvalidValueError","valueLabel","isNumber","Primitive","getProgressState","INDICATOR_NAME","ProgressIndicator","indicatorProps","maxValue","propValue","componentName","Root","Indicator","ProgressPrimitive.Root","ProgressPrimitive.Indicator","CHORD_LIBRARY","searchChords","query","lowerQuery","chord","tag","getRandomChord","difficulty","filtered","c","ChordDiagram","interactive","size","guitarFingerings","isOpen","maxFret","config","width","stringSpacing","fretHeight","startX","startY","fretboardWidth","fretboardHeight","jsxs","motion","_","i","fingering","x","isMuted","dotY","e","note","NOTE_FREQUENCIES","ChordPlayer","variant","isPlaying","setIsPlaying","useState","audioContextRef","useRef","oscillatorsRef","gainsRef","createAudioContext","AudioContextClass","playChord","stopChord","audioContext","osc","pianoNotes","duration","frequency","oscillator","gain","startTime","endTime","sizeClasses","Button","Fragment","Volume2","ChordSearch","onChordSelect","selectedChord","searchQuery","setSearchQuery","difficultyFilter","setDifficultyFilter","typeFilter","setTypeFilter","filteredChords","useMemo","results","a","b","diffOrder","clearFilters","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","X","Badge","ChordReference","onStartQuiz","setSelectedChord","handleRandomChord","handleDifficultyRandom","BookOpen","Card","CardHeader","CardTitle","CardDescription","CardContent","generateQuizQuestions","mode","questionCount","questions","attempts","q","options","availableChords","randomIdx","option","difficultyMatch","o","correctIndex","initializeQuizState","recordAnswer","state","answerIndex","newState","question","isCorrect","questionStartTime","timeTaken","speedBonus","difficultyMultiplier","nextQuestion","calculateStats","correct","answer","incorrect","totalTime","validAnswers","loadLeaderboard","data","saveLeaderboardEntry","stats","playerName","leaderboard","getTopScores","limit","entry","ResultsSummary","onPlayAgain","onBack","setPlayerName","saved","setSaved","topScores","setTopScores","handleSaveScore","accuracyColor","ratingEmoji","Trophy","Home","ChordQuiz","quizState","setQuizState","selectedAnswer","setSelectedAnswer","answered","setAnswered","timeLeft","setTimeLeft","timerRef","currentQuestion","progress","handleAnswer","useCallback","optionIndex","useEffect","prev","handleNext","ChordLearningHub","view","setView","quizConfig","setQuizConfig","handleStartQuiz","handleBackToMenu","handleToReference","handleToQuiz","Brain","Zap","diff","Target","ChordQuizPage","navigate","Route","useNavigate","to","ArrowLeft"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,8]}