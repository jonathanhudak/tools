import{r as c,j as e,B as N,R as G}from"./index-Lbf_0bny.js";import{C as h,a as w,b as S,c as k,d as g,m as j}from"./proxy-RKdno5Y1.js";import{B as y}from"./badge-BOiqdE-i.js";import{g as H,S as v}from"./chord-scale-matrix-CQYsneP2.js";import{A as z}from"./index-CxBClCGn.js";import{R as _}from"./react-confetti-CB9ZJOGQ.js";import{A as F}from"./arrow-left-CtT_EmSe.js";const W=[{value:"major",label:"Major",description:"Ionian mode and relatives"},{value:"naturalMinor",label:"Natural Minor",description:"Aeolian mode and relatives"},{value:"melodicMinor",label:"Melodic Minor",description:"Dorian #4 and relatives"},{value:"harmonicMinor",label:"Harmonic Minor",description:"Locrian #6 and relatives"}];function K({onScalesSelected:a}){const[l,t]=c.useState(["major"]),[o,n]=c.useState("intermediate"),d=s=>{n(s);let r=[];s==="beginner"?r=["major"]:s==="intermediate"?r=["major","naturalMinor"]:r=["major","naturalMinor","melodicMinor","harmonicMinor"],t(r)},x=s=>{t(r=>r.includes(s)?r.length===1?r:r.filter(b=>b!==s):[...r,s])},m=()=>{l.length>0&&a(l)};return e.jsxs(h,{className:"w-full max-w-md mx-auto",children:[e.jsxs(w,{children:[e.jsx(S,{children:"Scales & Modes Quiz"}),e.jsx(k,{children:"Select which scales to include in your quiz"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold",children:"Difficulty Presets"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["beginner","intermediate","advanced"].map(s=>e.jsx(N,{variant:o===s?"default":"outline",size:"sm",onClick:()=>d(s),className:"capitalize",children:s},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold",children:"Include Scales"}),e.jsx("div",{className:"space-y-2",children:W.map(s=>e.jsxs("button",{onClick:()=>x(s.value),className:`w-full p-3 rounded-lg border-2 transition-all text-left ${l.includes(s.value)?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-200 dark:border-gray-700 hover:border-blue-300"}`,children:[e.jsx("div",{className:"font-semibold",children:s.label}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.description}),l.includes(s.value)&&e.jsx(y,{className:"mt-2 bg-blue-600",children:"Selected"})]},s.value))})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"text-sm font-semibold mb-2",children:"Selected:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.length>0?l.map(s=>e.jsx(y,{variant:"secondary",className:"capitalize",children:s==="naturalMinor"?"Natural Minor":s==="melodicMinor"?"Melodic Minor":s==="harmonicMinor"?"Harmonic Minor":"Major"},s)):e.jsx("span",{className:"text-gray-500 text-sm",children:"Select at least one scale"})})]}),e.jsx(N,{onClick:m,disabled:l.length===0,size:"lg",className:"w-full",children:"Start Quiz â†’"})]})]})}function T(a=["major","naturalMinor","melodicMinor","harmonicMinor"]){const l=a.filter(b=>b);if(l.length===0)throw new Error("No valid scale types provided");const t=l[Math.floor(Math.random()*l.length)],o=Math.floor(Math.random()*7)+1,n=H(t,o);if(!n)throw new Error(`No entry found for ${t} degree ${o}`);const d=n.modeName,x=n.modeName,s=["Ionian","Dorian","Phrygian","Lydian","Mixolydian","Aeolian","Locrian"].filter(b=>b!==d).sort(()=>Math.random()-.5).slice(0,3),r=[d,...s].sort(()=>Math.random()-.5);return{scaleType:t,degree:o,correctAnswer:d,modeName:x,options:r,questionText:`What mode is on degree ${o} of ${t}?`}}function J(a,l){return l===a.correctAnswer}function U({selectedScales:a,onQuizComplete:l}){const[t,o]=c.useState(null),[n,d]=c.useState(null),[x,m]=c.useState(null),[s,r]=c.useState({correct:0,total:0}),[b,q]=c.useState(0),[I,E]=c.useState([]),[p,L]=c.useState(10),[C,R]=c.useState(!1);c.useEffect(()=>{if(C&&!t){const i=T(a);o(i)}},[C]);const D=()=>{const i=T(a);o(i),d(null),m(null)},P=i=>{if(n||!t)return;d(i);const f=J(t,i);m(f);const u={correct:s.correct+(f?1:0),total:s.total+1};r(u),q(f?b+1:0),E(M=>[...M,{question:t,selectedAnswer:i,isCorrect:f}]),u.total>=p&&setTimeout(()=>{l({totalQuestions:u.total,correctAnswers:u.correct,incorrectAnswers:u.total-u.correct,accuracy:u.correct/u.total*100,answers:I})},1500)},$=()=>{D()};if(!C)return e.jsxs(h,{className:"w-full max-w-md mx-auto",children:[e.jsxs(w,{children:[e.jsx(S,{children:"Ready to Start?"}),e.jsxs(k,{children:["Answer ",p," questions about scales and modes"]})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 dark:bg-blue-950",children:[e.jsx("div",{className:"text-sm font-semibold mb-2",children:"Selected Scales:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(i=>e.jsx(y,{variant:"secondary",className:"capitalize",children:v[i]},i))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold",children:"Number of Questions"}),e.jsxs("select",{value:p,onChange:i=>L(parseInt(i.target.value)),className:"w-full p-2 border rounded-lg dark:bg-gray-800",children:[e.jsx("option",{value:"5",children:"5 Questions"}),e.jsx("option",{value:"10",children:"10 Questions"}),e.jsx("option",{value:"20",children:"20 Questions"}),e.jsx("option",{value:"30",children:"30 Questions"})]})]}),e.jsx(N,{onClick:()=>R(!0),size:"lg",className:"w-full",children:"Let's Go! ðŸŽµ"})]})]});if(!t)return e.jsx("div",{className:"text-center p-4",children:"Loading question..."});const B=s.total>0?Math.round(s.correct/s.total*100):0,O=s.total/p*100;return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx(j.div,{className:"bg-blue-500 h-2 rounded-full",initial:{width:0},animate:{width:`${O}%`},transition:{duration:.5}})}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(h,{className:"flex-1",children:e.jsxs(g,{className:"pt-4 pb-3 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[s.correct,"/",s.total]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Correct"})]})}),e.jsx(h,{className:"flex-1",children:e.jsxs(g,{className:"pt-4 pb-3 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[B,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Accuracy"})]})}),e.jsx(h,{className:"flex-1",children:e.jsxs(g,{className:"pt-4 pb-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:b}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Streak"})]})})]}),e.jsxs(h,{className:"border-2",children:[e.jsxs(w,{className:"pb-4",children:[e.jsxs(y,{variant:"outline",className:"w-fit mb-2",children:["Question ",s.total+1," of ",p]}),e.jsx(S,{className:"text-2xl",children:t.questionText}),e.jsxs(k,{children:["Scale Type: ",v[t.scaleType]]})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.jsx(z,{mode:"wait",children:t.options.map((i,f)=>{const u=n===i,M=n&&i===t.correctAnswer,Y=n&&u&&!x;let Q="outline",A="h-16 text-lg font-semibold transition-all";return M?A+=" bg-green-500 text-white hover:bg-green-600 border-green-600":Y?A+=" bg-red-500 text-white hover:bg-red-600 border-red-600":u&&(Q="secondary"),e.jsx(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.05},children:e.jsx(N,{variant:Q,className:A,onClick:()=>P(i),disabled:!!n,children:i})},i)})})}),e.jsx(z,{mode:"wait",children:n&&e.jsxs(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[x?e.jsxs("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-950/30 border-2 border-green-500",children:[e.jsx("div",{className:"font-semibold text-green-900 dark:text-green-100",children:"âœ“ Correct!"}),e.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 mt-1",children:[t.correctAnswer," is the ",t.degree,"th mode of"," ",v[t.scaleType]]})]}):e.jsxs("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-950/30 border-2 border-red-500",children:[e.jsx("div",{className:"font-semibold text-red-900 dark:text-red-100",children:"âœ— Incorrect"}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200 mt-1",children:["The correct answer is ",e.jsx("strong",{children:t.correctAnswer})," (",t.degree,"th degree of ",v[t.scaleType],")"]})]}),s.total<p&&e.jsx(N,{onClick:$,size:"lg",className:"w-full",children:"Next Question â†’"})]})})]})]})]})}function V({results:a,onRetry:l}){const[t,o]=c.useState(!1),n=a.accuracy>=85,d=a.accuracy>=70;let x="",m="";return n?(x="ðŸŒŸ Outstanding! You have excellent knowledge of scales and modes!",m="text-yellow-600 dark:text-yellow-400"):d?(x="ðŸ‘ Great job! You&apos;re getting solid with scales and modes.",m="text-green-600 dark:text-green-400"):(x="ðŸ’ª Keep practicing! You&apos;ll master scales and modes in no time.",m="text-blue-600 dark:text-blue-400"),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[n&&e.jsx(_,{numberOfPieces:100,recycle:!1}),e.jsx(j.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(h,{className:"border-2",children:[e.jsxs(w,{className:"text-center",children:[e.jsx(y,{variant:"secondary",className:"w-fit mx-auto mb-4",children:"Quiz Complete"}),e.jsxs(S,{className:"text-4xl",children:[a.correctAnswers,"/",a.totalQuestions]}),e.jsxs(k,{className:"text-xl",children:[a.accuracy.toFixed(1),"% Accuracy"]})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsx(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:`text-center text-lg font-semibold ${m}`,children:x}),e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"grid grid-cols-3 gap-4",children:[e.jsx(h,{children:e.jsxs(g,{className:"pt-6 pb-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:a.correctAnswers}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Correct"})]})}),e.jsx(h,{children:e.jsxs(g,{className:"pt-6 pb-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:a.incorrectAnswers}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Incorrect"})]})}),e.jsx(h,{children:e.jsxs(g,{className:"pt-6 pb-4 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[a.accuracy.toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Accuracy"})]})})]}),e.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[e.jsx(N,{onClick:l,size:"lg",className:"w-full",children:"Try Again ðŸŽ¯"}),e.jsxs(N,{onClick:()=>o(!t),variant:"outline",size:"lg",className:"w-full",children:[t?"Hide":"Show"," Details"]})]})]})]})}),t&&e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Answer Breakdown"}),a.answers.map((s,r)=>e.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.05},children:e.jsx(h,{className:`${s.isCorrect?"border-l-4 border-l-green-500 bg-green-50 dark:bg-green-950/20":"border-l-4 border-l-red-500 bg-red-50 dark:bg-red-950/20"}`,children:e.jsx(g,{className:"pt-4 pb-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold mb-1",children:["Question ",r+1,": ",s.question.questionText]}),e.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Scale: ",v[s.question.scaleType]]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"Your answer:"})," ",e.jsx("span",{className:s.isCorrect?"text-green-600":"text-red-600",children:s.selectedAnswer})]}),!s.isCorrect&&e.jsxs("div",{className:"text-sm mt-1",children:[e.jsx("span",{className:"font-semibold",children:"Correct answer:"})," ",e.jsx("span",{className:"text-green-600",children:s.question.correctAnswer})]})]}),e.jsx(y,{variant:s.isCorrect?"default":"destructive",className:"shrink-0 mt-1",children:s.isCorrect?"âœ“ Correct":"âœ— Wrong"})]})})})},r))]})]})}function X(){const[a,l]=c.useState("selection"),[t,o]=c.useState(["major"]),[n,d]=c.useState(null),x=r=>{o(r),l("playing")},m=r=>{d(r),l("results")},s=()=>{l("selection"),o(["major"]),d(null)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 mt-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"ðŸŽµ Scales & Modes Quiz"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Master the connection between scales, modes, and their chord qualities"})]}),e.jsxs("div",{className:"mb-8",children:[a==="selection"&&e.jsx(K,{onScalesSelected:x}),a==="playing"&&e.jsx(U,{selectedScales:t,onQuizComplete:m}),a==="results"&&n&&e.jsx(V,{results:n,onRetry:s})]}),e.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:e.jsx("p",{children:"Tip: Study the 7 modes (Ionian, Dorian, Phrygian, Lydian, Mixolydian, Aeolian, Locrian) and their parent scales."})})]})})}function ne(){const a=G.useNavigate();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>a({to:"/"}),className:"mb-6 text-white border-white hover:bg-white/10",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-lg p-8 border border-slate-700",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Scales & Modes Quiz"}),e.jsx("p",{className:"text-slate-300 mb-8",children:"Master scale theory through interactive practice. Toggle between guitar and piano."}),e.jsx(X,{})]})]})})}export{ne as component};
//# sourceMappingURL=scales-quiz-Cg9SlewC.js.map
