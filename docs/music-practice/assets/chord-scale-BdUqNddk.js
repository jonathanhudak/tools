import{c as J,r,j as e,e as Y,B as S}from"./index-Stan5ddW.js";import{m as N,C as p,a as T,b as D,c as z,d as v}from"./proxy-DywoXr3H.js";import{B as P,A as F}from"./index-B2XO5ILN.js";import{P as K,I as U,S as G,a as R,b as _,c as H,d as k,C as X,e as Z,f as ee,g as se,B as y}from"./chord-library-BxHCwj_k.js";import{V as te}from"./volume-2-DHRzbqTo.js";import{g as A,S as ae,a as re}from"./chord-scale-matrix-BuecDjWQ.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=J("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var le="Label",q=r.forwardRef((t,s)=>e.jsx(K.label,{...t,ref:s,onMouseDown:i=>{var c;i.target.closest("button, input, select, textarea")||((c=t.onMouseDown)==null||c.call(t,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));q.displayName=le;var ce=q;function Q({className:t,...s}){return e.jsx(ce,{"data-slot":"label",className:Y("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function ne({chord:t,voicingIndex:s=0,onInstrumentChange:i}){const[a,c]=r.useState("guitar"),[x,f]=r.useState(s),[o,g]=r.useState(!1),m=Math.min(x,t.voicings.length-1),d=t.voicings[m],w=r.useMemo(()=>t.voicings.filter((n,h)=>n.guitar),[t]),C=r.useMemo(()=>t.voicings.filter((n,h)=>n.piano),[t]),E=r.useCallback(n=>{c(n),f(0),i==null||i(n)},[i]),M=r.useCallback(n=>{f(parseInt(n,10))},[]),b=a==="guitar"?w:C,I=d.voicingName||`Voicing ${m+1}`;return e.jsx(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"w-full",children:e.jsxs(p,{className:"border-2 shadow-lg bg-gradient-to-br from-background to-muted/30",children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(D,{className:"text-2xl",children:t.name}),e.jsx(z,{className:"text-base mt-1",children:I})]}),e.jsx(U,{instrument:a,onInstrumentChange:E})]})}),e.jsxs(v,{className:"space-y-6",children:[b.length>1&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"voicing-select",className:"text-sm font-medium",children:["Voicing (",m+1," of ",b.length,")"]}),e.jsxs(G,{value:String(m),onValueChange:M,children:[e.jsx(R,{id:"voicing-select",children:e.jsx(_,{})}),e.jsx(H,{children:b.map((n,h)=>e.jsx(k,{value:String(h),children:n.voicingName||`Voicing ${h+1}`},h))})]})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-6 py-6",children:a==="guitar"&&d.guitar?e.jsxs(e.Fragment,{children:[e.jsx(X,{voicing:d,chordName:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground text-center max-w-xs",children:d.guitar.description})]}):a==="piano"&&d.piano?e.jsxs(e.Fragment,{children:[e.jsx(Z,{voicing:d,chordName:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground text-center max-w-xs",children:d.piano.description})]}):e.jsx("div",{className:"text-center text-muted-foreground text-sm py-12",children:e.jsxs("p",{children:["No ",a," voicing available for this chord"]})})}),d.guitar||d.piano?e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[e.jsx(ee,{chord:t,voicingIndex:m,onPlayStart:()=>g(!0),onPlayEnd:()=>g(!1)}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>g(!o),disabled:o,className:"gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),o?"Playing...":"Play Chord"]})]}):null]})]})})}function $(t){const s=t==="major"?["major"]:t==="majorMinor"?["major","naturalMinor"]:["major","naturalMinor","melodicMinor","harmonicMinor"],i=s[Math.floor(Math.random()*s.length)],a=Math.floor(Math.random()*7)+1,c=A(i,a);if(!c)throw new Error(`No entry found for ${i} degree ${a}`);const x=c.chordQuality,o=re().filter(m=>m!==x).sort(()=>Math.random()-.5).slice(0,3),g=[x,...o].sort(()=>Math.random()-.5);return{scaleType:i,degree:a,correctAnswer:x,options:g}}function oe({difficulty:t}){var h,B;const[s,i]=r.useState(null),[a,c]=r.useState(null),[x,f]=r.useState(null),[o,g]=r.useState({correct:0,total:0}),[m,d]=r.useState(0),[w,C]=r.useState(null),[E,M]=r.useState("guitar");r.useEffect(()=>{i($(t))},[t]),r.useEffect(()=>{if(a&&s){const l=A(s.scaleType,s.degree);if(l!=null&&l.chordId){const u=se(l.chordId);u&&C(u)}}},[a,s]);const b=l=>{if(a)return;c(l);const u=l===(s==null?void 0:s.correctAnswer);f(u),g(j=>({correct:j.correct+(u?1:0),total:j.total+1})),d(j=>u?j+1:0)},I=()=>{i($(t)),c(null),f(null),C(null),M("guitar")};if(!s)return e.jsx("div",{children:"Loading..."});const n=o.total>0?Math.round(o.correct/o.total*100):0;return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(p,{className:"flex-1",children:e.jsxs(v,{className:"pt-4 pb-3 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[o.correct,"/",o.total]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Correct"})]})}),e.jsx(p,{className:"flex-1",children:e.jsxs(v,{className:"pt-4 pb-3 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[n,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Accuracy"})]})}),e.jsx(p,{className:"flex-1",children:e.jsxs(v,{className:"pt-4 pb-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:m}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Streak"})]})})]}),e.jsxs(p,{className:"border-2",children:[e.jsxs(T,{className:"pb-4",children:[e.jsx(P,{variant:"outline",className:"w-fit mb-2",children:"Degree Quiz"}),e.jsxs(D,{className:"text-2xl",children:["What chord quality is on degree ",s.degree," of ",ae[s.scaleType],"?"]}),e.jsx(z,{children:"Select the correct chord quality"})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.jsx(F,{mode:"wait",children:s.options.map((l,u)=>{const j=a===l,O=a&&l===s.correctAnswer,W=a&&j&&!x;let L="outline",V="h-16 text-lg font-semibold transition-all";return O?V+=" bg-green-500 text-white hover:bg-green-600 border-green-600":W?V+=" bg-red-500 text-white hover:bg-red-600 border-red-600":j&&(L="secondary"),e.jsx(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:u*.05},children:e.jsx(S,{variant:L,className:V,onClick:()=>b(l),disabled:!!a,children:l})},l)})})}),e.jsx(F,{mode:"wait",children:a&&e.jsxs(N.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[x?e.jsxs("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-950/30 border-2 border-green-500",children:[e.jsx("div",{className:"font-semibold text-green-900 dark:text-green-100",children:"✓ Correct!"}),e.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 mt-1",children:[(h=A(s.scaleType,s.degree))==null?void 0:h.modeName," mode"]})]}):e.jsxs("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-950/30 border-2 border-red-500",children:[e.jsx("div",{className:"font-semibold text-red-900 dark:text-red-100",children:"✗ Incorrect"}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200 mt-1",children:["The correct answer is ",e.jsx("strong",{children:s.correctAnswer})," (",(B=A(s.scaleType,s.degree))==null?void 0:B.modeName,")"]})]}),w&&e.jsx("div",{className:"py-4",children:e.jsx(ne,{chord:w,voicingIndex:0,onInstrumentChange:M})}),e.jsx(S,{onClick:I,size:"lg",className:"w-full",children:"Next Question →"})]})})]})]})]})}function de(){const[t,s]=r.useState(!1),[i]=r.useState("degreeQuiz"),[a,c]=r.useState("major");return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"h-6 w-6 text-violet-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Chord-Scale Matrix Trainer"})]}),e.jsx(S,{variant:"ghost",onClick:()=>s(!1),children:"← Back to Settings"})]}),i==="degreeQuiz"&&e.jsx(oe,{difficulty:a})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 flex items-center justify-center p-6",children:e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx(N.div,{initial:{scale:.9},animate:{scale:1},className:"inline-flex items-center gap-3 mb-4",children:e.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 shadow-lg",children:e.jsx(y,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Chord-Scale Matrix Trainer"}),e.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Master chord-scale relationships for jazz improvisation"})]}),e.jsxs(p,{className:"border-2 shadow-xl",children:[e.jsxs(T,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-muted-foreground"}),e.jsx(D,{children:"Practice Settings"})]}),e.jsx(z,{children:"Configure your practice session"})]}),e.jsxs(v,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Q,{className:"text-base font-medium",children:"Game Mode"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("button",{className:"relative p-4 rounded-xl border-2 border-violet-500 bg-violet-50 dark:bg-violet-950/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"h-6 w-6 text-violet-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium",children:"Degree Quiz"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:'Quick-fire questions: "What chord is on degree 4 of Melodic Minor?"'})]}),e.jsx(P,{variant:"secondary",className:"ml-auto",children:"Active"})]})}),e.jsx("div",{className:"relative p-4 rounded-xl border-2 border-dashed border-muted opacity-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"h-6 w-6 text-muted-foreground"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Chord → Sources"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Find all parent scales for a given chord"})]}),e.jsx(P,{variant:"outline",className:"ml-auto",children:"Coming Soon"})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"difficulty",children:"Difficulty"}),e.jsxs(G,{value:a,onValueChange:x=>c(x),children:[e.jsx(R,{id:"difficulty",children:e.jsx(_,{})}),e.jsxs(H,{children:[e.jsx(k,{value:"major",children:"Major Scale Only"}),e.jsx(k,{value:"majorMinor",children:"Major + Natural Minor"}),e.jsx(k,{value:"allScales",children:"All 4 Scale Families"})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a==="major"&&"Learn the 7 chords of the major scale",a==="majorMinor"&&"Add natural minor scale chords",a==="allScales"&&"Master all 28 chord-scale relationships"]})]}),e.jsx(N.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(S,{onClick:()=>s(!0),size:"lg",className:"w-full h-16 text-lg font-semibold bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 shadow-lg",children:[e.jsx(y,{className:"mr-3 h-6 w-6"}),"Start Practice"]})}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsx("p",{children:`Based on Jeff Schneider's "Last Chord Scale Charts" system`})})]})]})]})})}function fe(){return e.jsx(de,{})}export{fe as component};
//# sourceMappingURL=chord-scale-BdUqNddk.js.map
