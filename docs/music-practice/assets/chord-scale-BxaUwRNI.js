import{c as F,r as c,j as e,e as H,B as j}from"./index-BZPCkEGW.js";import{C as h,d as u,a as T,b as D,c as z,m as g}from"./proxy-zxpa2CFD.js";import{B as y}from"./badge-DAbG3Zr6.js";import{P as $,B as m,S as q,a as O,b as V,c as W,d as b}from"./select-DuG-9jbp.js";import{S as _,g as S,a as J}from"./chord-scale-matrix-CQYsneP2.js";import{A as k}from"./index-BjX_HPOA.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=F("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var K="Label",B=c.forwardRef((r,t)=>e.jsx($.label,{...r,ref:t,onMouseDown:a=>{var l;a.target.closest("button, input, select, textarea")||((l=r.onMouseDown)==null||l.call(r,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));B.displayName=K;var U=B;function A({className:r,...t}){return e.jsx(U,{"data-slot":"label",className:H("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}function Q(r){const t=r==="major"?["major"]:r==="majorMinor"?["major","naturalMinor"]:["major","naturalMinor","melodicMinor","harmonicMinor"],a=t[Math.floor(Math.random()*t.length)],s=Math.floor(Math.random()*7)+1,l=S(a,s);if(!l)throw new Error(`No entry found for ${a} degree ${s}`);const i=l.chordQuality,o=J().filter(p=>p!==i).sort(()=>Math.random()-.5).slice(0,3),N=[i,...o].sort(()=>Math.random()-.5);return{scaleType:a,degree:s,correctAnswer:i,options:N}}function X({difficulty:r}){var w,M;const[t,a]=c.useState(null),[s,l]=c.useState(null),[i,f]=c.useState(null),[o,N]=c.useState({correct:0,total:0}),[p,E]=c.useState(0);c.useEffect(()=>{a(Q(r))},[r]);const L=n=>{if(s)return;l(n);const x=n===(t==null?void 0:t.correctAnswer);f(x),N(d=>({correct:d.correct+(x?1:0),total:d.total+1})),E(d=>x?d+1:0)},P=()=>{a(Q(r)),l(null),f(null)};if(!t)return e.jsx("div",{children:"Loading..."});const I=o.total>0?Math.round(o.correct/o.total*100):0;return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(h,{className:"flex-1",children:e.jsxs(u,{className:"pt-4 pb-3 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[o.correct,"/",o.total]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Correct"})]})}),e.jsx(h,{className:"flex-1",children:e.jsxs(u,{className:"pt-4 pb-3 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[I,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Accuracy"})]})}),e.jsx(h,{className:"flex-1",children:e.jsxs(u,{className:"pt-4 pb-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:p}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Streak"})]})})]}),e.jsxs(h,{className:"border-2",children:[e.jsxs(T,{className:"pb-4",children:[e.jsx(y,{variant:"outline",className:"w-fit mb-2",children:"Degree Quiz"}),e.jsxs(D,{className:"text-2xl",children:["What chord quality is on degree ",t.degree," of ",_[t.scaleType],"?"]}),e.jsx(z,{children:"Select the correct chord quality"})]}),e.jsxs(u,{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.jsx(k,{mode:"wait",children:t.options.map((n,x)=>{const d=s===n,G=s&&n===t.correctAnswer,R=s&&d&&!i;let C="outline",v="h-16 text-lg font-semibold transition-all";return G?v+=" bg-green-500 text-white hover:bg-green-600 border-green-600":R?v+=" bg-red-500 text-white hover:bg-red-600 border-red-600":d&&(C="secondary"),e.jsx(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.05},children:e.jsx(j,{variant:C,className:v,onClick:()=>L(n),disabled:!!s,children:n})},n)})})}),e.jsx(k,{mode:"wait",children:s&&e.jsxs(g.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[i?e.jsxs("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-950/30 border-2 border-green-500",children:[e.jsx("div",{className:"font-semibold text-green-900 dark:text-green-100",children:"✓ Correct!"}),e.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 mt-1",children:[(w=S(t.scaleType,t.degree))==null?void 0:w.modeName," mode"]})]}):e.jsxs("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-950/30 border-2 border-red-500",children:[e.jsx("div",{className:"font-semibold text-red-900 dark:text-red-100",children:"✗ Incorrect"}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200 mt-1",children:["The correct answer is ",e.jsx("strong",{children:t.correctAnswer})," (",(M=S(t.scaleType,t.degree))==null?void 0:M.modeName,")"]})]}),e.jsx(j,{onClick:P,size:"lg",className:"w-full",children:"Next Question →"})]})})]})]})]})}function Z(){const[r,t]=c.useState(!1),[a]=c.useState("degreeQuiz"),[s,l]=c.useState("major");return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"h-6 w-6 text-violet-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Chord-Scale Matrix Trainer"})]}),e.jsx(j,{variant:"ghost",onClick:()=>t(!1),children:"← Back to Settings"})]}),a==="degreeQuiz"&&e.jsx(X,{difficulty:s})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 flex items-center justify-center p-6",children:e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx(g.div,{initial:{scale:.9},animate:{scale:1},className:"inline-flex items-center gap-3 mb-4",children:e.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 shadow-lg",children:e.jsx(m,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Chord-Scale Matrix Trainer"}),e.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Master chord-scale relationships for jazz improvisation"})]}),e.jsxs(h,{className:"border-2 shadow-xl",children:[e.jsxs(T,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-muted-foreground"}),e.jsx(D,{children:"Practice Settings"})]}),e.jsx(z,{children:"Configure your practice session"})]}),e.jsxs(u,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(A,{className:"text-base font-medium",children:"Game Mode"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("button",{className:"relative p-4 rounded-xl border-2 border-violet-500 bg-violet-50 dark:bg-violet-950/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"h-6 w-6 text-violet-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium",children:"Degree Quiz"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:'Quick-fire questions: "What chord is on degree 4 of Melodic Minor?"'})]}),e.jsx(y,{variant:"secondary",className:"ml-auto",children:"Active"})]})}),e.jsx("div",{className:"relative p-4 rounded-xl border-2 border-dashed border-muted opacity-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"h-6 w-6 text-muted-foreground"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Chord → Sources"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Find all parent scales for a given chord"})]}),e.jsx(y,{variant:"outline",className:"ml-auto",children:"Coming Soon"})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"difficulty",children:"Difficulty"}),e.jsxs(q,{value:s,onValueChange:i=>l(i),children:[e.jsx(O,{id:"difficulty",children:e.jsx(V,{})}),e.jsxs(W,{children:[e.jsx(b,{value:"major",children:"Major Scale Only"}),e.jsx(b,{value:"majorMinor",children:"Major + Natural Minor"}),e.jsx(b,{value:"allScales",children:"All 4 Scale Families"})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s==="major"&&"Learn the 7 chords of the major scale",s==="majorMinor"&&"Add natural minor scale chords",s==="allScales"&&"Master all 28 chord-scale relationships"]})]}),e.jsx(g.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(j,{onClick:()=>t(!0),size:"lg",className:"w-full h-16 text-lg font-semibold bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 shadow-lg",children:[e.jsx(m,{className:"mr-3 h-6 w-6"}),"Start Practice"]})}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsx("p",{children:`Based on Jeff Schneider's "Last Chord Scale Charts" system`})})]})]})]})})}function ce(){return e.jsx(Z,{})}export{ce as component};
//# sourceMappingURL=chord-scale-BxaUwRNI.js.map
