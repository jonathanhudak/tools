{"version":3,"file":"scales-quiz-Cg9SlewC.js","sources":["../../../apps/music-practice/src/components/ChordScaleGame/ScaleSelector.tsx","../../../apps/music-practice/src/components/ChordScaleGame/QuizGenerator.ts","../../../apps/music-practice/src/components/ChordScaleGame/QuizGame.tsx","../../../apps/music-practice/src/components/ChordScaleGame/ResultsSummary.tsx","../../../apps/music-practice/src/components/ChordScaleGame/ScalesModesQuiz.tsx","../../../apps/music-practice/src/routes/scales-quiz.tsx?tsr-split=component"],"sourcesContent":["/**\n * Scale Selector Component\n *\n * Dropdown component to select which scale types to include in the quiz.\n */\n\nimport { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Badge } from '@hudak/ui/components/badge';\nimport { Button } from '@hudak/ui/components/button';\nimport { type ScaleType } from '../../data/chord-scale-matrix';\n\nexport interface ScaleSelectorProps {\n  onScalesSelected: (scales: ScaleType[]) => void;\n}\n\nconst SCALE_OPTIONS: { value: ScaleType; label: string; description: string }[] = [\n  { value: 'major', label: 'Major', description: 'Ionian mode and relatives' },\n  { value: 'naturalMinor', label: 'Natural Minor', description: 'Aeolian mode and relatives' },\n  { value: 'melodicMinor', label: 'Melodic Minor', description: 'Dorian #4 and relatives' },\n  { value: 'harmonicMinor', label: 'Harmonic Minor', description: 'Locrian #6 and relatives' },\n];\n\nexport function ScaleSelector({ onScalesSelected }: ScaleSelectorProps): JSX.Element {\n  const [selectedScales, setSelectedScales] = useState<ScaleType[]>(['major']);\n  const [difficulty, setDifficulty] = useState<'beginner' | 'intermediate' | 'advanced'>(\n    'intermediate',\n  );\n\n  const handleDifficultyChange = (\n    newDifficulty: 'beginner' | 'intermediate' | 'advanced',\n  ): void => {\n    setDifficulty(newDifficulty);\n\n    let scales: ScaleType[] = [];\n    if (newDifficulty === 'beginner') {\n      scales = ['major'];\n    } else if (newDifficulty === 'intermediate') {\n      scales = ['major', 'naturalMinor'];\n    } else {\n      scales = ['major', 'naturalMinor', 'melodicMinor', 'harmonicMinor'];\n    }\n\n    setSelectedScales(scales);\n  };\n\n  const toggleScale = (scale: ScaleType): void => {\n    setSelectedScales(prev => {\n      if (prev.includes(scale)) {\n        // Don't allow deselecting all scales\n        if (prev.length === 1) return prev;\n        return prev.filter(s => s !== scale);\n      }\n      return [...prev, scale];\n    });\n  };\n\n  const handleStart = (): void => {\n    if (selectedScales.length > 0) {\n      onScalesSelected(selectedScales);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-md mx-auto\">\n      <CardHeader>\n        <CardTitle>Scales & Modes Quiz</CardTitle>\n        <CardDescription>Select which scales to include in your quiz</CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {/* Difficulty Presets */}\n        <div className=\"space-y-3\">\n          <label className=\"text-sm font-semibold\">Difficulty Presets</label>\n          <div className=\"grid grid-cols-3 gap-2\">\n            {(['beginner', 'intermediate', 'advanced'] as const).map(level => (\n              <Button\n                key={level}\n                variant={difficulty === level ? 'default' : 'outline'}\n                size=\"sm\"\n                onClick={() => handleDifficultyChange(level)}\n                className=\"capitalize\"\n              >\n                {level}\n              </Button>\n            ))}\n          </div>\n        </div>\n\n        {/* Scale Selection */}\n        <div className=\"space-y-3\">\n          <label className=\"text-sm font-semibold\">Include Scales</label>\n          <div className=\"space-y-2\">\n            {SCALE_OPTIONS.map(option => (\n              <button\n                key={option.value}\n                onClick={() => toggleScale(option.value)}\n                className={`w-full p-3 rounded-lg border-2 transition-all text-left ${\n                  selectedScales.includes(option.value)\n                    ? 'border-blue-500 bg-blue-50 dark:bg-blue-950'\n                    : 'border-gray-200 dark:border-gray-700 hover:border-blue-300'\n                }`}\n              >\n                <div className=\"font-semibold\">{option.label}</div>\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">{option.description}</div>\n                {selectedScales.includes(option.value) && (\n                  <Badge className=\"mt-2 bg-blue-600\">Selected</Badge>\n                )}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Selected Scales Summary */}\n        <div className=\"p-3 rounded-lg bg-gray-50 dark:bg-gray-900\">\n          <div className=\"text-sm font-semibold mb-2\">Selected:</div>\n          <div className=\"flex flex-wrap gap-2\">\n            {selectedScales.length > 0 ? (\n              selectedScales.map(scale => (\n                <Badge key={scale} variant=\"secondary\" className=\"capitalize\">\n                  {scale === 'naturalMinor'\n                    ? 'Natural Minor'\n                    : scale === 'melodicMinor'\n                      ? 'Melodic Minor'\n                      : scale === 'harmonicMinor'\n                        ? 'Harmonic Minor'\n                        : 'Major'}\n                </Badge>\n              ))\n            ) : (\n              <span className=\"text-gray-500 text-sm\">Select at least one scale</span>\n            )}\n          </div>\n        </div>\n\n        {/* Start Button */}\n        <Button\n          onClick={handleStart}\n          disabled={selectedScales.length === 0}\n          size=\"lg\"\n          className=\"w-full\"\n        >\n          Start Quiz ‚Üí\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n","/**\n * Quiz Generator Utility\n *\n * Generates random scale/mode quiz questions with multiple choice options.\n */\n\nimport {\n  getDegreeInfo,\n  type ScaleType,\n  type Degree,\n} from '../../data/chord-scale-matrix';\n\nexport interface QuizQuestion {\n  scaleType: ScaleType;\n  degree: Degree;\n  correctAnswer: string;\n  modeName: string;\n  options: string[];\n  questionText: string;\n}\n\n/**\n * Generate a single random quiz question\n */\nexport function generateScaleQuizQuestion(\n  allowedScaleTypes: ScaleType[] = ['major', 'naturalMinor', 'melodicMinor', 'harmonicMinor'],\n): QuizQuestion {\n  // Filter to only allowed scale types\n  const availableScaleTypes = allowedScaleTypes.filter(st => st);\n\n  if (availableScaleTypes.length === 0) {\n    throw new Error('No valid scale types provided');\n  }\n\n  // Pick a random scale type\n  const scaleType = availableScaleTypes[\n    Math.floor(Math.random() * availableScaleTypes.length)\n  ] as ScaleType;\n\n  // Pick a random degree (1-7)\n  const degree = (Math.floor(Math.random() * 7) + 1) as Degree;\n\n  // Get the correct answer\n  const entry = getDegreeInfo(scaleType, degree);\n  if (!entry) {\n    throw new Error(`No entry found for ${scaleType} degree ${degree}`);\n  }\n\n  const correctAnswer = entry.modeName;\n  const modeName = entry.modeName;\n\n  // Generate multiple choice options (including the correct one)\n  const allModes = [\n    'Ionian',\n    'Dorian',\n    'Phrygian',\n    'Lydian',\n    'Mixolydian',\n    'Aeolian',\n    'Locrian',\n  ];\n\n  const incorrectOptions = allModes\n    .filter(m => m !== correctAnswer)\n    .sort(() => Math.random() - 0.5)\n    .slice(0, 3);\n\n  const options = [correctAnswer, ...incorrectOptions].sort(() => Math.random() - 0.5);\n\n  return {\n    scaleType,\n    degree,\n    correctAnswer,\n    modeName,\n    options,\n    questionText: `What mode is on degree ${degree} of ${scaleType}?`,\n  };\n}\n\n/**\n * Generate a batch of quiz questions\n */\nexport function generateQuizQuestions(\n  count: number,\n  allowedScaleTypes: ScaleType[] = ['major', 'naturalMinor', 'melodicMinor', 'harmonicMinor'],\n): QuizQuestion[] {\n  const questions: QuizQuestion[] = [];\n  for (let i = 0; i < count; i++) {\n    questions.push(generateScaleQuizQuestion(allowedScaleTypes));\n  }\n  return questions;\n}\n\n/**\n * Validate an answer\n */\nexport function validateAnswer(question: QuizQuestion, selectedAnswer: string): boolean {\n  return selectedAnswer === question.correctAnswer;\n}\n","/**\n * Quiz Game Component\n *\n * Main quiz interface with questions, scoring, and visual feedback.\n */\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Button } from '@hudak/ui/components/button';\nimport { Badge } from '@hudak/ui/components/badge';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  generateScaleQuizQuestion,\n  validateAnswer,\n  type QuizQuestion,\n} from './QuizGenerator';\nimport { SCALE_TYPE_NAMES, type ScaleType } from '../../data/chord-scale-matrix';\n\nexport interface QuizGameProps {\n  selectedScales: ScaleType[];\n  onQuizComplete: (results: QuizResults) => void;\n}\n\nexport interface QuizResults {\n  totalQuestions: number;\n  correctAnswers: number;\n  incorrectAnswers: number;\n  accuracy: number;\n  answers: AnswerRecord[];\n}\n\nexport interface AnswerRecord {\n  question: QuizQuestion;\n  selectedAnswer: string;\n  isCorrect: boolean;\n}\n\nexport function QuizGame({ selectedScales, onQuizComplete }: QuizGameProps): JSX.Element {\n  const [currentQuestion, setCurrentQuestion] = useState<QuizQuestion | null>(null);\n  const [selectedAnswer, setSelectedAnswer] = useState<string | null>(null);\n  const [isCorrect, setIsCorrect] = useState<boolean | null>(null);\n  const [score, setScore] = useState({ correct: 0, total: 0 });\n  const [streak, setStreak] = useState(0);\n  const [answers, setAnswers] = useState<AnswerRecord[]>([]);\n  const [questionCount, setQuestionCount] = useState(10);\n  const [quizStarted, setQuizStarted] = useState(false);\n\n  // Generate initial question\n  useEffect(() => {\n    if (quizStarted && !currentQuestion) {\n      const question = generateScaleQuizQuestion(selectedScales);\n      setCurrentQuestion(question);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [quizStarted]);\n\n  const generateNextQuestion = (): void => {\n    const question = generateScaleQuizQuestion(selectedScales);\n    setCurrentQuestion(question);\n    setSelectedAnswer(null);\n    setIsCorrect(null);\n  };\n\n  const handleAnswer = (answer: string): void => {\n    if (selectedAnswer) return; // Already answered\n\n    if (!currentQuestion) return;\n\n    setSelectedAnswer(answer);\n    const correct = validateAnswer(currentQuestion, answer);\n    setIsCorrect(correct);\n\n    const newScore = {\n      correct: score.correct + (correct ? 1 : 0),\n      total: score.total + 1,\n    };\n    setScore(newScore);\n    setStreak(correct ? streak + 1 : 0);\n\n    // Add to answer history\n    setAnswers(prev => [\n      ...prev,\n      {\n        question: currentQuestion,\n        selectedAnswer: answer,\n        isCorrect: correct,\n      },\n    ]);\n\n    // Check if quiz is complete\n    if (newScore.total >= questionCount) {\n      setTimeout(() => {\n        onQuizComplete({\n          totalQuestions: newScore.total,\n          correctAnswers: newScore.correct,\n          incorrectAnswers: newScore.total - newScore.correct,\n          accuracy: (newScore.correct / newScore.total) * 100,\n          answers,\n        });\n      }, 1500);\n    }\n  };\n\n  const handleNextQuestion = (): void => {\n    generateNextQuestion();\n  };\n\n  if (!quizStarted) {\n    return (\n      <Card className=\"w-full max-w-md mx-auto\">\n        <CardHeader>\n          <CardTitle>Ready to Start?</CardTitle>\n          <CardDescription>Answer {questionCount} questions about scales and modes</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"p-4 rounded-lg bg-blue-50 dark:bg-blue-950\">\n            <div className=\"text-sm font-semibold mb-2\">Selected Scales:</div>\n            <div className=\"flex flex-wrap gap-2\">\n              {selectedScales.map(scale => (\n                <Badge key={scale} variant=\"secondary\" className=\"capitalize\">\n                  {SCALE_TYPE_NAMES[scale]}\n                </Badge>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-semibold\">Number of Questions</label>\n            <select\n              value={questionCount}\n              onChange={e => setQuestionCount(parseInt(e.target.value))}\n              className=\"w-full p-2 border rounded-lg dark:bg-gray-800\"\n            >\n              <option value=\"5\">5 Questions</option>\n              <option value=\"10\">10 Questions</option>\n              <option value=\"20\">20 Questions</option>\n              <option value=\"30\">30 Questions</option>\n            </select>\n          </div>\n\n          <Button onClick={() => setQuizStarted(true)} size=\"lg\" className=\"w-full\">\n            Let&apos;s Go! üéµ\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (!currentQuestion) {\n    return <div className=\"text-center p-4\">Loading question...</div>;\n  }\n\n  const accuracy = score.total > 0 ? Math.round((score.correct / score.total) * 100) : 0;\n  const progress = (score.total / questionCount) * 100;\n\n  return (\n    <div className=\"max-w-2xl mx-auto space-y-6\">\n      {/* Progress Bar */}\n      <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n        <motion.div\n          className=\"bg-blue-500 h-2 rounded-full\"\n          initial={{ width: 0 }}\n          animate={{ width: `${progress}%` }}\n          transition={{ duration: 0.5 }}\n        />\n      </div>\n\n      {/* Stats Bar */}\n      <div className=\"flex gap-4 justify-center\">\n        <Card className=\"flex-1\">\n          <CardContent className=\"pt-4 pb-3 text-center\">\n            <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\n              {score.correct}/{score.total}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">Correct</div>\n          </CardContent>\n        </Card>\n        <Card className=\"flex-1\">\n          <CardContent className=\"pt-4 pb-3 text-center\">\n            <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\n              {accuracy}%\n            </div>\n            <div className=\"text-xs text-muted-foreground\">Accuracy</div>\n          </CardContent>\n        </Card>\n        <Card className=\"flex-1\">\n          <CardContent className=\"pt-4 pb-3 text-center\">\n            <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\n              {streak}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">Streak</div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Question Card */}\n      <Card className=\"border-2\">\n        <CardHeader className=\"pb-4\">\n          <Badge variant=\"outline\" className=\"w-fit mb-2\">\n            Question {score.total + 1} of {questionCount}\n          </Badge>\n          <CardTitle className=\"text-2xl\">{currentQuestion.questionText}</CardTitle>\n          <CardDescription>\n            Scale Type: {SCALE_TYPE_NAMES[currentQuestion.scaleType]}\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {/* Answer Options */}\n          <div className=\"grid grid-cols-2 gap-3\">\n            <AnimatePresence mode=\"wait\">\n              {currentQuestion.options.map((option, index) => {\n                const isSelected = selectedAnswer === option;\n                const showCorrect = selectedAnswer && option === currentQuestion.correctAnswer;\n                const showIncorrect = selectedAnswer && isSelected && !isCorrect;\n\n                let variant: 'default' | 'outline' | 'secondary' = 'outline';\n                let className = 'h-16 text-lg font-semibold transition-all';\n\n                if (showCorrect) {\n                  className += ' bg-green-500 text-white hover:bg-green-600 border-green-600';\n                } else if (showIncorrect) {\n                  className += ' bg-red-500 text-white hover:bg-red-600 border-red-600';\n                } else if (isSelected) {\n                  variant = 'secondary';\n                }\n\n                return (\n                  <motion.div\n                    key={option}\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: index * 0.05 }}\n                  >\n                    <Button\n                      variant={variant}\n                      className={className}\n                      onClick={() => handleAnswer(option)}\n                      disabled={!!selectedAnswer}\n                    >\n                      {option}\n                    </Button>\n                  </motion.div>\n                );\n              })}\n            </AnimatePresence>\n          </div>\n\n          {/* Feedback */}\n          <AnimatePresence mode=\"wait\">\n            {selectedAnswer && (\n              <motion.div\n                initial={{ opacity: 0, height: 0 }}\n                animate={{ opacity: 1, height: 'auto' }}\n                exit={{ opacity: 0, height: 0 }}\n                className=\"space-y-4\"\n              >\n                {isCorrect ? (\n                  <div className=\"p-4 rounded-lg bg-green-50 dark:bg-green-950/30 border-2 border-green-500\">\n                    <div className=\"font-semibold text-green-900 dark:text-green-100\">\n                      ‚úì Correct!\n                    </div>\n                    <div className=\"text-sm text-green-800 dark:text-green-200 mt-1\">\n                      {currentQuestion.correctAnswer} is the {currentQuestion.degree}th mode of{' '}\n                      {SCALE_TYPE_NAMES[currentQuestion.scaleType]}\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"p-4 rounded-lg bg-red-50 dark:bg-red-950/30 border-2 border-red-500\">\n                    <div className=\"font-semibold text-red-900 dark:text-red-100\">\n                      ‚úó Incorrect\n                    </div>\n                    <div className=\"text-sm text-red-800 dark:text-red-200 mt-1\">\n                      The correct answer is <strong>{currentQuestion.correctAnswer}</strong> (\n                      {currentQuestion.degree}th degree of {SCALE_TYPE_NAMES[currentQuestion.scaleType]}\n                      )\n                    </div>\n                  </div>\n                )}\n\n                {score.total < questionCount && (\n                  <Button onClick={handleNextQuestion} size=\"lg\" className=\"w-full\">\n                    Next Question ‚Üí\n                  </Button>\n                )}\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","/**\n * Results Summary Component\n *\n * Displays final score, accuracy, and detailed answer breakdown.\n */\n\nimport { motion } from 'framer-motion';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@hudak/ui/components/card';\nimport { Button } from '@hudak/ui/components/button';\nimport { Badge } from '@hudak/ui/components/badge';\nimport Confetti from 'react-confetti';\nimport { useState } from 'react';\nimport { SCALE_TYPE_NAMES } from '../../data/chord-scale-matrix';\nimport type { QuizResults, AnswerRecord } from './QuizGame';\n\nexport interface ResultsSummaryProps {\n  results: QuizResults;\n  onRetry: () => void;\n}\n\nexport function ResultsSummary({ results, onRetry }: ResultsSummaryProps): JSX.Element {\n  const [showDetails, setShowDetails] = useState(false);\n  const isExcellent = results.accuracy >= 85;\n  const isGood = results.accuracy >= 70;\n\n  let feedbackMessage = '';\n  let feedbackColor = '';\n\n  if (isExcellent) {\n    feedbackMessage = 'üåü Outstanding! You have excellent knowledge of scales and modes!';\n    feedbackColor = 'text-yellow-600 dark:text-yellow-400';\n  } else if (isGood) {\n    feedbackMessage = 'üëè Great job! You&apos;re getting solid with scales and modes.';\n    feedbackColor = 'text-green-600 dark:text-green-400';\n  } else {\n    feedbackMessage = 'üí™ Keep practicing! You&apos;ll master scales and modes in no time.';\n    feedbackColor = 'text-blue-600 dark:text-blue-400';\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto space-y-6\">\n      {isExcellent && <Confetti numberOfPieces={100} recycle={false} />}\n\n      {/* Main Results Card */}\n      <motion.div\n        initial={{ scale: 0.9, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        transition={{ duration: 0.5 }}\n      >\n        <Card className=\"border-2\">\n          <CardHeader className=\"text-center\">\n            <Badge variant=\"secondary\" className=\"w-fit mx-auto mb-4\">\n              Quiz Complete\n            </Badge>\n            <CardTitle className=\"text-4xl\">\n              {results.correctAnswers}/{results.totalQuestions}\n            </CardTitle>\n            <CardDescription className=\"text-xl\">{results.accuracy.toFixed(1)}% Accuracy</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            {/* Feedback Message */}\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.2 }}\n              className={`text-center text-lg font-semibold ${feedbackColor}`}\n            >\n              {feedbackMessage}\n            </motion.div>\n\n            {/* Stats Grid */}\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.3 }}\n              className=\"grid grid-cols-3 gap-4\"\n            >\n              <Card>\n                <CardContent className=\"pt-6 pb-4 text-center\">\n                  <div className=\"text-3xl font-bold text-green-600 dark:text-green-400\">\n                    {results.correctAnswers}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground mt-1\">Correct</div>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className=\"pt-6 pb-4 text-center\">\n                  <div className=\"text-3xl font-bold text-red-600 dark:text-red-400\">\n                    {results.incorrectAnswers}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground mt-1\">Incorrect</div>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className=\"pt-6 pb-4 text-center\">\n                  <div className=\"text-3xl font-bold text-blue-600 dark:text-blue-400\">\n                    {results.accuracy.toFixed(0)}%\n                  </div>\n                  <div className=\"text-sm text-muted-foreground mt-1\">Accuracy</div>\n                </CardContent>\n              </Card>\n            </motion.div>\n\n            {/* Actions */}\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.4 }}\n              className=\"space-y-3\"\n            >\n              <Button onClick={onRetry} size=\"lg\" className=\"w-full\">\n                Try Again üéØ\n              </Button>\n              <Button\n                onClick={() => setShowDetails(!showDetails)}\n                variant=\"outline\"\n                size=\"lg\"\n                className=\"w-full\"\n              >\n                {showDetails ? 'Hide' : 'Show'} Details\n              </Button>\n            </motion.div>\n          </CardContent>\n        </Card>\n      </motion.div>\n\n      {/* Detailed Answer Breakdown */}\n      {showDetails && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"space-y-3\"\n        >\n          <h3 className=\"text-lg font-semibold\">Answer Breakdown</h3>\n          {results.answers.map((answer: AnswerRecord, index: number) => (\n            <motion.div\n              key={index}\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: index * 0.05 }}\n            >\n              <Card\n                className={`${\n                  answer.isCorrect\n                    ? 'border-l-4 border-l-green-500 bg-green-50 dark:bg-green-950/20'\n                    : 'border-l-4 border-l-red-500 bg-red-50 dark:bg-red-950/20'\n                }`}\n              >\n                <CardContent className=\"pt-4 pb-4\">\n                  <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"font-semibold mb-1\">\n                        Question {index + 1}: {answer.question.questionText}\n                      </div>\n                      <div className=\"text-sm text-muted-foreground mb-2\">\n                        Scale: {SCALE_TYPE_NAMES[answer.question.scaleType]}\n                      </div>\n                      <div className=\"text-sm\">\n                        <span className=\"font-semibold\">Your answer:</span>{' '}\n                        <span className={answer.isCorrect ? 'text-green-600' : 'text-red-600'}>\n                          {answer.selectedAnswer}\n                        </span>\n                      </div>\n                      {!answer.isCorrect && (\n                        <div className=\"text-sm mt-1\">\n                          <span className=\"font-semibold\">Correct answer:</span>{' '}\n                          <span className=\"text-green-600\">{answer.question.correctAnswer}</span>\n                        </div>\n                      )}\n                    </div>\n                    <Badge\n                      variant={answer.isCorrect ? 'default' : 'destructive'}\n                      className=\"shrink-0 mt-1\"\n                    >\n                      {answer.isCorrect ? '‚úì Correct' : '‚úó Wrong'}\n                    </Badge>\n                  </div>\n                </CardContent>\n              </Card>\n            </motion.div>\n          ))}\n        </motion.div>\n      )}\n    </div>\n  );\n}\n","/**\n * Scales & Modes Quiz Container\n *\n * Main component that orchestrates the quiz flow:\n * 1. Scale selection\n * 2. Quiz game\n * 3. Results summary\n */\n\nimport { useState } from 'react';\nimport { ScaleSelector } from './ScaleSelector';\nimport { QuizGame, type QuizResults } from './QuizGame';\nimport { ResultsSummary } from './ResultsSummary';\nimport { type ScaleType } from '../../data/chord-scale-matrix';\n\ntype QuizStage = 'selection' | 'playing' | 'results';\n\nexport function ScalesModesQuiz(): JSX.Element {\n  const [stage, setStage] = useState<QuizStage>('selection');\n  const [selectedScales, setSelectedScales] = useState<ScaleType[]>(['major']);\n  const [results, setResults] = useState<QuizResults | null>(null);\n\n  const handleScalesSelected = (scales: ScaleType[]): void => {\n    setSelectedScales(scales);\n    setStage('playing');\n  };\n\n  const handleQuizComplete = (quizResults: QuizResults): void => {\n    setResults(quizResults);\n    setStage('results');\n  };\n\n  const handleRetry = (): void => {\n    setStage('selection');\n    setSelectedScales(['major']);\n    setResults(null);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 p-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-8 mt-8\">\n          <h1 className=\"text-4xl font-bold mb-2\">üéµ Scales & Modes Quiz</h1>\n          <p className=\"text-muted-foreground text-lg\">\n            Master the connection between scales, modes, and their chord qualities\n          </p>\n        </div>\n\n        {/* Content */}\n        <div className=\"mb-8\">\n          {stage === 'selection' && <ScaleSelector onScalesSelected={handleScalesSelected} />}\n          {stage === 'playing' && (\n            <QuizGame selectedScales={selectedScales} onQuizComplete={handleQuizComplete} />\n          )}\n          {stage === 'results' && results && (\n            <ResultsSummary results={results} onRetry={handleRetry} />\n          )}\n        </div>\n\n        {/* Footer */}\n        <div className=\"text-center text-sm text-muted-foreground mb-4\">\n          <p>\n            Tip: Study the 7 modes (Ionian, Dorian, Phrygian, Lydian, Mixolydian, Aeolian, Locrian) and\n            their parent scales.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createFileRoute } from '@tanstack/react-router'\nimport { ScalesModesQuiz } from '../components/ChordScaleGame/ScalesModesQuiz'\nimport { Button } from '@hudak/ui/components/button'\nimport { ArrowLeft } from 'lucide-react'\n\nexport const Route = createFileRoute('/scales-quiz')({\n  component: ScalesQuizPage,\n})\n\nfunction ScalesQuizPage() {\n  const navigate = Route.useNavigate()\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800\">\n      <div className=\"container mx-auto py-8 px-4\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => navigate({ to: '/' })}\n          className=\"mb-6 text-white border-white hover:bg-white/10\"\n        >\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\n          Back\n        </Button>\n        \n        <div className=\"bg-slate-800/50 backdrop-blur rounded-lg p-8 border border-slate-700\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Scales & Modes Quiz</h1>\n          <p className=\"text-slate-300 mb-8\">Master scale theory through interactive practice. Toggle between guitar and piano.</p>\n          \n          <ScalesModesQuiz />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["SCALE_OPTIONS","ScaleSelector","onScalesSelected","selectedScales","setSelectedScales","useState","difficulty","setDifficulty","handleDifficultyChange","newDifficulty","scales","toggleScale","scale","prev","s","handleStart","jsxs","Card","CardHeader","jsx","CardTitle","CardDescription","CardContent","level","Button","option","Badge","generateScaleQuizQuestion","allowedScaleTypes","availableScaleTypes","st","scaleType","degree","entry","getDegreeInfo","correctAnswer","modeName","incorrectOptions","m","options","validateAnswer","question","selectedAnswer","QuizGame","onQuizComplete","currentQuestion","setCurrentQuestion","setSelectedAnswer","isCorrect","setIsCorrect","score","setScore","streak","setStreak","answers","setAnswers","questionCount","setQuestionCount","quizStarted","setQuizStarted","useEffect","generateNextQuestion","handleAnswer","answer","correct","newScore","handleNextQuestion","SCALE_TYPE_NAMES","e","accuracy","progress","motion","AnimatePresence","index","isSelected","showCorrect","showIncorrect","variant","className","ResultsSummary","results","onRetry","showDetails","setShowDetails","isExcellent","isGood","feedbackMessage","feedbackColor","Confetti","ScalesModesQuiz","stage","setStage","setResults","handleScalesSelected","handleQuizComplete","quizResults","handleRetry","ScalesQuizPage","navigate","Route","useNavigate","to","ArrowLeft"],"mappings":"kXAgBA,MAAMA,EAA4E,CAChF,CAAE,MAAO,QAAS,MAAO,QAAS,YAAa,2BAAA,EAC/C,CAAE,MAAO,eAAgB,MAAO,gBAAiB,YAAa,4BAAA,EAC9D,CAAE,MAAO,eAAgB,MAAO,gBAAiB,YAAa,yBAAA,EAC9D,CAAE,MAAO,gBAAiB,MAAO,iBAAkB,YAAa,0BAAA,CAClE,EAEO,SAASC,EAAc,CAAE,iBAAAC,GAAqD,CACnF,KAAM,CAACC,EAAgBC,CAAiB,EAAIC,EAAAA,SAAsB,CAAC,OAAO,CAAC,EACrE,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAClC,cAAA,EAGIG,EACJC,GACS,CACTF,EAAcE,CAAa,EAE3B,IAAIC,EAAsB,CAAA,EACtBD,IAAkB,WACpBC,EAAS,CAAC,OAAO,EACRD,IAAkB,eAC3BC,EAAS,CAAC,QAAS,cAAc,EAEjCA,EAAS,CAAC,QAAS,eAAgB,eAAgB,eAAe,EAGpEN,EAAkBM,CAAM,CAC1B,EAEMC,EAAeC,GAA2B,CAC9CR,EAAkBS,GACZA,EAAK,SAASD,CAAK,EAEjBC,EAAK,SAAW,EAAUA,EACvBA,EAAK,OAAOC,GAAKA,IAAMF,CAAK,EAE9B,CAAC,GAAGC,EAAMD,CAAK,CACvB,CACH,EAEMG,EAAc,IAAY,CAC1BZ,EAAe,OAAS,GAC1BD,EAAiBC,CAAc,CAEnC,EAEA,OACEa,EAAAA,KAACC,EAAA,CAAK,UAAU,0BACd,SAAA,CAAAD,OAACE,EAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAU,SAAA,qBAAA,CAAmB,EAC9BD,EAAAA,IAACE,GAAgB,SAAA,6CAAA,CAA2C,CAAA,EAC9D,EACAL,EAAAA,KAACM,EAAA,CAAY,UAAU,YAErB,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAG,EAAAA,IAAC,QAAA,CAAM,UAAU,wBAAwB,SAAA,qBAAkB,EAC3DA,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACX,SAAA,CAAC,WAAY,eAAgB,UAAU,EAAY,IAAII,GACvDJ,EAAAA,IAACK,EAAA,CAEC,QAASlB,IAAeiB,EAAQ,UAAY,UAC5C,KAAK,KACL,QAAS,IAAMf,EAAuBe,CAAK,EAC3C,UAAU,aAET,SAAAA,CAAA,EANIA,CAAA,CAQR,CAAA,CACH,CAAA,EACF,EAGAP,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAG,EAAAA,IAAC,QAAA,CAAM,UAAU,wBAAwB,SAAA,iBAAc,QACtD,MAAA,CAAI,UAAU,YACZ,SAAAnB,EAAc,IAAIyB,GACjBT,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAML,EAAYc,EAAO,KAAK,EACvC,UAAW,2DACTtB,EAAe,SAASsB,EAAO,KAAK,EAChC,8CACA,4DACN,GAEA,SAAA,CAAAN,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAiB,SAAAM,EAAO,MAAM,EAC7CN,EAAAA,IAAC,MAAA,CAAI,UAAU,2CAA4C,WAAO,YAAY,EAC7EhB,EAAe,SAASsB,EAAO,KAAK,GACnCN,EAAAA,IAACO,EAAA,CAAM,UAAU,mBAAmB,SAAA,UAAA,CAAQ,CAAA,CAAA,EAXzCD,EAAO,KAAA,CAcf,CAAA,CACH,CAAA,EACF,EAGAT,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAG,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA6B,SAAA,YAAS,EACrDA,MAAC,MAAA,CAAI,UAAU,uBACZ,WAAe,OAAS,EACvBhB,EAAe,OACbgB,EAAAA,IAACO,EAAA,CAAkB,QAAQ,YAAY,UAAU,aAC9C,SAAAd,IAAU,eACP,gBACAA,IAAU,eACR,gBACAA,IAAU,gBACR,iBACA,OAAA,EAPEA,CAQZ,CACD,EAEDO,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,qCAAyB,CAAA,CAErE,CAAA,EACF,EAGAA,EAAAA,IAACK,EAAA,CACC,QAAST,EACT,SAAUZ,EAAe,SAAW,EACpC,KAAK,KACL,UAAU,SACX,SAAA,cAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,CAEJ,CC1HO,SAASwB,EACdC,EAAiC,CAAC,QAAS,eAAgB,eAAgB,eAAe,EAC5E,CAEd,MAAMC,EAAsBD,EAAkB,OAAOE,GAAMA,CAAE,EAE7D,GAAID,EAAoB,SAAW,EACjC,MAAM,IAAI,MAAM,+BAA+B,EAIjD,MAAME,EAAYF,EAChB,KAAK,MAAM,KAAK,OAAA,EAAWA,EAAoB,MAAM,CACvD,EAGMG,EAAU,KAAK,MAAM,KAAK,OAAA,EAAW,CAAC,EAAI,EAG1CC,EAAQC,EAAcH,EAAWC,CAAM,EAC7C,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,sBAAsBF,CAAS,WAAWC,CAAM,EAAE,EAGpE,MAAMG,EAAgBF,EAAM,SACtBG,EAAWH,EAAM,SAajBI,EAVW,CACf,SACA,SACA,WACA,SACA,aACA,UACA,SAAA,EAIC,OAAOC,GAAKA,IAAMH,CAAa,EAC/B,KAAK,IAAM,KAAK,SAAW,EAAG,EAC9B,MAAM,EAAG,CAAC,EAEPI,EAAU,CAACJ,EAAe,GAAGE,CAAgB,EAAE,KAAK,IAAM,KAAK,OAAA,EAAW,EAAG,EAEnF,MAAO,CACL,UAAAN,EACA,OAAAC,EACA,cAAAG,EACA,SAAAC,EACA,QAAAG,EACA,aAAc,0BAA0BP,CAAM,OAAOD,CAAS,GAAA,CAElE,CAmBO,SAASS,EAAeC,EAAwBC,EAAiC,CACtF,OAAOA,IAAmBD,EAAS,aACrC,CC7DO,SAASE,EAAS,CAAE,eAAAxC,EAAgB,eAAAyC,GAA8C,CACvF,KAAM,CAACC,EAAiBC,CAAkB,EAAIzC,EAAAA,SAA8B,IAAI,EAC1E,CAACqC,EAAgBK,CAAiB,EAAI1C,EAAAA,SAAwB,IAAI,EAClE,CAAC2C,EAAWC,CAAY,EAAI5C,EAAAA,SAAyB,IAAI,EACzD,CAAC6C,EAAOC,CAAQ,EAAI9C,EAAAA,SAAS,CAAE,QAAS,EAAG,MAAO,EAAG,EACrD,CAAC+C,EAAQC,CAAS,EAAIhD,EAAAA,SAAS,CAAC,EAChC,CAACiD,EAASC,CAAU,EAAIlD,EAAAA,SAAyB,CAAA,CAAE,EACnD,CAACmD,EAAeC,CAAgB,EAAIpD,EAAAA,SAAS,EAAE,EAC/C,CAACqD,EAAaC,CAAc,EAAItD,EAAAA,SAAS,EAAK,EAGpDuD,EAAAA,UAAU,IAAM,CACd,GAAIF,GAAe,CAACb,EAAiB,CACnC,MAAMJ,EAAWd,EAA0BxB,CAAc,EACzD2C,EAAmBL,CAAQ,CAC7B,CAEF,EAAG,CAACiB,CAAW,CAAC,EAEhB,MAAMG,EAAuB,IAAY,CACvC,MAAMpB,EAAWd,EAA0BxB,CAAc,EACzD2C,EAAmBL,CAAQ,EAC3BM,EAAkB,IAAI,EACtBE,EAAa,IAAI,CACnB,EAEMa,EAAgBC,GAAyB,CAG7C,GAFIrB,GAEA,CAACG,EAAiB,OAEtBE,EAAkBgB,CAAM,EACxB,MAAMC,EAAUxB,EAAeK,EAAiBkB,CAAM,EACtDd,EAAae,CAAO,EAEpB,MAAMC,EAAW,CACf,QAASf,EAAM,SAAWc,EAAU,EAAI,GACxC,MAAOd,EAAM,MAAQ,CAAA,EAEvBC,EAASc,CAAQ,EACjBZ,EAAUW,EAAUZ,EAAS,EAAI,CAAC,EAGlCG,EAAW1C,GAAQ,CACjB,GAAGA,EACH,CACE,SAAUgC,EACV,eAAgBkB,EAChB,UAAWC,CAAA,CACb,CACD,EAGGC,EAAS,OAAST,GACpB,WAAW,IAAM,CACfZ,EAAe,CACb,eAAgBqB,EAAS,MACzB,eAAgBA,EAAS,QACzB,iBAAkBA,EAAS,MAAQA,EAAS,QAC5C,SAAWA,EAAS,QAAUA,EAAS,MAAS,IAChD,QAAAX,CAAA,CACD,CACH,EAAG,IAAI,CAEX,EAEMY,EAAqB,IAAY,CACrCL,EAAA,CACF,EAEA,GAAI,CAACH,EACH,OACE1C,EAAAA,KAACC,EAAA,CAAK,UAAU,0BACd,SAAA,CAAAD,OAACE,EAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAU,SAAA,iBAAA,CAAe,SACzBC,EAAA,CAAgB,SAAA,CAAA,UAAQmC,EAAc,mCAAA,CAAA,CAAiC,CAAA,EAC1E,EACAxC,EAAAA,KAACM,EAAA,CAAY,UAAU,YACrB,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAG,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA6B,SAAA,mBAAgB,QAC3D,MAAA,CAAI,UAAU,uBACZ,SAAAhB,EAAe,OACdgB,MAACO,EAAA,CAAkB,QAAQ,YAAY,UAAU,aAC9C,SAAAyC,EAAiBvD,CAAK,CAAA,EADbA,CAEZ,CACD,CAAA,CACH,CAAA,EACF,EAEAI,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAG,EAAAA,IAAC,QAAA,CAAM,UAAU,wBAAwB,SAAA,sBAAmB,EAC5DH,EAAAA,KAAC,SAAA,CACC,MAAOwC,EACP,SAAUY,GAAKX,EAAiB,SAASW,EAAE,OAAO,KAAK,CAAC,EACxD,UAAU,gDAEV,SAAA,CAAAjD,EAAAA,IAAC,SAAA,CAAO,MAAM,IAAI,SAAA,cAAW,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,eAAY,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,eAAY,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,cAAA,CAAY,CAAA,CAAA,CAAA,CACjC,EACF,EAEAA,EAAAA,IAACK,EAAA,CAAO,QAAS,IAAMmC,EAAe,EAAI,EAAG,KAAK,KAAK,UAAU,SAAS,SAAA,cAAA,CAE1E,CAAA,CAAA,CACF,CAAA,EACF,EAIJ,GAAI,CAACd,EACH,OAAO1B,EAAAA,IAAC,MAAA,CAAI,UAAU,kBAAkB,SAAA,sBAAmB,EAG7D,MAAMkD,EAAWnB,EAAM,MAAQ,EAAI,KAAK,MAAOA,EAAM,QAAUA,EAAM,MAAS,GAAG,EAAI,EAC/EoB,EAAYpB,EAAM,MAAQM,EAAiB,IAEjD,OACExC,EAAAA,KAAC,MAAA,CAAI,UAAU,8BAEb,SAAA,CAAAG,EAAAA,IAAC,MAAA,CAAI,UAAU,uDACb,SAAAA,EAAAA,IAACoD,EAAO,IAAP,CACC,UAAU,+BACV,QAAS,CAAE,MAAO,CAAA,EAClB,QAAS,CAAE,MAAO,GAAGD,CAAQ,GAAA,EAC7B,WAAY,CAAE,SAAU,EAAA,CAAI,CAAA,EAEhC,EAGAtD,EAAAA,KAAC,MAAA,CAAI,UAAU,4BACb,SAAA,CAAAG,EAAAA,IAACF,GAAK,UAAU,SACd,SAAAD,EAAAA,KAACM,EAAA,CAAY,UAAU,wBACrB,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,wDACZ,SAAA,CAAAkC,EAAM,QAAQ,IAAEA,EAAM,KAAA,EACzB,EACA/B,EAAAA,IAAC,MAAA,CAAI,UAAU,gCAAgC,SAAA,SAAA,CAAO,CAAA,CAAA,CACxD,CAAA,CACF,QACCF,EAAA,CAAK,UAAU,SACd,SAAAD,EAAAA,KAACM,EAAA,CAAY,UAAU,wBACrB,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,sDACZ,SAAA,CAAAqD,EAAS,GAAA,EACZ,EACAlD,EAAAA,IAAC,MAAA,CAAI,UAAU,gCAAgC,SAAA,UAAA,CAAQ,CAAA,CAAA,CACzD,CAAA,CACF,QACCF,EAAA,CAAK,UAAU,SACd,SAAAD,EAAAA,KAACM,EAAA,CAAY,UAAU,wBACrB,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,0DACZ,SAAAiC,EACH,EACAjC,EAAAA,IAAC,MAAA,CAAI,UAAU,gCAAgC,SAAA,QAAA,CAAM,CAAA,CAAA,CACvD,CAAA,CACF,CAAA,EACF,EAGAH,EAAAA,KAACC,EAAA,CAAK,UAAU,WACd,SAAA,CAAAD,EAAAA,KAACE,EAAA,CAAW,UAAU,OACpB,SAAA,CAAAF,EAAAA,KAACU,EAAA,CAAM,QAAQ,UAAU,UAAU,aAAa,SAAA,CAAA,YACpCwB,EAAM,MAAQ,EAAE,OAAKM,CAAA,EACjC,EACArC,EAAAA,IAACC,EAAA,CAAU,UAAU,WAAY,WAAgB,aAAa,SAC7DC,EAAA,CAAgB,SAAA,CAAA,eACF8C,EAAiBtB,EAAgB,SAAS,CAAA,CAAA,CACzD,CAAA,EACF,EACA7B,EAAAA,KAACM,EAAA,CAAY,UAAU,YAErB,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACb,SAAAA,EAAAA,IAACqD,EAAA,CAAgB,KAAK,OACnB,SAAA3B,EAAgB,QAAQ,IAAI,CAACpB,EAAQgD,IAAU,CAC9C,MAAMC,EAAahC,IAAmBjB,EAChCkD,EAAcjC,GAAkBjB,IAAWoB,EAAgB,cAC3D+B,EAAgBlC,GAAkBgC,GAAc,CAAC1B,EAEvD,IAAI6B,EAA+C,UAC/CC,EAAY,4CAEhB,OAAIH,EACFG,GAAa,+DACJF,EACTE,GAAa,yDACJJ,IACTG,EAAU,aAIV1D,EAAAA,IAACoD,EAAO,IAAP,CAEC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,MAAOE,EAAQ,GAAA,EAE7B,SAAAtD,EAAAA,IAACK,EAAA,CACC,QAAAqD,EACA,UAAAC,EACA,QAAS,IAAMhB,EAAarC,CAAM,EAClC,SAAU,CAAC,CAACiB,EAEX,SAAAjB,CAAA,CAAA,CACH,EAZKA,CAAA,CAeX,CAAC,EACH,EACF,EAGAN,EAAAA,IAACqD,EAAA,CAAgB,KAAK,OACnB,SAAA9B,GACC1B,EAAAA,KAACuD,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,OAAQ,CAAA,EAC/B,QAAS,CAAE,QAAS,EAAG,OAAQ,MAAA,EAC/B,KAAM,CAAE,QAAS,EAAG,OAAQ,CAAA,EAC5B,UAAU,YAET,SAAA,CAAAvB,EACChC,EAAAA,KAAC,MAAA,CAAI,UAAU,4EACb,SAAA,CAAAG,EAAAA,IAAC,MAAA,CAAI,UAAU,mDAAmD,SAAA,aAElE,EACAH,EAAAA,KAAC,MAAA,CAAI,UAAU,kDACZ,SAAA,CAAA6B,EAAgB,cAAc,WAASA,EAAgB,OAAO,aAAW,IACzEsB,EAAiBtB,EAAgB,SAAS,CAAA,CAAA,CAC7C,CAAA,CAAA,CACF,EAEA7B,EAAAA,KAAC,MAAA,CAAI,UAAU,sEACb,SAAA,CAAAG,EAAAA,IAAC,MAAA,CAAI,UAAU,+CAA+C,SAAA,cAE9D,EACAH,EAAAA,KAAC,MAAA,CAAI,UAAU,8CAA8C,SAAA,CAAA,yBACrCG,EAAAA,IAAC,SAAA,CAAQ,SAAA0B,EAAgB,aAAA,CAAc,EAAS,KACrEA,EAAgB,OAAO,gBAAcsB,EAAiBtB,EAAgB,SAAS,EAAE,GAAA,CAAA,CAEpF,CAAA,EACF,EAGDK,EAAM,MAAQM,GACbrC,EAAAA,IAACK,EAAA,CAAO,QAAS0C,EAAoB,KAAK,KAAK,UAAU,SAAS,SAAA,iBAAA,CAElE,CAAA,CAAA,CAAA,CAEJ,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CC/QO,SAASa,EAAe,CAAE,QAAAC,EAAS,QAAAC,GAA6C,CACrF,KAAM,CAACC,EAAaC,CAAc,EAAI9E,EAAAA,SAAS,EAAK,EAC9C+E,EAAcJ,EAAQ,UAAY,GAClCK,EAASL,EAAQ,UAAY,GAEnC,IAAIM,EAAkB,GAClBC,EAAgB,GAEpB,OAAIH,GACFE,EAAkB,oEAClBC,EAAgB,wCACPF,GACTC,EAAkB,iEAClBC,EAAgB,uCAEhBD,EAAkB,sEAClBC,EAAgB,oCAIhBvE,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACZ,SAAA,CAAAoE,GAAejE,EAAAA,IAACqE,EAAA,CAAS,eAAgB,IAAK,QAAS,GAAO,EAG/DrE,EAAAA,IAACoD,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,GAAK,QAAS,CAAA,EAChC,QAAS,CAAE,MAAO,EAAG,QAAS,CAAA,EAC9B,WAAY,CAAE,SAAU,EAAA,EAExB,SAAAvD,EAAAA,KAACC,EAAA,CAAK,UAAU,WACd,SAAA,CAAAD,EAAAA,KAACE,EAAA,CAAW,UAAU,cACpB,SAAA,CAAAC,MAACO,EAAA,CAAM,QAAQ,YAAY,UAAU,qBAAqB,SAAA,gBAE1D,EACAV,EAAAA,KAACI,EAAA,CAAU,UAAU,WAClB,SAAA,CAAA4D,EAAQ,eAAe,IAAEA,EAAQ,cAAA,EACpC,EACAhE,EAAAA,KAACK,EAAA,CAAgB,UAAU,UAAW,SAAA,CAAA2D,EAAQ,SAAS,QAAQ,CAAC,EAAE,YAAA,CAAA,CAAU,CAAA,EAC9E,EACAhE,EAAAA,KAACM,EAAA,CAAY,UAAU,YAErB,SAAA,CAAAH,EAAAA,IAACoD,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,MAAO,EAAA,EACrB,UAAW,qCAAqCgB,CAAa,GAE5D,SAAAD,CAAA,CAAA,EAIHtE,EAAAA,KAACuD,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,WAAY,CAAE,MAAO,EAAA,EACrB,UAAU,yBAEV,SAAA,CAAApD,MAACF,EAAA,CACC,SAAAD,EAAAA,KAACM,EAAA,CAAY,UAAU,wBACrB,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,wDACZ,SAAA6D,EAAQ,eACX,EACA7D,EAAAA,IAAC,MAAA,CAAI,UAAU,qCAAqC,SAAA,SAAA,CAAO,CAAA,CAAA,CAC7D,CAAA,CACF,EACAA,MAACF,EAAA,CACC,SAAAD,EAAAA,KAACM,EAAA,CAAY,UAAU,wBACrB,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,oDACZ,SAAA6D,EAAQ,iBACX,EACA7D,EAAAA,IAAC,MAAA,CAAI,UAAU,qCAAqC,SAAA,WAAA,CAAS,CAAA,CAAA,CAC/D,CAAA,CACF,EACAA,MAACF,EAAA,CACC,SAAAD,EAAAA,KAACM,EAAA,CAAY,UAAU,wBACrB,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,sDACZ,SAAA,CAAAgE,EAAQ,SAAS,QAAQ,CAAC,EAAE,GAAA,EAC/B,EACA7D,EAAAA,IAAC,MAAA,CAAI,UAAU,qCAAqC,SAAA,UAAA,CAAQ,CAAA,CAAA,CAC9D,CAAA,CACF,CAAA,CAAA,CAAA,EAIFH,EAAAA,KAACuD,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,MAAO,EAAA,EACrB,UAAU,YAEV,SAAA,CAAApD,EAAAA,IAACK,GAAO,QAASyD,EAAS,KAAK,KAAK,UAAU,SAAS,SAAA,cAAA,CAEvD,EACAjE,EAAAA,KAACQ,EAAA,CACC,QAAS,IAAM2D,EAAe,CAACD,CAAW,EAC1C,QAAQ,UACR,KAAK,KACL,UAAU,SAET,SAAA,CAAAA,EAAc,OAAS,OAAO,UAAA,CAAA,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAIDA,GACClE,EAAAA,KAACuD,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,UAAU,YAEV,SAAA,CAAApD,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,mBAAgB,EACrD6D,EAAQ,QAAQ,IAAI,CAACjB,EAAsBU,IAC1CtD,EAAAA,IAACoD,EAAO,IAAP,CAEC,QAAS,CAAE,QAAS,EAAG,EAAG,GAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,MAAOE,EAAQ,GAAA,EAE7B,SAAAtD,EAAAA,IAACF,EAAA,CACC,UAAW,GACT8C,EAAO,UACH,iEACA,0DACN,GAEA,eAACzC,EAAA,CAAY,UAAU,YACrB,SAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qBAAqB,SAAA,CAAA,YACxByD,EAAQ,EAAE,KAAGV,EAAO,SAAS,YAAA,EACzC,EACA/C,EAAAA,KAAC,MAAA,CAAI,UAAU,qCAAqC,SAAA,CAAA,UAC1CmD,EAAiBJ,EAAO,SAAS,SAAS,CAAA,EACpD,EACA/C,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAG,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,eAAY,EAAQ,IACpDA,EAAAA,IAAC,QAAK,UAAW4C,EAAO,UAAY,iBAAmB,eACpD,WAAO,cAAA,CACV,CAAA,EACF,EACC,CAACA,EAAO,WACP/C,EAAAA,KAAC,MAAA,CAAI,UAAU,eACb,SAAA,CAAAG,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,kBAAe,EAAQ,UACtD,OAAA,CAAK,UAAU,iBAAkB,SAAA4C,EAAO,SAAS,aAAA,CAAc,CAAA,CAAA,CAClE,CAAA,EAEJ,EACA5C,EAAAA,IAACO,EAAA,CACC,QAASqC,EAAO,UAAY,UAAY,cACxC,UAAU,gBAET,SAAAA,EAAO,UAAY,YAAc,SAAA,CAAA,CACpC,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,EA1CKU,CAAA,CA4CR,CAAA,CAAA,CAAA,CACH,EAEJ,CAEJ,CCxKO,SAASgB,GAA+B,CAC7C,KAAM,CAACC,EAAOC,CAAQ,EAAItF,EAAAA,SAAoB,WAAW,EACnD,CAACF,EAAgBC,CAAiB,EAAIC,EAAAA,SAAsB,CAAC,OAAO,CAAC,EACrE,CAAC2E,EAASY,CAAU,EAAIvF,EAAAA,SAA6B,IAAI,EAEzDwF,EAAwBnF,GAA8B,CAC1DN,EAAkBM,CAAM,EACxBiF,EAAS,SAAS,CACpB,EAEMG,EAAsBC,GAAmC,CAC7DH,EAAWG,CAAW,EACtBJ,EAAS,SAAS,CACpB,EAEMK,EAAc,IAAY,CAC9BL,EAAS,WAAW,EACpBvF,EAAkB,CAAC,OAAO,CAAC,EAC3BwF,EAAW,IAAI,CACjB,EAEA,aACG,MAAA,CAAI,UAAU,kGACb,SAAA5E,EAAAA,KAAC,MAAA,CAAI,UAAU,oBAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAG,EAAAA,IAAC,KAAA,CAAG,UAAU,0BAA0B,SAAA,yBAAsB,EAC9DA,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,wEAAA,CAE7C,CAAA,EACF,EAGAH,EAAAA,KAAC,MAAA,CAAI,UAAU,OACZ,SAAA,CAAA0E,IAAU,aAAevE,EAAAA,IAAClB,EAAA,CAAc,iBAAkB4F,EAAsB,EAChFH,IAAU,WACTvE,MAACwB,EAAA,CAAS,eAAAxC,EAAgC,eAAgB2F,EAAoB,EAE/EJ,IAAU,WAAaV,SACrBD,EAAA,CAAe,QAAAC,EAAkB,QAASgB,CAAA,CAAa,CAAA,EAE5D,QAGC,MAAA,CAAI,UAAU,iDACb,SAAA7E,EAAAA,IAAC,IAAA,CAAE,4HAGH,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,CC7DA,SAAS8E,IAAiB,CACxB,MAAMC,EAAWC,EAAMC,YAAAA,EAEvB,aACG,MAAA,CAAI,UAAU,6DACb,SAAApF,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,OAACQ,GACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAM0E,EAAS,CAAEG,GAAI,GAAA,CAAK,EACnC,UAAU,iDAEV,SAAA,CAAAlF,EAAAA,IAACmF,EAAA,CAAU,UAAU,cAAA,CAAc,EAAA,MAAA,EAErC,EAEAtF,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACb,SAAA,CAAAG,EAAAA,IAAC,KAAA,CAAG,UAAU,qCAAqC,SAAA,sBAAmB,EACtEA,EAAAA,IAAC,IAAA,CAAE,UAAU,sBAAsB,SAAA,qFAAkF,QAEpHsE,EAAA,CAAA,CAAe,CAAA,CAAA,CAClB,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}